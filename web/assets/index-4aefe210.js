(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Oo={},Vv={get exports(){return Oo},set exports(e){Oo=e}},ca={},b={},Wv={get exports(){return b},set exports(e){b=e}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),jv=Symbol.for("react.portal"),Gv=Symbol.for("react.fragment"),Kv=Symbol.for("react.strict_mode"),Xv=Symbol.for("react.profiler"),Yv=Symbol.for("react.provider"),Qv=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),Jv=Symbol.for("react.memo"),e1=Symbol.for("react.lazy"),Id=Symbol.iterator;function t1(e){return e===null||typeof e!="object"?null:(e=Id&&e[Id]||e["@@iterator"],typeof e=="function"?e:null)}var og={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sg=Object.assign,lg={};function Mi(e,t,n){this.props=e,this.context=t,this.refs=lg,this.updater=n||og}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ag(){}ag.prototype=Mi.prototype;function of(e,t,n){this.props=e,this.context=t,this.refs=lg,this.updater=n||og}var sf=of.prototype=new ag;sf.constructor=of;sg(sf,Mi.prototype);sf.isPureReactComponent=!0;var Md=Array.isArray,ug=Object.prototype.hasOwnProperty,lf={current:null},cg={key:!0,ref:!0,__self:!0,__source:!0};function fg(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)ug.call(t,r)&&!cg.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ls,type:e,key:o,ref:s,props:i,_owner:lf.current}}function n1(e,t){return{$$typeof:ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function af(e){return typeof e=="object"&&e!==null&&e.$$typeof===ls}function r1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bd=/\/+/g;function Xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r1(""+e.key):t.toString(36)}function Xs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ls:case jv:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Xa(s,0):r,Md(i)?(n="",e!=null&&(n=e.replace(bd,"$&/")+"/"),Xs(i,t,n,"",function(u){return u})):i!=null&&(af(i)&&(i=n1(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(bd,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Md(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Xa(o,l);s+=Xs(o,t,n,a,i)}else if(a=t1(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Xa(o,l++),s+=Xs(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function vs(e,t,n){if(e==null)return e;var r=[],i=0;return Xs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function i1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Ys={transition:null},o1={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Ys,ReactCurrentOwner:lf};q.Children={map:vs,forEach:function(e,t,n){vs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vs(e,function(){t++}),t},toArray:function(e){return vs(e,function(t){return t})||[]},only:function(e){if(!af(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Mi;q.Fragment=Gv;q.Profiler=Xv;q.PureComponent=of;q.StrictMode=Kv;q.Suspense=Zv;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sg({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=lf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)ug.call(t,a)&&!cg.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ls,type:e.type,key:i,ref:o,props:r,_owner:s}};q.createContext=function(e){return e={$$typeof:Qv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yv,_context:e},e.Consumer=e};q.createElement=fg;q.createFactory=function(e){var t=fg.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:qv,render:e}};q.isValidElement=af;q.lazy=function(e){return{$$typeof:e1,_payload:{_status:-1,_result:e},_init:i1}};q.memo=function(e,t){return{$$typeof:Jv,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Ys.transition;Ys.transition={};try{e()}finally{Ys.transition=t}};q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};q.useCallback=function(e,t){return Ge.current.useCallback(e,t)};q.useContext=function(e){return Ge.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};q.useEffect=function(e,t){return Ge.current.useEffect(e,t)};q.useId=function(){return Ge.current.useId()};q.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Ge.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};q.useRef=function(e){return Ge.current.useRef(e)};q.useState=function(e){return Ge.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Ge.current.useTransition()};q.version="18.2.0";(function(e){e.exports=q})(Wv);const s1=rf(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=b,a1=Symbol.for("react.element"),u1=Symbol.for("react.fragment"),c1=Object.prototype.hasOwnProperty,f1=l1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d1={key:!0,ref:!0,__self:!0,__source:!0};function dg(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)c1.call(t,r)&&!d1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:a1,type:e,key:o,ref:s,props:i,_owner:f1.current}}ca.Fragment=u1;ca.jsx=dg;ca.jsxs=dg;(function(e){e.exports=ca})(Vv);const ke=Oo.Fragment,_=Oo.jsx,Y=Oo.jsxs;var $u={},Io={},h1={get exports(){return Io},set exports(e){Io=e}},ut={},Fu={},p1={get exports(){return Fu},set exports(e){Fu=e}},hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,O){var A=x.length;x.push(O);e:for(;0<A;){var $=A-1>>>1,U=x[$];if(0<i(U,O))x[$]=O,x[A]=U,A=$;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var O=x[0],A=x.pop();if(A!==O){x[0]=A;e:for(var $=0,U=x.length,j=U>>>1;$<j;){var G=2*($+1)-1,Q=x[G],J=G+1,ee=x[J];if(0>i(Q,A))J<U&&0>i(ee,Q)?(x[$]=ee,x[J]=A,$=J):(x[$]=Q,x[G]=A,$=G);else if(J<U&&0>i(ee,A))x[$]=ee,x[J]=A,$=J;else break e}}return O}function i(x,O){var A=x.sortIndex-O.sortIndex;return A!==0?A:x.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,g=!1,S=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(x){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=x)r(u),O.sortIndex=O.expirationTime,t(a,O);else break;O=n(u)}}function v(x){if(w=!1,m(x),!S)if(n(a)!==null)S=!0,T(k);else{var O=n(u);O!==null&&y(v,O.startTime-x)}}function k(x,O){S=!1,w&&(w=!1,h(M),M=-1),g=!0;var A=d;try{for(m(O),f=n(a);f!==null&&(!(f.expirationTime>O)||x&&!z());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var U=$(f.expirationTime<=O);O=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(a)&&r(a),m(O)}else r(a);f=n(a)}if(f!==null)var j=!0;else{var G=n(u);G!==null&&y(v,G.startTime-O),j=!1}return j}finally{f=null,d=A,g=!1}}var E=!1,N=null,M=-1,D=5,L=-1;function z(){return!(e.unstable_now()-L<D)}function R(){if(N!==null){var x=e.unstable_now();L=x;var O=!0;try{O=N(!0,x)}finally{O?B():(E=!1,N=null)}}else E=!1}var B;if(typeof p=="function")B=function(){p(R)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,I=C.port2;C.port1.onmessage=R,B=function(){I.postMessage(null)}}else B=function(){P(R,0)};function T(x){N=x,E||(E=!0,B())}function y(x,O){M=P(function(){x(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,T(k))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(x){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var A=d;d=O;try{return x()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,O){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var A=d;d=x;try{return O()}finally{d=A}},e.unstable_scheduleCallback=function(x,O,A){var $=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?$+A:$):A=$,x){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=A+U,x={id:c++,callback:O,priorityLevel:x,startTime:A,expirationTime:U,sortIndex:-1},A>$?(x.sortIndex=A,t(u,x),n(a)===null&&x===n(u)&&(w?(h(M),M=-1):w=!0,y(v,A-$))):(x.sortIndex=U,t(a,x),S||g||(S=!0,T(k))),x},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(x){var O=d;return function(){var A=d;d=O;try{return x.apply(this,arguments)}finally{d=A}}}})(hg);(function(e){e.exports=hg})(p1);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=b,lt=Fu;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gg=new Set,Mo={};function Ar(e,t){wi(e,t),wi(e+"Capture",t)}function wi(e,t){for(Mo[e]=t,e=0;e<t.length;e++)gg.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=Object.prototype.hasOwnProperty,g1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ad={},Dd={};function m1(e){return zu.call(Dd,e)?!0:zu.call(Ad,e)?!1:g1.test(e)?Dd[e]=!0:(Ad[e]=!0,!1)}function y1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v1(e,t,n,r){if(t===null||typeof t>"u"||y1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var uf=/[\-:]([a-z])/g;function cf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uf,cf);Ae[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uf,cf);Ae[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uf,cf);Ae[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function ff(e,t,n,r){var i=Ae.hasOwnProperty(t)?Ae[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v1(t,n,i,r)&&(n=null),r||i===null?m1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ws=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),df=Symbol.for("react.strict_mode"),Uu=Symbol.for("react.profiler"),mg=Symbol.for("react.provider"),yg=Symbol.for("react.context"),hf=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Hu=Symbol.for("react.suspense_list"),pf=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),vg=Symbol.for("react.offscreen"),Rd=Symbol.iterator;function Gi(e){return e===null||typeof e!="object"?null:(e=Rd&&e[Rd]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Ya;function ao(e){if(Ya===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ya=t&&t[1]||""}return`
`+Ya+e}var Qa=!1;function qa(e,t){if(!e||Qa)return"";Qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Qa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ao(e):""}function w1(e){switch(e.tag){case 5:return ao(e.type);case 16:return ao("Lazy");case 13:return ao("Suspense");case 19:return ao("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Vu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case Gr:return"Portal";case Uu:return"Profiler";case df:return"StrictMode";case Bu:return"Suspense";case Hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yg:return(e.displayName||"Context")+".Consumer";case mg:return(e._context.displayName||"Context")+".Provider";case hf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pf:return t=e.displayName||null,t!==null?t:Vu(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Vu(e(t))}catch{}}return null}function S1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vu(t);case 8:return t===df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x1(e){var t=wg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=x1(e))}function Sg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wu(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ld(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xg(e,t){t=t.checked,t!=null&&ff(e,"checked",t,!1)}function ju(e,t){xg(e,t);var n=Kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gu(e,t.type,Kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $d(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gu(e,t,n){(t!=="number"||ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uo=Array.isArray;function li(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ku(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(uo(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kn(n)}}function Cg(e,t){var n=Kn(t.value),r=Kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Eg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Eg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,kg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C1=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(e){C1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yo[t]=yo[e]})});function _g(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yo.hasOwnProperty(e)&&yo[e]?(""+t).trim():t+"px"}function Ng(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_g(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var E1=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yu(e,t){if(t){if(E1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Qu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=null;function gf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zu=null,ai=null,ui=null;function Ud(e){if(e=cs(e)){if(typeof Zu!="function")throw Error(F(280));var t=e.stateNode;t&&(t=ga(t),Zu(e.stateNode,e.type,t))}}function Pg(e){ai?ui?ui.push(e):ui=[e]:ai=e}function Tg(){if(ai){var e=ai,t=ui;if(ui=ai=null,Ud(e),t)for(e=0;e<t.length;e++)Ud(t[e])}}function Og(e,t){return e(t)}function Ig(){}var Za=!1;function Mg(e,t,n){if(Za)return e(t,n);Za=!0;try{return Og(e,t,n)}finally{Za=!1,(ai!==null||ui!==null)&&(Ig(),Tg())}}function Ao(e,t){var n=e.stateNode;if(n===null)return null;var r=ga(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Ju=!1;if(dn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Ju=!1}function k1(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var vo=!1,yl=null,vl=!1,ec=null,_1={onError:function(e){vo=!0,yl=e}};function N1(e,t,n,r,i,o,s,l,a){vo=!1,yl=null,k1.apply(_1,arguments)}function P1(e,t,n,r,i,o,s,l,a){if(N1.apply(this,arguments),vo){if(vo){var u=yl;vo=!1,yl=null}else throw Error(F(198));vl||(vl=!0,ec=u)}}function Dr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bd(e){if(Dr(e)!==e)throw Error(F(188))}function T1(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Bd(i),e;if(o===r)return Bd(i),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Ag(e){return e=T1(e),e!==null?Dg(e):null}function Dg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dg(e);if(t!==null)return t;e=e.sibling}return null}var Rg=lt.unstable_scheduleCallback,Hd=lt.unstable_cancelCallback,O1=lt.unstable_shouldYield,I1=lt.unstable_requestPaint,me=lt.unstable_now,M1=lt.unstable_getCurrentPriorityLevel,mf=lt.unstable_ImmediatePriority,Lg=lt.unstable_UserBlockingPriority,wl=lt.unstable_NormalPriority,b1=lt.unstable_LowPriority,$g=lt.unstable_IdlePriority,fa=null,Wt=null;function A1(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(fa,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:L1,D1=Math.log,R1=Math.LN2;function L1(e){return e>>>=0,e===0?32:31-(D1(e)/R1|0)|0}var Cs=64,Es=4194304;function co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=co(l):(o&=s,o!==0&&(r=co(o)))}else s=n&~i,s!==0?r=co(s):o!==0&&(r=co(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ot(t),i=1<<n,r|=e[n],t&=~i;return r}function $1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ot(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=$1(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function tc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fg(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function Ja(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function as(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=n}function z1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ot(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function yf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ne=0;function zg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ug,vf,Bg,Hg,Vg,nc=!1,ks=[],Ln=null,$n=null,Fn=null,Do=new Map,Ro=new Map,Nn=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vd(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Do.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(t.pointerId)}}function Xi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=cs(t),t!==null&&vf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function B1(e,t,n,r,i){switch(t){case"focusin":return Ln=Xi(Ln,e,t,n,r,i),!0;case"dragenter":return $n=Xi($n,e,t,n,r,i),!0;case"mouseover":return Fn=Xi(Fn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Do.set(o,Xi(Do.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ro.set(o,Xi(Ro.get(o)||null,e,t,n,r,i)),!0}return!1}function Wg(e){var t=ar(e.target);if(t!==null){var n=Dr(t);if(n!==null){if(t=n.tag,t===13){if(t=bg(n),t!==null){e.blockedOn=t,Vg(e.priority,function(){Bg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qu=r,n.target.dispatchEvent(r),qu=null}else return t=cs(n),t!==null&&vf(t),e.blockedOn=n,!1;t.shift()}return!0}function Wd(e,t,n){Qs(e)&&n.delete(t)}function H1(){nc=!1,Ln!==null&&Qs(Ln)&&(Ln=null),$n!==null&&Qs($n)&&($n=null),Fn!==null&&Qs(Fn)&&(Fn=null),Do.forEach(Wd),Ro.forEach(Wd)}function Yi(e,t){e.blockedOn===t&&(e.blockedOn=null,nc||(nc=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,H1)))}function Lo(e){function t(i){return Yi(i,e)}if(0<ks.length){Yi(ks[0],e);for(var n=1;n<ks.length;n++){var r=ks[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ln!==null&&Yi(Ln,e),$n!==null&&Yi($n,e),Fn!==null&&Yi(Fn,e),Do.forEach(t),Ro.forEach(t),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)Wg(n),n.blockedOn===null&&Nn.shift()}var ci=yn.ReactCurrentBatchConfig,xl=!0;function V1(e,t,n,r){var i=ne,o=ci.transition;ci.transition=null;try{ne=1,wf(e,t,n,r)}finally{ne=i,ci.transition=o}}function W1(e,t,n,r){var i=ne,o=ci.transition;ci.transition=null;try{ne=4,wf(e,t,n,r)}finally{ne=i,ci.transition=o}}function wf(e,t,n,r){if(xl){var i=rc(e,t,n,r);if(i===null)uu(e,t,r,Cl,n),Vd(e,r);else if(B1(i,e,t,n,r))r.stopPropagation();else if(Vd(e,r),t&4&&-1<U1.indexOf(e)){for(;i!==null;){var o=cs(i);if(o!==null&&Ug(o),o=rc(e,t,n,r),o===null&&uu(e,t,r,Cl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else uu(e,t,r,null,n)}}var Cl=null;function rc(e,t,n,r){if(Cl=null,e=gf(r),e=ar(e),e!==null)if(t=Dr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cl=e,null}function jg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M1()){case mf:return 1;case Lg:return 4;case wl:case b1:return 16;case $g:return 536870912;default:return 16}default:return 16}}var On=null,Sf=null,qs=null;function Gg(){if(qs)return qs;var e,t=Sf,n=t.length,r,i="value"in On?On.value:On.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return qs=i.slice(e,1<r?1-r:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function jd(){return!1}function ct(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_s:jd,this.isPropagationStopped=jd,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xf=ct(bi),us=ce({},bi,{view:0,detail:0}),j1=ct(us),eu,tu,Qi,da=ce({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(eu=e.screenX-Qi.screenX,tu=e.screenY-Qi.screenY):tu=eu=0,Qi=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),Gd=ct(da),G1=ce({},da,{dataTransfer:0}),K1=ct(G1),X1=ce({},us,{relatedTarget:0}),nu=ct(X1),Y1=ce({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Q1=ct(Y1),q1=ce({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Z1=ct(q1),J1=ce({},bi,{data:0}),Kd=ct(J1),ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nw[e])?!!t[e]:!1}function Cf(){return rw}var iw=ce({},us,{key:function(e){if(e.key){var t=ew[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ow=ct(iw),sw=ce({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=ct(sw),lw=ce({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),aw=ct(lw),uw=ce({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cw=ct(uw),fw=ce({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dw=ct(fw),hw=[9,13,27,32],Ef=dn&&"CompositionEvent"in window,wo=null;dn&&"documentMode"in document&&(wo=document.documentMode);var pw=dn&&"TextEvent"in window&&!wo,Kg=dn&&(!Ef||wo&&8<wo&&11>=wo),Yd=String.fromCharCode(32),Qd=!1;function Xg(e,t){switch(e){case"keyup":return hw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function gw(e,t){switch(e){case"compositionend":return Yg(t);case"keypress":return t.which!==32?null:(Qd=!0,Yd);case"textInput":return e=t.data,e===Yd&&Qd?null:e;default:return null}}function mw(e,t){if(Xr)return e==="compositionend"||!Ef&&Xg(e,t)?(e=Gg(),qs=Sf=On=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kg&&t.locale!=="ko"?null:t.data;default:return null}}var yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yw[e.type]:t==="textarea"}function Qg(e,t,n,r){Pg(r),t=El(t,"onChange"),0<t.length&&(n=new xf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var So=null,$o=null;function vw(e){lm(e,0)}function ha(e){var t=qr(e);if(Sg(t))return e}function ww(e,t){if(e==="change")return t}var qg=!1;if(dn){var ru;if(dn){var iu="oninput"in document;if(!iu){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),iu=typeof Zd.oninput=="function"}ru=iu}else ru=!1;qg=ru&&(!document.documentMode||9<document.documentMode)}function Jd(){So&&(So.detachEvent("onpropertychange",Zg),$o=So=null)}function Zg(e){if(e.propertyName==="value"&&ha($o)){var t=[];Qg(t,$o,e,gf(e)),Mg(vw,t)}}function Sw(e,t,n){e==="focusin"?(Jd(),So=t,$o=n,So.attachEvent("onpropertychange",Zg)):e==="focusout"&&Jd()}function xw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ha($o)}function Cw(e,t){if(e==="click")return ha(t)}function Ew(e,t){if(e==="input"||e==="change")return ha(t)}function kw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:kw;function Fo(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zu.call(t,i)||!bt(e[i],t[i]))return!1}return!0}function eh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function th(e,t){var n=eh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eh(n)}}function Jg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function em(){for(var e=window,t=ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ml(e.document)}return t}function kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _w(e){var t=em(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jg(n.ownerDocument.documentElement,n)){if(r!==null&&kf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=th(n,o);var s=th(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nw=dn&&"documentMode"in document&&11>=document.documentMode,Yr=null,ic=null,xo=null,oc=!1;function nh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oc||Yr==null||Yr!==ml(r)||(r=Yr,"selectionStart"in r&&kf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xo&&Fo(xo,r)||(xo=r,r=El(ic,"onSelect"),0<r.length&&(t=new xf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yr)))}function Ns(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},ou={},tm={};dn&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function pa(e){if(ou[e])return ou[e];if(!Qr[e])return e;var t=Qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tm)return ou[e]=t[n];return e}var nm=pa("animationend"),rm=pa("animationiteration"),im=pa("animationstart"),om=pa("transitionend"),sm=new Map,rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){sm.set(e,t),Ar(t,[e])}for(var su=0;su<rh.length;su++){var lu=rh[su],Pw=lu.toLowerCase(),Tw=lu[0].toUpperCase()+lu.slice(1);Qn(Pw,"on"+Tw)}Qn(nm,"onAnimationEnd");Qn(rm,"onAnimationIteration");Qn(im,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(om,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function ih(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,P1(r,t,void 0,e),e.currentTarget=null}function lm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;ih(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;ih(i,l,u),o=a}}}if(vl)throw e=ec,vl=!1,ec=null,e}function oe(e,t){var n=t[cc];n===void 0&&(n=t[cc]=new Set);var r=e+"__bubble";n.has(r)||(am(t,e,2,!1),n.add(r))}function au(e,t,n){var r=0;t&&(r|=4),am(n,e,r,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[Ps]){e[Ps]=!0,gg.forEach(function(n){n!=="selectionchange"&&(Ow.has(n)||au(n,!1,e),au(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,au("selectionchange",!1,t))}}function am(e,t,n,r){switch(jg(t)){case 1:var i=V1;break;case 4:i=W1;break;default:i=wf}n=i.bind(null,t,n,e),i=void 0,!Ju||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function uu(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=ar(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Mg(function(){var u=o,c=gf(n),f=[];e:{var d=sm.get(e);if(d!==void 0){var g=xf,S=e;switch(e){case"keypress":if(Zs(n)===0)break e;case"keydown":case"keyup":g=ow;break;case"focusin":S="focus",g=nu;break;case"focusout":S="blur",g=nu;break;case"beforeblur":case"afterblur":g=nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=K1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=aw;break;case nm:case rm:case im:g=Q1;break;case om:g=cw;break;case"scroll":g=j1;break;case"wheel":g=dw;break;case"copy":case"cut":case"paste":g=Z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xd}var w=(t&4)!==0,P=!w&&e==="scroll",h=w?d!==null?d+"Capture":null:d;w=[];for(var p=u,m;p!==null;){m=p;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,h!==null&&(v=Ao(p,h),v!=null&&w.push(Uo(p,v,m)))),P)break;p=p.return}0<w.length&&(d=new g(d,S,null,n,c),f.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==qu&&(S=n.relatedTarget||n.fromElement)&&(ar(S)||S[hn]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?ar(S):null,S!==null&&(P=Dr(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(w=Gd,v="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Xd,v="onPointerLeave",h="onPointerEnter",p="pointer"),P=g==null?d:qr(g),m=S==null?d:qr(S),d=new w(v,p+"leave",g,n,c),d.target=P,d.relatedTarget=m,v=null,ar(c)===u&&(w=new w(h,p+"enter",S,n,c),w.target=m,w.relatedTarget=P,v=w),P=v,g&&S)t:{for(w=g,h=S,p=0,m=w;m;m=Ur(m))p++;for(m=0,v=h;v;v=Ur(v))m++;for(;0<p-m;)w=Ur(w),p--;for(;0<m-p;)h=Ur(h),m--;for(;p--;){if(w===h||h!==null&&w===h.alternate)break t;w=Ur(w),h=Ur(h)}w=null}else w=null;g!==null&&oh(f,d,g,w,!1),S!==null&&P!==null&&oh(f,P,S,w,!0)}}e:{if(d=u?qr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=ww;else if(qd(d))if(qg)k=Ew;else{k=xw;var E=Sw}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=Cw);if(k&&(k=k(e,u))){Qg(f,k,n,c);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Gu(d,"number",d.value)}switch(E=u?qr(u):window,e){case"focusin":(qd(E)||E.contentEditable==="true")&&(Yr=E,ic=u,xo=null);break;case"focusout":xo=ic=Yr=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,nh(f,n,c);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":nh(f,n,c)}var N;if(Ef)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Xr?Xg(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Kg&&n.locale!=="ko"&&(Xr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Xr&&(N=Gg()):(On=c,Sf="value"in On?On.value:On.textContent,Xr=!0)),E=El(u,M),0<E.length&&(M=new Kd(M,e,null,n,c),f.push({event:M,listeners:E}),N?M.data=N:(N=Yg(n),N!==null&&(M.data=N)))),(N=pw?gw(e,n):mw(e,n))&&(u=El(u,"onBeforeInput"),0<u.length&&(c=new Kd("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}lm(f,t)})}function Uo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function El(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ao(e,n),o!=null&&r.unshift(Uo(e,o,i)),o=Ao(e,t),o!=null&&r.push(Uo(e,o,i))),e=e.return}return r}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oh(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ao(n,o),a!=null&&s.unshift(Uo(n,a,l))):i||(a=Ao(n,o),a!=null&&s.push(Uo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Iw=/\r\n?/g,Mw=/\u0000|\uFFFD/g;function sh(e){return(typeof e=="string"?e:""+e).replace(Iw,`
`).replace(Mw,"")}function Ts(e,t,n){if(t=sh(t),sh(e)!==t&&n)throw Error(F(425))}function kl(){}var sc=null,lc=null;function ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uc=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,lh=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof lh<"u"?function(e){return lh.resolve(null).then(e).catch(Dw)}:uc;function Dw(e){setTimeout(function(){throw e})}function cu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Lo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lo(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ah(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Ai,Bo="__reactProps$"+Ai,hn="__reactContainer$"+Ai,cc="__reactEvents$"+Ai,Rw="__reactListeners$"+Ai,Lw="__reactHandles$"+Ai;function ar(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ah(e);e!==null;){if(n=e[Ht])return n;e=ah(e)}return t}e=n,n=e.parentNode}return null}function cs(e){return e=e[Ht]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function ga(e){return e[Bo]||null}var fc=[],Zr=-1;function qn(e){return{current:e}}function se(e){0>Zr||(e.current=fc[Zr],fc[Zr]=null,Zr--)}function ie(e,t){Zr++,fc[Zr]=e.current,e.current=t}var Xn={},Ue=qn(Xn),et=qn(!1),Sr=Xn;function Si(e,t){var n=e.type.contextTypes;if(!n)return Xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tt(e){return e=e.childContextTypes,e!=null}function _l(){se(et),se(Ue)}function uh(e,t,n){if(Ue.current!==Xn)throw Error(F(168));ie(Ue,t),ie(et,n)}function um(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(F(108,S1(e)||"Unknown",i));return ce({},n,r)}function Nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,Sr=Ue.current,ie(Ue,e),ie(et,et.current),!0}function ch(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=um(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,se(et),se(Ue),ie(Ue,e)):se(et),ie(et,n)}var ln=null,ma=!1,fu=!1;function cm(e){ln===null?ln=[e]:ln.push(e)}function $w(e){ma=!0,cm(e)}function Zn(){if(!fu&&ln!==null){fu=!0;var e=0,t=ne;try{var n=ln;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,ma=!1}catch(i){throw ln!==null&&(ln=ln.slice(e+1)),Rg(mf,Zn),i}finally{ne=t,fu=!1}}return null}var Jr=[],ei=0,Pl=null,Tl=0,dt=[],ht=0,xr=null,an=1,un="";function ir(e,t){Jr[ei++]=Tl,Jr[ei++]=Pl,Pl=e,Tl=t}function fm(e,t,n){dt[ht++]=an,dt[ht++]=un,dt[ht++]=xr,xr=e;var r=an;e=un;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var o=32-Ot(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,an=1<<32-Ot(t)+i|n<<i|r,un=o+e}else an=1<<o|n<<i|r,un=e}function _f(e){e.return!==null&&(ir(e,1),fm(e,1,0))}function Nf(e){for(;e===Pl;)Pl=Jr[--ei],Jr[ei]=null,Tl=Jr[--ei],Jr[ei]=null;for(;e===xr;)xr=dt[--ht],dt[ht]=null,un=dt[--ht],dt[ht]=null,an=dt[--ht],dt[ht]=null}var st=null,ot=null,le=!1,_t=null;function dm(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,ot=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xr!==null?{id:an,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,ot=null,!0):!1;default:return!1}}function dc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hc(e){if(le){var t=ot;if(t){var n=t;if(!fh(e,t)){if(dc(e))throw Error(F(418));t=zn(n.nextSibling);var r=st;t&&fh(e,t)?dm(r,n):(e.flags=e.flags&-4097|2,le=!1,st=e)}}else{if(dc(e))throw Error(F(418));e.flags=e.flags&-4097|2,le=!1,st=e}}}function dh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Os(e){if(e!==st)return!1;if(!le)return dh(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ac(e.type,e.memoizedProps)),t&&(t=ot)){if(dc(e))throw hm(),Error(F(418));for(;t;)dm(e,t),t=zn(t.nextSibling)}if(dh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=st?zn(e.stateNode.nextSibling):null;return!0}function hm(){for(var e=ot;e;)e=zn(e.nextSibling)}function xi(){ot=st=null,le=!1}function Pf(e){_t===null?_t=[e]:_t.push(e)}var Fw=yn.ReactCurrentBatchConfig;function Ct(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ol=qn(null),Il=null,ti=null,Tf=null;function Of(){Tf=ti=Il=null}function If(e){var t=Ol.current;se(Ol),e._currentValue=t}function pc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fi(e,t){Il=e,Tf=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(Tf!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(Il===null)throw Error(F(308));ti=e,Il.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var ur=null;function Mf(e){ur===null?ur=[e]:ur.push(e)}function pm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Mf(t)):(n.next=i.next,i.next=n),t.interleaved=n,pn(e,r)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cn=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pn(e,n)}return i=r.interleaved,i===null?(t.next=t,Mf(r)):(t.next=i.next,i.next=t),r.interleaved=t,pn(e,n)}function Js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yf(e,n)}}function hh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ml(e,t,n,r){var i=e.updateQueue;Cn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,g=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,w=l;switch(d=t,g=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){f=S.call(g,f,d);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,d=typeof S=="function"?S.call(g,f,d):S,d==null)break e;f=ce({},f,d);break e;case 2:Cn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=f):c=c.next=g,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Er|=s,e.lanes=s,e.memoizedState=f}}function ph(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var mm=new pg.Component().refs;function gc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=je(),i=Hn(e),o=fn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Un(e,o,i),t!==null&&(It(t,e,i,r),Js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=je(),i=Hn(e),o=fn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Un(e,o,i),t!==null&&(It(t,e,i,r),Js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),r=Hn(e),i=fn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Un(e,i,r),t!==null&&(It(t,e,r,n),Js(t,e,r))}};function gh(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Fo(n,r)||!Fo(i,o):!0}function ym(e,t,n){var r=!1,i=Xn,o=t.contextType;return typeof o=="object"&&o!==null?o=vt(o):(i=tt(t)?Sr:Ue.current,r=t.contextTypes,o=(r=r!=null)?Si(e,i):Xn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function mh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function mc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mm,bf(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=vt(o):(o=tt(t)?Sr:Ue.current,i.context=Si(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(gc(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),Ml(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;l===mm&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Is(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yh(e){var t=e._init;return t(e._payload)}function vm(e){function t(h,p){if(e){var m=h.deletions;m===null?(h.deletions=[p],h.flags|=16):m.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function i(h,p){return h=Vn(h,p),h.index=0,h.sibling=null,h}function o(h,p,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<p?(h.flags|=2,p):m):(h.flags|=2,p)):(h.flags|=1048576,p)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,m,v){return p===null||p.tag!==6?(p=vu(m,h.mode,v),p.return=h,p):(p=i(p,m),p.return=h,p)}function a(h,p,m,v){var k=m.type;return k===Kr?c(h,p,m.props.children,v,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xn&&yh(k)===p.type)?(v=i(p,m.props),v.ref=qi(h,p,m),v.return=h,v):(v=ol(m.type,m.key,m.props,null,h.mode,v),v.ref=qi(h,p,m),v.return=h,v)}function u(h,p,m,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=wu(m,h.mode,v),p.return=h,p):(p=i(p,m.children||[]),p.return=h,p)}function c(h,p,m,v,k){return p===null||p.tag!==7?(p=mr(m,h.mode,v,k),p.return=h,p):(p=i(p,m),p.return=h,p)}function f(h,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=vu(""+p,h.mode,m),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ws:return m=ol(p.type,p.key,p.props,null,h.mode,m),m.ref=qi(h,null,p),m.return=h,m;case Gr:return p=wu(p,h.mode,m),p.return=h,p;case xn:var v=p._init;return f(h,v(p._payload),m)}if(uo(p)||Gi(p))return p=mr(p,h.mode,m,null),p.return=h,p;Is(h,p)}return null}function d(h,p,m,v){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(h,p,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ws:return m.key===k?a(h,p,m,v):null;case Gr:return m.key===k?u(h,p,m,v):null;case xn:return k=m._init,d(h,p,k(m._payload),v)}if(uo(m)||Gi(m))return k!==null?null:c(h,p,m,v,null);Is(h,m)}return null}function g(h,p,m,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return h=h.get(m)||null,l(p,h,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ws:return h=h.get(v.key===null?m:v.key)||null,a(p,h,v,k);case Gr:return h=h.get(v.key===null?m:v.key)||null,u(p,h,v,k);case xn:var E=v._init;return g(h,p,m,E(v._payload),k)}if(uo(v)||Gi(v))return h=h.get(m)||null,c(p,h,v,k,null);Is(p,v)}return null}function S(h,p,m,v){for(var k=null,E=null,N=p,M=p=0,D=null;N!==null&&M<m.length;M++){N.index>M?(D=N,N=null):D=N.sibling;var L=d(h,N,m[M],v);if(L===null){N===null&&(N=D);break}e&&N&&L.alternate===null&&t(h,N),p=o(L,p,M),E===null?k=L:E.sibling=L,E=L,N=D}if(M===m.length)return n(h,N),le&&ir(h,M),k;if(N===null){for(;M<m.length;M++)N=f(h,m[M],v),N!==null&&(p=o(N,p,M),E===null?k=N:E.sibling=N,E=N);return le&&ir(h,M),k}for(N=r(h,N);M<m.length;M++)D=g(N,h,M,m[M],v),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?M:D.key),p=o(D,p,M),E===null?k=D:E.sibling=D,E=D);return e&&N.forEach(function(z){return t(h,z)}),le&&ir(h,M),k}function w(h,p,m,v){var k=Gi(m);if(typeof k!="function")throw Error(F(150));if(m=k.call(m),m==null)throw Error(F(151));for(var E=k=null,N=p,M=p=0,D=null,L=m.next();N!==null&&!L.done;M++,L=m.next()){N.index>M?(D=N,N=null):D=N.sibling;var z=d(h,N,L.value,v);if(z===null){N===null&&(N=D);break}e&&N&&z.alternate===null&&t(h,N),p=o(z,p,M),E===null?k=z:E.sibling=z,E=z,N=D}if(L.done)return n(h,N),le&&ir(h,M),k;if(N===null){for(;!L.done;M++,L=m.next())L=f(h,L.value,v),L!==null&&(p=o(L,p,M),E===null?k=L:E.sibling=L,E=L);return le&&ir(h,M),k}for(N=r(h,N);!L.done;M++,L=m.next())L=g(N,h,M,L.value,v),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?M:L.key),p=o(L,p,M),E===null?k=L:E.sibling=L,E=L);return e&&N.forEach(function(R){return t(h,R)}),le&&ir(h,M),k}function P(h,p,m,v){if(typeof m=="object"&&m!==null&&m.type===Kr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ws:e:{for(var k=m.key,E=p;E!==null;){if(E.key===k){if(k=m.type,k===Kr){if(E.tag===7){n(h,E.sibling),p=i(E,m.props.children),p.return=h,h=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xn&&yh(k)===E.type){n(h,E.sibling),p=i(E,m.props),p.ref=qi(h,E,m),p.return=h,h=p;break e}n(h,E);break}else t(h,E);E=E.sibling}m.type===Kr?(p=mr(m.props.children,h.mode,v,m.key),p.return=h,h=p):(v=ol(m.type,m.key,m.props,null,h.mode,v),v.ref=qi(h,p,m),v.return=h,h=v)}return s(h);case Gr:e:{for(E=m.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(h,p.sibling),p=i(p,m.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=wu(m,h.mode,v),p.return=h,h=p}return s(h);case xn:return E=m._init,P(h,p,E(m._payload),v)}if(uo(m))return S(h,p,m,v);if(Gi(m))return w(h,p,m,v);Is(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(h,p.sibling),p=i(p,m),p.return=h,h=p):(n(h,p),p=vu(m,h.mode,v),p.return=h,h=p),s(h)):n(h,p)}return P}var Ci=vm(!0),wm=vm(!1),fs={},jt=qn(fs),Ho=qn(fs),Vo=qn(fs);function cr(e){if(e===fs)throw Error(F(174));return e}function Af(e,t){switch(ie(Vo,t),ie(Ho,e),ie(jt,fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xu(t,e)}se(jt),ie(jt,t)}function Ei(){se(jt),se(Ho),se(Vo)}function Sm(e){cr(Vo.current);var t=cr(jt.current),n=Xu(t,e.type);t!==n&&(ie(Ho,e),ie(jt,n))}function Df(e){Ho.current===e&&(se(jt),se(Ho))}var ae=qn(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var du=[];function Rf(){for(var e=0;e<du.length;e++)du[e]._workInProgressVersionPrimary=null;du.length=0}var el=yn.ReactCurrentDispatcher,hu=yn.ReactCurrentBatchConfig,Cr=0,ue=null,Ee=null,Pe=null,Al=!1,Co=!1,Wo=0,zw=0;function Re(){throw Error(F(321))}function Lf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function $f(e,t,n,r,i,o){if(Cr=o,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,el.current=e===null||e.memoizedState===null?Vw:Ww,e=n(r,i),Co){o=0;do{if(Co=!1,Wo=0,25<=o)throw Error(F(301));o+=1,Pe=Ee=null,t.updateQueue=null,el.current=jw,e=n(r,i)}while(Co)}if(el.current=Dl,t=Ee!==null&&Ee.next!==null,Cr=0,Pe=Ee=ue=null,Al=!1,t)throw Error(F(300));return e}function Ff(){var e=Wo!==0;return Wo=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ue.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function wt(){if(Ee===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Pe===null?ue.memoizedState:Pe.next;if(t!==null)Pe=t,Ee=e;else{if(e===null)throw Error(F(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Pe===null?ue.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function jo(e,t){return typeof t=="function"?t(e):t}function pu(e){var t=wt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ee,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((Cr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,ue.lanes|=c,Er|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,bt(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ue.lanes|=o,Er|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gu(e){var t=wt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);bt(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xm(){}function Cm(e,t){var n=ue,r=wt(),i=t(),o=!bt(r.memoizedState,i);if(o&&(r.memoizedState=i,Ze=!0),r=r.queue,zf(_m.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Go(9,km.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(F(349));Cr&30||Em(n,t,i)}return i}function Em(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function km(e,t,n,r){t.value=n,t.getSnapshot=r,Nm(t)&&Pm(e)}function _m(e,t,n){return n(function(){Nm(t)&&Pm(e)})}function Nm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function Pm(e){var t=pn(e,1);t!==null&&It(t,e,1,-1)}function vh(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=Hw.bind(null,ue,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Tm(){return wt().memoizedState}function tl(e,t,n,r){var i=Ut();ue.flags|=e,i.memoizedState=Go(1|t,n,void 0,r===void 0?null:r)}function va(e,t,n,r){var i=wt();r=r===void 0?null:r;var o=void 0;if(Ee!==null){var s=Ee.memoizedState;if(o=s.destroy,r!==null&&Lf(r,s.deps)){i.memoizedState=Go(t,n,o,r);return}}ue.flags|=e,i.memoizedState=Go(1|t,n,o,r)}function wh(e,t){return tl(8390656,8,e,t)}function zf(e,t){return va(2048,8,e,t)}function Om(e,t){return va(4,2,e,t)}function Im(e,t){return va(4,4,e,t)}function Mm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bm(e,t,n){return n=n!=null?n.concat([e]):null,va(4,4,Mm.bind(null,t,e),n)}function Uf(){}function Am(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dm(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rm(e,t,n){return Cr&21?(bt(n,t)||(n=Fg(),ue.lanes|=n,Er|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function Uw(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=hu.transition;hu.transition={};try{e(!1),t()}finally{ne=n,hu.transition=r}}function Lm(){return wt().memoizedState}function Bw(e,t,n){var r=Hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$m(e))Fm(t,n);else if(n=pm(e,t,n,r),n!==null){var i=je();It(n,e,r,i),zm(n,t,r)}}function Hw(e,t,n){var r=Hn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($m(e))Fm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,bt(l,s)){var a=t.interleaved;a===null?(i.next=i,Mf(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=pm(e,t,i,r),n!==null&&(i=je(),It(n,e,r,i),zm(n,t,r))}}function $m(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Fm(e,t){Co=Al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yf(e,n)}}var Dl={readContext:vt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Vw={readContext:vt,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:wh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tl(4194308,4,Mm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return tl(4,2,e,t)},useMemo:function(e,t){var n=Ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ut();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Bw.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:vh,useDebugValue:Uf,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=vh(!1),t=e[0];return e=Uw.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,i=Ut();if(le){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Te===null)throw Error(F(349));Cr&30||Em(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,wh(_m.bind(null,r,o,e),[e]),r.flags|=2048,Go(9,km.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ut(),t=Te.identifierPrefix;if(le){var n=un,r=an;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ww={readContext:vt,useCallback:Am,useContext:vt,useEffect:zf,useImperativeHandle:bm,useInsertionEffect:Om,useLayoutEffect:Im,useMemo:Dm,useReducer:pu,useRef:Tm,useState:function(){return pu(jo)},useDebugValue:Uf,useDeferredValue:function(e){var t=wt();return Rm(t,Ee.memoizedState,e)},useTransition:function(){var e=pu(jo)[0],t=wt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:Cm,useId:Lm,unstable_isNewReconciler:!1},jw={readContext:vt,useCallback:Am,useContext:vt,useEffect:zf,useImperativeHandle:bm,useInsertionEffect:Om,useLayoutEffect:Im,useMemo:Dm,useReducer:gu,useRef:Tm,useState:function(){return gu(jo)},useDebugValue:Uf,useDeferredValue:function(e){var t=wt();return Ee===null?t.memoizedState=e:Rm(t,Ee.memoizedState,e)},useTransition:function(){var e=gu(jo)[0],t=wt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:Cm,useId:Lm,unstable_isNewReconciler:!1};function ki(e,t){try{var n="",r=t;do n+=w1(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function mu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gw=typeof WeakMap=="function"?WeakMap:Map;function Um(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,Pc=r),yc(e,t)},n}function Bm(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yc(e,t),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Sh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gw;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=sS.bind(null,e,t,n),t.then(e,e))}function xh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ch(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var Kw=yn.ReactCurrentOwner,Ze=!1;function We(e,t,n,r){t.child=e===null?wm(t,null,n,r):Ci(t,e.child,n,r)}function Eh(e,t,n,r,i){n=n.render;var o=t.ref;return fi(t,i),r=$f(e,t,n,r,o,i),n=Ff(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(le&&n&&_f(t),t.flags|=1,We(e,t,r,i),t.child)}function kh(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Xf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Hm(e,t,o,r,i)):(e=ol(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(s,r)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=Vn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Hm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Fo(o,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,gn(e,t,i)}return vc(e,t,n,r,i)}function Vm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(ri,it),it|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(ri,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ie(ri,it),it|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ie(ri,it),it|=r;return We(e,t,i,n),t.child}function Wm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vc(e,t,n,r,i){var o=tt(n)?Sr:Ue.current;return o=Si(t,o),fi(t,i),n=$f(e,t,n,r,o,i),r=Ff(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(le&&r&&_f(t),t.flags|=1,We(e,t,n,i),t.child)}function _h(e,t,n,r,i){if(tt(n)){var o=!0;Nl(t)}else o=!1;if(fi(t,i),t.stateNode===null)nl(e,t),ym(t,n,r),mc(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=tt(n)?Sr:Ue.current,u=Si(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&mh(t,s,r,u),Cn=!1;var d=t.memoizedState;s.state=d,Ml(t,r,s,i),a=t.memoizedState,l!==r||d!==a||et.current||Cn?(typeof c=="function"&&(gc(t,n,c,r),a=t.memoizedState),(l=Cn||gh(t,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,gm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ct(t.type,l),s.props=u,f=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=vt(a):(a=tt(n)?Sr:Ue.current,a=Si(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&mh(t,s,r,a),Cn=!1,d=t.memoizedState,s.state=d,Ml(t,r,s,i);var S=t.memoizedState;l!==f||d!==S||et.current||Cn?(typeof g=="function"&&(gc(t,n,g,r),S=t.memoizedState),(u=Cn||gh(t,n,u,r,d,S,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),s.props=r,s.state=S,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return wc(e,t,n,r,o,i)}function wc(e,t,n,r,i,o){Wm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&ch(t,n,!1),gn(e,t,o);r=t.stateNode,Kw.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ci(t,e.child,null,o),t.child=Ci(t,null,l,o)):We(e,t,l,o),t.memoizedState=r.state,i&&ch(t,n,!0),t.child}function jm(e){var t=e.stateNode;t.pendingContext?uh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uh(e,t.context,!1),Af(e,t.containerInfo)}function Nh(e,t,n,r,i){return xi(),Pf(i),t.flags|=256,We(e,t,n,r),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0};function xc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gm(e,t,n){var r=t.pendingProps,i=ae.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ie(ae,i&1),e===null)return hc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=xa(s,r,0,null),e=mr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xc(n),t.memoizedState=Sc,e):Bf(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Xw(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Vn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Vn(l,o):(o=mr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?xc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Sc,r}return o=e.child,e=o.sibling,r=Vn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bf(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,n,r){return r!==null&&Pf(r),Ci(t,e.child,null,n),e=Bf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xw(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=mu(Error(F(422))),Ms(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=xa({mode:"visible",children:r.children},i,0,null),o=mr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ci(t,e.child,null,s),t.child.memoizedState=xc(s),t.memoizedState=Sc,o);if(!(t.mode&1))return Ms(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(F(419)),r=mu(o,r,void 0),Ms(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ze||l){if(r=Te,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pn(e,i),It(r,e,i,-1))}return Kf(),r=mu(Error(F(421))),Ms(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lS.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ot=zn(i.nextSibling),st=t,le=!0,_t=null,e!==null&&(dt[ht++]=an,dt[ht++]=un,dt[ht++]=xr,an=e.id,un=e.overflow,xr=t),t=Bf(t,r.children),t.flags|=4096,t)}function Ph(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pc(e.return,t,n)}function yu(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Km(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(We(e,t,r.children,n),r=ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ph(e,n,t);else if(e.tag===19)Ph(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(ae,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yu(t,!0,n,null,o);break;case"together":yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yw(e,t,n){switch(t.tag){case 3:jm(t),xi();break;case 5:Sm(t);break;case 1:tt(t.type)&&Nl(t);break;case 4:Af(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ie(Ol,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?Gm(e,t,n):(ie(ae,ae.current&1),e=gn(e,t,n),e!==null?e.sibling:null);ie(ae,ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Km(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,Vm(e,t,n)}return gn(e,t,n)}var Xm,Cc,Ym,Qm;Xm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cc=function(){};Ym=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cr(jt.current);var o=null;switch(n){case"input":i=Wu(e,i),r=Wu(e,r),o=[];break;case"select":i=ce({},i,{value:void 0}),r=ce({},r,{value:void 0}),o=[];break;case"textarea":i=Ku(e,i),r=Ku(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kl)}Yu(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&oe("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Qm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zi(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qw(e,t,n){var r=t.pendingProps;switch(Nf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return tt(t.type)&&_l(),Le(t),null;case 3:return r=t.stateNode,Ei(),se(et),se(Ue),Rf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(Ic(_t),_t=null))),Cc(e,t),Le(t),null;case 5:Df(t);var i=cr(Vo.current);if(n=t.type,e!==null&&t.stateNode!=null)Ym(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Le(t),null}if(e=cr(jt.current),Os(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ht]=t,r[Bo]=o,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(i=0;i<fo.length;i++)oe(fo[i],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":Ld(r,o),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},oe("invalid",r);break;case"textarea":Fd(r,o),oe("invalid",r)}Yu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ts(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ts(r.textContent,l,e),i=["children",""+l]):Mo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&oe("scroll",r)}switch(n){case"input":Ss(r),$d(r,o,!0);break;case"textarea":Ss(r),zd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Eg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ht]=t,e[Bo]=r,Xm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Qu(n,r),n){case"dialog":oe("cancel",e),oe("close",e),i=r;break;case"iframe":case"object":case"embed":oe("load",e),i=r;break;case"video":case"audio":for(i=0;i<fo.length;i++)oe(fo[i],e);i=r;break;case"source":oe("error",e),i=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),i=r;break;case"details":oe("toggle",e),i=r;break;case"input":Ld(e,r),i=Wu(e,r),oe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ce({},r,{value:void 0}),oe("invalid",e);break;case"textarea":Fd(e,r),i=Ku(e,r),oe("invalid",e);break;default:i=r}Yu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Ng(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&kg(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&bo(e,a):typeof a=="number"&&bo(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Mo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&oe("scroll",e):a!=null&&ff(e,o,a,s))}switch(n){case"input":Ss(e),$d(e,r,!1);break;case"textarea":Ss(e),zd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?li(e,!!r.multiple,o,!1):r.defaultValue!=null&&li(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Qm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=cr(Vo.current),cr(jt.current),Os(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(o=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:Ts(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return Le(t),null;case 13:if(se(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&ot!==null&&t.mode&1&&!(t.flags&128))hm(),xi(),t.flags|=98560,o=!1;else if(o=Os(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Ht]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else _t!==null&&(Ic(_t),_t=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?_e===0&&(_e=3):Kf())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Ei(),Cc(e,t),e===null&&zo(t.stateNode.containerInfo),Le(t),null;case 10:return If(t.type._context),Le(t),null;case 17:return tt(t.type)&&_l(),Le(t),null;case 19:if(se(ae),o=t.memoizedState,o===null)return Le(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Zi(o,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=bl(e),s!==null){for(t.flags|=128,Zi(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(ae,ae.current&1|2),t.child}e=e.sibling}o.tail!==null&&me()>_i&&(t.flags|=128,r=!0,Zi(o,!1),t.lanes=4194304)}else{if(!r)if(e=bl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!le)return Le(t),null}else 2*me()-o.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,r=!0,Zi(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=me(),t.sibling=null,n=ae.current,ie(ae,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Gf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function qw(e,t){switch(Nf(t),t.tag){case 1:return tt(t.type)&&_l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ei(),se(et),se(Ue),Rf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Df(t),null;case 13:if(se(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ae),null;case 4:return Ei(),null;case 10:return If(t.type._context),null;case 22:case 23:return Gf(),null;case 24:return null;default:return null}}var bs=!1,Fe=!1,Zw=typeof WeakSet=="function"?WeakSet:Set,H=null;function ni(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function Ec(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Th=!1;function Jw(e,t){if(sc=xl,e=em(),kf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break t;if(d===n&&++u===i&&(l=s),d===o&&++c===r&&(a=s),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(lc={focusedElem:e,selectionRange:n},xl=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,P=S.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ct(t.type,w),P);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(v){pe(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return S=Th,Th=!1,S}function Eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ec(t,n,o)}i=i.next}while(i!==r)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function kc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qm(e){var t=e.alternate;t!==null&&(e.alternate=null,qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[Bo],delete t[cc],delete t[Rw],delete t[Lw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zm(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kl));else if(r!==4&&(e=e.child,e!==null))for(_c(e,t,n),e=e.sibling;e!==null;)_c(e,t,n),e=e.sibling}function Nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nc(e,t,n),e=e.sibling;e!==null;)Nc(e,t,n),e=e.sibling}var Ie=null,kt=!1;function Sn(e,t,n){for(n=n.child;n!==null;)Jm(e,t,n),n=n.sibling}function Jm(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(fa,n)}catch{}switch(n.tag){case 5:Fe||ni(n,t);case 6:var r=Ie,i=kt;Ie=null,Sn(e,t,n),Ie=r,kt=i,Ie!==null&&(kt?(e=Ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(kt?(e=Ie,n=n.stateNode,e.nodeType===8?cu(e.parentNode,n):e.nodeType===1&&cu(e,n),Lo(e)):cu(Ie,n.stateNode));break;case 4:r=Ie,i=kt,Ie=n.stateNode.containerInfo,kt=!0,Sn(e,t,n),Ie=r,kt=i;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ec(n,t,s),i=i.next}while(i!==r)}Sn(e,t,n);break;case 1:if(!Fe&&(ni(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,t,l)}Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,Sn(e,t,n),Fe=r):Sn(e,t,n);break;default:Sn(e,t,n)}}function Ih(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zw),t.forEach(function(r){var i=aS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,kt=!1;break e;case 3:Ie=l.stateNode.containerInfo,kt=!0;break e;case 4:Ie=l.stateNode.containerInfo,kt=!0;break e}l=l.return}if(Ie===null)throw Error(F(160));Jm(o,s,i),Ie=null,kt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){pe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e0(t,e),t=t.sibling}function e0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),zt(e),r&4){try{Eo(3,e,e.return),wa(3,e)}catch(w){pe(e,e.return,w)}try{Eo(5,e,e.return)}catch(w){pe(e,e.return,w)}}break;case 1:xt(t,e),zt(e),r&512&&n!==null&&ni(n,n.return);break;case 5:if(xt(t,e),zt(e),r&512&&n!==null&&ni(n,n.return),e.flags&32){var i=e.stateNode;try{bo(i,"")}catch(w){pe(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&xg(i,o),Qu(l,s);var u=Qu(l,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?Ng(i,f):c==="dangerouslySetInnerHTML"?kg(i,f):c==="children"?bo(i,f):ff(i,c,f,u)}switch(l){case"input":ju(i,o);break;case"textarea":Cg(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?li(i,!!o.multiple,g,!1):d!==!!o.multiple&&(o.defaultValue!=null?li(i,!!o.multiple,o.defaultValue,!0):li(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bo]=o}catch(w){pe(e,e.return,w)}}break;case 6:if(xt(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){pe(e,e.return,w)}}break;case 3:if(xt(t,e),zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(t.containerInfo)}catch(w){pe(e,e.return,w)}break;case 4:xt(t,e),zt(e);break;case 13:xt(t,e),zt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wf=me())),r&4&&Ih(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||c,xt(t,e),Fe=u):xt(t,e),zt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(H=e,c=e.child;c!==null;){for(f=H=c;H!==null;){switch(d=H,g=d.child,d.tag){case 0:case 11:case 14:case 15:Eo(4,d,d.return);break;case 1:ni(d,d.return);var S=d.stateNode;if(typeof S.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(w){pe(r,n,w)}}break;case 5:ni(d,d.return);break;case 22:if(d.memoizedState!==null){bh(f);continue}}g!==null?(g.return=d,H=g):bh(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=_g("display",s))}catch(w){pe(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){pe(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xt(t,e),zt(e),r&4&&Ih(e);break;case 21:break;default:xt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zm(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bo(i,""),r.flags&=-33);var o=Oh(e);Nc(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Oh(e);_c(e,l,s);break;default:throw Error(F(161))}}catch(a){pe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eS(e,t,n){H=e,t0(e)}function t0(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||bs;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Fe;l=bs;var u=Fe;if(bs=s,(Fe=a)&&!u)for(H=i;H!==null;)s=H,a=s.child,s.tag===22&&s.memoizedState!==null?Ah(i):a!==null?(a.return=s,H=a):Ah(i);for(;o!==null;)H=o,t0(o),o=o.sibling;H=i,bs=l,Fe=u}Mh(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):Mh(e)}}function Mh(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ct(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ph(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ph(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Lo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Fe||t.flags&512&&kc(t)}catch(d){pe(t,t.return,d)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function bh(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Ah(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wa(4,t)}catch(a){pe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){pe(t,i,a)}}var o=t.return;try{kc(t)}catch(a){pe(t,o,a)}break;case 5:var s=t.return;try{kc(t)}catch(a){pe(t,s,a)}}}catch(a){pe(t,t.return,a)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var tS=Math.ceil,Rl=yn.ReactCurrentDispatcher,Hf=yn.ReactCurrentOwner,mt=yn.ReactCurrentBatchConfig,te=0,Te=null,we=null,be=0,it=0,ri=qn(0),_e=0,Ko=null,Er=0,Sa=0,Vf=0,ko=null,Qe=null,Wf=0,_i=1/0,sn=null,Ll=!1,Pc=null,Bn=null,As=!1,In=null,$l=0,_o=0,Tc=null,rl=-1,il=0;function je(){return te&6?me():rl!==-1?rl:rl=me()}function Hn(e){return e.mode&1?te&2&&be!==0?be&-be:Fw.transition!==null?(il===0&&(il=Fg()),il):(e=ne,e!==0||(e=window.event,e=e===void 0?16:jg(e.type)),e):1}function It(e,t,n,r){if(50<_o)throw _o=0,Tc=null,Error(F(185));as(e,n,r),(!(te&2)||e!==Te)&&(e===Te&&(!(te&2)&&(Sa|=n),_e===4&&Pn(e,be)),nt(e,r),n===1&&te===0&&!(t.mode&1)&&(_i=me()+500,ma&&Zn()))}function nt(e,t){var n=e.callbackNode;F1(e,t);var r=Sl(e,e===Te?be:0);if(r===0)n!==null&&Hd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hd(n),t===1)e.tag===0?$w(Dh.bind(null,e)):cm(Dh.bind(null,e)),Aw(function(){!(te&6)&&Zn()}),n=null;else{switch(zg(r)){case 1:n=mf;break;case 4:n=Lg;break;case 16:n=wl;break;case 536870912:n=$g;break;default:n=wl}n=u0(n,n0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function n0(e,t){if(rl=-1,il=0,te&6)throw Error(F(327));var n=e.callbackNode;if(di()&&e.callbackNode!==n)return null;var r=Sl(e,e===Te?be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fl(e,r);else{t=r;var i=te;te|=2;var o=i0();(Te!==e||be!==t)&&(sn=null,_i=me()+500,gr(e,t));do try{iS();break}catch(l){r0(e,l)}while(1);Of(),Rl.current=o,te=i,we!==null?t=0:(Te=null,be=0,t=_e)}if(t!==0){if(t===2&&(i=tc(e),i!==0&&(r=i,t=Oc(e,i))),t===1)throw n=Ko,gr(e,0),Pn(e,r),nt(e,me()),n;if(t===6)Pn(e,r);else{if(i=e.current.alternate,!(r&30)&&!nS(i)&&(t=Fl(e,r),t===2&&(o=tc(e),o!==0&&(r=o,t=Oc(e,o))),t===1))throw n=Ko,gr(e,0),Pn(e,r),nt(e,me()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:or(e,Qe,sn);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=Wf+500-me(),10<t)){if(Sl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uc(or.bind(null,e,Qe,sn),t);break}or(e,Qe,sn);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ot(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tS(r/1960))-r,10<r){e.timeoutHandle=uc(or.bind(null,e,Qe,sn),r);break}or(e,Qe,sn);break;case 5:or(e,Qe,sn);break;default:throw Error(F(329))}}}return nt(e,me()),e.callbackNode===n?n0.bind(null,e):null}function Oc(e,t){var n=ko;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=Fl(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&Ic(t)),e}function Ic(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function nS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Vf,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ot(t),r=1<<n;e[n]=-1,t&=~r}}function Dh(e){if(te&6)throw Error(F(327));di();var t=Sl(e,0);if(!(t&1))return nt(e,me()),null;var n=Fl(e,t);if(e.tag!==0&&n===2){var r=tc(e);r!==0&&(t=r,n=Oc(e,r))}if(n===1)throw n=Ko,gr(e,0),Pn(e,t),nt(e,me()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,Qe,sn),nt(e,me()),null}function jf(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(_i=me()+500,ma&&Zn())}}function kr(e){In!==null&&In.tag===0&&!(te&6)&&di();var t=te;te|=1;var n=mt.transition,r=ne;try{if(mt.transition=null,ne=1,e)return e()}finally{ne=r,mt.transition=n,te=t,!(te&6)&&Zn()}}function Gf(){it=ri.current,se(ri)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bw(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(Nf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:Ei(),se(et),se(Ue),Rf();break;case 5:Df(r);break;case 4:Ei();break;case 13:se(ae);break;case 19:se(ae);break;case 10:If(r.type._context);break;case 22:case 23:Gf()}n=n.return}if(Te=e,we=e=Vn(e.current,null),be=it=t,_e=0,Ko=null,Vf=Sa=Er=0,Qe=ko=null,ur!==null){for(t=0;t<ur.length;t++)if(n=ur[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ur=null}return e}function r0(e,t){do{var n=we;try{if(Of(),el.current=Dl,Al){for(var r=ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Al=!1}if(Cr=0,Pe=Ee=ue=null,Co=!1,Wo=0,Hf.current=null,n===null||n.return===null){_e=1,Ko=t,we=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=xh(s);if(g!==null){g.flags&=-257,Ch(g,s,l,o,t),g.mode&1&&Sh(o,u,t),t=g,a=u;var S=t.updateQueue;if(S===null){var w=new Set;w.add(a),t.updateQueue=w}else S.add(a);break e}else{if(!(t&1)){Sh(o,u,t),Kf();break e}a=Error(F(426))}}else if(le&&l.mode&1){var P=xh(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ch(P,s,l,o,t),Pf(ki(a,l));break e}}o=a=ki(a,l),_e!==4&&(_e=2),ko===null?ko=[o]:ko.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=Um(o,a,t);hh(o,h);break e;case 1:l=a;var p=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bn===null||!Bn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var v=Bm(o,l,t);hh(o,v);break e}}o=o.return}while(o!==null)}s0(n)}catch(k){t=k,we===n&&n!==null&&(we=n=n.return);continue}break}while(1)}function i0(){var e=Rl.current;return Rl.current=Dl,e===null?Dl:e}function Kf(){(_e===0||_e===3||_e===2)&&(_e=4),Te===null||!(Er&268435455)&&!(Sa&268435455)||Pn(Te,be)}function Fl(e,t){var n=te;te|=2;var r=i0();(Te!==e||be!==t)&&(sn=null,gr(e,t));do try{rS();break}catch(i){r0(e,i)}while(1);if(Of(),te=n,Rl.current=r,we!==null)throw Error(F(261));return Te=null,be=0,_e}function rS(){for(;we!==null;)o0(we)}function iS(){for(;we!==null&&!O1();)o0(we)}function o0(e){var t=a0(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?s0(e):we=t,Hf.current=null}function s0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qw(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,we=null;return}}else if(n=Qw(n,t,it),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);_e===0&&(_e=5)}function or(e,t,n){var r=ne,i=mt.transition;try{mt.transition=null,ne=1,oS(e,t,n,r)}finally{mt.transition=i,ne=r}return null}function oS(e,t,n,r){do di();while(In!==null);if(te&6)throw Error(F(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(z1(e,o),e===Te&&(we=Te=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||As||(As=!0,u0(wl,function(){return di(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mt.transition,mt.transition=null;var s=ne;ne=1;var l=te;te|=4,Hf.current=null,Jw(e,n),e0(n,e),_w(lc),xl=!!sc,lc=sc=null,e.current=n,eS(n),I1(),te=l,ne=s,mt.transition=o}else e.current=n;if(As&&(As=!1,In=e,$l=i),o=e.pendingLanes,o===0&&(Bn=null),A1(n.stateNode),nt(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ll)throw Ll=!1,e=Pc,Pc=null,e;return $l&1&&e.tag!==0&&di(),o=e.pendingLanes,o&1?e===Tc?_o++:(_o=0,Tc=e):_o=0,Zn(),null}function di(){if(In!==null){var e=zg($l),t=mt.transition,n=ne;try{if(mt.transition=null,ne=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,$l=0,te&6)throw Error(F(331));var i=te;for(te|=4,H=e.current;H!==null;){var o=H,s=o.child;if(H.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(H=u;H!==null;){var c=H;switch(c.tag){case 0:case 11:case 15:Eo(8,c,o)}var f=c.child;if(f!==null)f.return=c,H=f;else for(;H!==null;){c=H;var d=c.sibling,g=c.return;if(qm(c),c===u){H=null;break}if(d!==null){d.return=g,H=d;break}H=g}}}var S=o.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}H=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,H=s;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Eo(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,H=h;break e}H=o.return}}var p=e.current;for(H=p;H!==null;){s=H;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,H=m;else e:for(s=p;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wa(9,l)}}catch(k){pe(l,l.return,k)}if(l===s){H=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,H=v;break e}H=l.return}}if(te=i,Zn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(fa,e)}catch{}r=!0}return r}finally{ne=n,mt.transition=t}}return!1}function Rh(e,t,n){t=ki(n,t),t=Um(e,t,1),e=Un(e,t,1),t=je(),e!==null&&(as(e,1,t),nt(e,t))}function pe(e,t,n){if(e.tag===3)Rh(e,e,n);else for(;t!==null;){if(t.tag===3){Rh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){e=ki(n,e),e=Bm(t,e,1),t=Un(t,e,1),e=je(),t!==null&&(as(t,1,e),nt(t,e));break}}t=t.return}}function sS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(be&n)===n&&(_e===4||_e===3&&(be&130023424)===be&&500>me()-Wf?gr(e,0):Vf|=n),nt(e,t)}function l0(e,t){t===0&&(e.mode&1?(t=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):t=1);var n=je();e=pn(e,t),e!==null&&(as(e,t,n),nt(e,n))}function lS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),l0(e,n)}function aS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),l0(e,n)}var a0;a0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,Yw(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,le&&t.flags&1048576&&fm(t,Tl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nl(e,t),e=t.pendingProps;var i=Si(t,Ue.current);fi(t,n),i=$f(null,t,r,e,i,n);var o=Ff();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(o=!0,Nl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bf(t),i.updater=ya,t.stateNode=i,i._reactInternals=t,mc(t,r,e,n),t=wc(null,t,r,!0,o,n)):(t.tag=0,le&&o&&_f(t),We(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cS(r),e=Ct(r,e),i){case 0:t=vc(null,t,r,e,n);break e;case 1:t=_h(null,t,r,e,n);break e;case 11:t=Eh(null,t,r,e,n);break e;case 14:t=kh(null,t,r,Ct(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ct(r,i),vc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ct(r,i),_h(e,t,r,i,n);case 3:e:{if(jm(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,i=o.element,gm(e,t),Ml(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ki(Error(F(423)),t),t=Nh(e,t,r,n,i);break e}else if(r!==i){i=ki(Error(F(424)),t),t=Nh(e,t,r,n,i);break e}else for(ot=zn(t.stateNode.containerInfo.firstChild),st=t,le=!0,_t=null,n=wm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xi(),r===i){t=gn(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return Sm(t),e===null&&hc(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,ac(r,i)?s=null:o!==null&&ac(r,o)&&(t.flags|=32),Wm(e,t),We(e,t,s,n),t.child;case 6:return e===null&&hc(t),null;case 13:return Gm(e,t,n);case 4:return Af(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ci(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ct(r,i),Eh(e,t,r,i,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ie(Ol,r._currentValue),r._currentValue=s,o!==null)if(bt(o.value,s)){if(o.children===i.children&&!et.current){t=gn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=fn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pc(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(F(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pc(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}We(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fi(t,n),i=vt(i),r=r(i),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,i=Ct(r,t.pendingProps),i=Ct(r.type,i),kh(e,t,r,i,n);case 15:return Hm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ct(r,i),nl(e,t),t.tag=1,tt(r)?(e=!0,Nl(t)):e=!1,fi(t,n),ym(t,r,i),mc(t,r,i,n),wc(null,t,r,!0,e,n);case 19:return Km(e,t,n);case 22:return Vm(e,t,n)}throw Error(F(156,t.tag))};function u0(e,t){return Rg(e,t)}function uS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new uS(e,t,n,r)}function Xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cS(e){if(typeof e=="function")return Xf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hf)return 11;if(e===pf)return 14}return 2}function Vn(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Xf(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Kr:return mr(n.children,i,o,t);case df:s=8,i|=8;break;case Uu:return e=pt(12,n,t,i|2),e.elementType=Uu,e.lanes=o,e;case Bu:return e=pt(13,n,t,i),e.elementType=Bu,e.lanes=o,e;case Hu:return e=pt(19,n,t,i),e.elementType=Hu,e.lanes=o,e;case vg:return xa(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mg:s=10;break e;case yg:s=9;break e;case hf:s=11;break e;case pf:s=14;break e;case xn:s=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=pt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function mr(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function xa(e,t,n,r){return e=pt(22,e,r,t),e.elementType=vg,e.lanes=n,e.stateNode={isHidden:!1},e}function vu(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function wu(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ja(0),this.expirationTimes=Ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yf(e,t,n,r,i,o,s,l,a){return e=new fS(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(o),e}function dS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function c0(e){if(!e)return Xn;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(tt(n))return um(e,n,t)}return t}function f0(e,t,n,r,i,o,s,l,a){return e=Yf(n,r,!0,e,i,o,s,l,a),e.context=c0(null),n=e.current,r=je(),i=Hn(n),o=fn(r,i),o.callback=t??null,Un(n,o,i),e.current.lanes=i,as(e,i,r),nt(e,r),e}function Ca(e,t,n,r){var i=t.current,o=je(),s=Hn(i);return n=c0(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(i,t,s),e!==null&&(It(e,i,s,o),Js(e,i,s)),s}function zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qf(e,t){Lh(e,t),(e=e.alternate)&&Lh(e,t)}function hS(){return null}var d0=typeof reportError=="function"?reportError:function(e){console.error(e)};function qf(e){this._internalRoot=e}Ea.prototype.render=qf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Ca(e,t,null,null)};Ea.prototype.unmount=qf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){Ca(null,e,null,null)}),t[hn]=null}};function Ea(e){this._internalRoot=e}Ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&Wg(e)}};function Zf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $h(){}function pS(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=zl(s);o.call(u)}}var s=f0(t,r,e,0,null,!1,!1,"",$h);return e._reactRootContainer=s,e[hn]=s.current,zo(e.nodeType===8?e.parentNode:e),kr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=zl(a);l.call(u)}}var a=Yf(e,0,!1,null,null,!1,!1,"",$h);return e._reactRootContainer=a,e[hn]=a.current,zo(e.nodeType===8?e.parentNode:e),kr(function(){Ca(t,a,n,r)}),a}function _a(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=zl(s);l.call(a)}}Ca(t,s,e,i)}else s=pS(n,t,e,i,r);return zl(s)}Ug=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=co(t.pendingLanes);n!==0&&(yf(t,n|1),nt(t,me()),!(te&6)&&(_i=me()+500,Zn()))}break;case 13:kr(function(){var r=pn(e,1);if(r!==null){var i=je();It(r,e,1,i)}}),Qf(e,1)}};vf=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=je();It(t,e,134217728,n)}Qf(e,134217728)}};Bg=function(e){if(e.tag===13){var t=Hn(e),n=pn(e,t);if(n!==null){var r=je();It(n,e,t,r)}Qf(e,t)}};Hg=function(){return ne};Vg=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Zu=function(e,t,n){switch(t){case"input":if(ju(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ga(r);if(!i)throw Error(F(90));Sg(r),ju(r,i)}}}break;case"textarea":Cg(e,n);break;case"select":t=n.value,t!=null&&li(e,!!n.multiple,t,!1)}};Og=jf;Ig=kr;var gS={usingClientEntryPoint:!1,Events:[cs,qr,ga,Pg,Tg,jf]},Ji={findFiberByHostInstance:ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mS={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ag(e),e===null?null:e.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance||hS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{fa=Ds.inject(mS),Wt=Ds}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gS;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zf(t))throw Error(F(200));return dS(e,t,null,n)};ut.createRoot=function(e,t){if(!Zf(e))throw Error(F(299));var n=!1,r="",i=d0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Yf(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,zo(e.nodeType===8?e.parentNode:e),new qf(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Ag(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return kr(e)};ut.hydrate=function(e,t,n){if(!ka(t))throw Error(F(200));return _a(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!Zf(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=d0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=f0(t,null,e,1,n??null,i,!1,o,s),e[hn]=t.current,zo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ea(t)};ut.render=function(e,t,n){if(!ka(t))throw Error(F(200));return _a(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!ka(e))throw Error(F(40));return e._reactRootContainer?(kr(function(){_a(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};ut.unstable_batchedUpdates=jf;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ka(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return _a(e,t,n,!1,r)};ut.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=ut})(h1);var Fh=Io;$u.createRoot=Fh.createRoot,$u.hydrateRoot=Fh.hydrateRoot;function Xe(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Xe(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const zh=e=>{let t;const n=new Set,r=(a,u)=>{const c=typeof a=="function"?a(t):a;if(!Object.is(c,t)){const f=t;t=u??typeof c!="object"?c:Object.assign({},t,c),n.forEach(d=>d(t,f))}},i=()=>t,l={setState:r,getState:i,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,l),l},h0=e=>e?zh(e):zh;var Mc={},yS={get exports(){return Mc},set exports(e){Mc=e}},p0={},bc={},vS={get exports(){return bc},set exports(e){bc=e}},g0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=b;function wS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SS=typeof Object.is=="function"?Object.is:wS,xS=Ni.useState,CS=Ni.useEffect,ES=Ni.useLayoutEffect,kS=Ni.useDebugValue;function _S(e,t){var n=t(),r=xS({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return ES(function(){i.value=n,i.getSnapshot=t,Su(i)&&o({inst:i})},[e,n,t]),CS(function(){return Su(i)&&o({inst:i}),e(function(){Su(i)&&o({inst:i})})},[e]),kS(n),n}function Su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!SS(e,n)}catch{return!0}}function NS(e,t){return t()}var PS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?NS:_S;g0.useSyncExternalStore=Ni.useSyncExternalStore!==void 0?Ni.useSyncExternalStore:PS;(function(e){e.exports=g0})(vS);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=b,TS=bc;function OS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IS=typeof Object.is=="function"?Object.is:OS,MS=TS.useSyncExternalStore,bS=Na.useRef,AS=Na.useEffect,DS=Na.useMemo,RS=Na.useDebugValue;p0.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=bS(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=DS(function(){function a(g){if(!u){if(u=!0,c=g,g=r(g),i!==void 0&&s.hasValue){var S=s.value;if(i(S,g))return f=S}return f=g}if(S=f,IS(c,g))return S;var w=r(g);return i!==void 0&&i(S,w)?S:(c=g,f=w)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,i]);var l=MS(e,o[0],o[1]);return AS(function(){s.hasValue=!0,s.value=l},[l]),RS(l),l};(function(e){e.exports=p0})(yS);const LS=rf(Mc),{useSyncExternalStoreWithSelector:$S}=LS;function m0(e,t=e.getState,n){const r=$S(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return b.useDebugValue(r),r}const Uh=e=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?h0(e):e,n=(r,i)=>m0(t,r,i);return Object.assign(n,t),n},FS=e=>e?Uh(e):Uh;function fe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var zS={value:()=>{}};function Pa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sl(n)}function sl(e){this._=e}function US(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sl.prototype=Pa.prototype={constructor:sl,on:function(e,t){var n=this._,r=US(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=BS(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Bh(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Bh(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new sl(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function BS(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Bh(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=zS,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ac="http://www.w3.org/1999/xhtml";const Hh={svg:"http://www.w3.org/2000/svg",xhtml:Ac,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ta(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Hh.hasOwnProperty(t)?{space:Hh[t],local:e}:e}function HS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ac&&t.documentElement.namespaceURI===Ac?t.createElement(e):t.createElementNS(n,e)}}function VS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function y0(e){var t=Ta(e);return(t.local?VS:HS)(t)}function WS(){}function Jf(e){return e==null?WS:function(){return this.querySelector(e)}}function jS(e){typeof e!="function"&&(e=Jf(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=new Array(s),a,u,c=0;c<s;++c)(a=o[c])&&(u=e.call(a,a.__data__,c,o))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new at(r,this._parents)}function GS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function KS(){return[]}function v0(e){return e==null?KS:function(){return this.querySelectorAll(e)}}function XS(e){return function(){return GS(e.apply(this,arguments))}}function YS(e){typeof e=="function"?e=XS(e):e=v0(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new at(r,i)}function w0(e){return function(){return this.matches(e)}}function S0(e){return function(t){return t.matches(e)}}var QS=Array.prototype.find;function qS(e){return function(){return QS.call(this.children,e)}}function ZS(){return this.firstElementChild}function JS(e){return this.select(e==null?ZS:qS(typeof e=="function"?e:S0(e)))}var e2=Array.prototype.filter;function t2(){return Array.from(this.children)}function n2(e){return function(){return e2.call(this.children,e)}}function r2(e){return this.selectAll(e==null?t2:n2(typeof e=="function"?e:S0(e)))}function i2(e){typeof e!="function"&&(e=w0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new at(r,this._parents)}function x0(e){return new Array(e.length)}function o2(){return new at(this._enter||this._groups.map(x0),this._parents)}function Ul(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ul.prototype={constructor:Ul,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function s2(e){return function(){return e}}function l2(e,t,n,r,i,o){for(var s=0,l,a=t.length,u=o.length;s<u;++s)(l=t[s])?(l.__data__=o[s],r[s]=l):n[s]=new Ul(e,o[s]);for(;s<a;++s)(l=t[s])&&(i[s]=l)}function a2(e,t,n,r,i,o,s){var l,a,u=new Map,c=t.length,f=o.length,d=new Array(c),g;for(l=0;l<c;++l)(a=t[l])&&(d[l]=g=s.call(a,a.__data__,l,t)+"",u.has(g)?i[l]=a:u.set(g,a));for(l=0;l<f;++l)g=s.call(e,o[l],l,o)+"",(a=u.get(g))?(r[l]=a,a.__data__=o[l],u.delete(g)):n[l]=new Ul(e,o[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(d[l])===a&&(i[l]=a)}function u2(e){return e.__data__}function c2(e,t){if(!arguments.length)return Array.from(this,u2);var n=t?a2:l2,r=this._parents,i=this._groups;typeof e!="function"&&(e=s2(e));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,g=f2(e.call(c,c&&c.__data__,u,r)),S=g.length,w=l[u]=new Array(S),P=s[u]=new Array(S),h=a[u]=new Array(d);n(c,f,w,P,h,g,t);for(var p=0,m=0,v,k;p<S;++p)if(v=w[p]){for(p>=m&&(m=p+1);!(k=P[m])&&++m<S;);v._next=k||null}}return s=new at(s,r),s._enter=l,s._exit=a,s}function f2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function d2(){return new at(this._exit||this._groups.map(x0),this._parents)}function h2(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function p2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u=n[a],c=r[a],f=u.length,d=l[a]=new Array(f),g,S=0;S<f;++S)(g=u[S]||c[S])&&(d[S]=g);for(;a<i;++a)l[a]=n[a];return new at(l,this._parents)}function g2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function m2(e){e||(e=y2);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new at(i,this._parents).order()}function y2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function v2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function w2(){return Array.from(this)}function S2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function x2(){let e=0;for(const t of this)++e;return e}function C2(){return!this.node()}function E2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function k2(e){return function(){this.removeAttribute(e)}}function _2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N2(e,t){return function(){this.setAttribute(e,t)}}function P2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function T2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function O2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function I2(e,t){var n=Ta(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?_2:k2:typeof t=="function"?n.local?O2:T2:n.local?P2:N2)(n,t))}function C0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function M2(e){return function(){this.style.removeProperty(e)}}function b2(e,t,n){return function(){this.style.setProperty(e,t,n)}}function A2(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function D2(e,t,n){return arguments.length>1?this.each((t==null?M2:typeof t=="function"?A2:b2)(e,t,n??"")):Pi(this.node(),e)}function Pi(e,t){return e.style.getPropertyValue(t)||C0(e).getComputedStyle(e,null).getPropertyValue(t)}function R2(e){return function(){delete this[e]}}function L2(e,t){return function(){this[e]=t}}function $2(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function F2(e,t){return arguments.length>1?this.each((t==null?R2:typeof t=="function"?$2:L2)(e,t)):this.node()[e]}function E0(e){return e.trim().split(/^|\s+/)}function ed(e){return e.classList||new k0(e)}function k0(e){this._node=e,this._names=E0(e.getAttribute("class")||"")}k0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _0(e,t){for(var n=ed(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function N0(e,t){for(var n=ed(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function z2(e){return function(){_0(this,e)}}function U2(e){return function(){N0(this,e)}}function B2(e,t){return function(){(t.apply(this,arguments)?_0:N0)(this,e)}}function H2(e,t){var n=E0(e+"");if(arguments.length<2){for(var r=ed(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?B2:t?z2:U2)(n,t))}function V2(){this.textContent=""}function W2(e){return function(){this.textContent=e}}function j2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function G2(e){return arguments.length?this.each(e==null?V2:(typeof e=="function"?j2:W2)(e)):this.node().textContent}function K2(){this.innerHTML=""}function X2(e){return function(){this.innerHTML=e}}function Y2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Q2(e){return arguments.length?this.each(e==null?K2:(typeof e=="function"?Y2:X2)(e)):this.node().innerHTML}function q2(){this.nextSibling&&this.parentNode.appendChild(this)}function Z2(){return this.each(q2)}function J2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ex(){return this.each(J2)}function tx(e){var t=typeof e=="function"?e:y0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function nx(){return null}function rx(e,t){var n=typeof e=="function"?e:y0(e),r=t==null?nx:typeof t=="function"?t:Jf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ix(){var e=this.parentNode;e&&e.removeChild(this)}function ox(){return this.each(ix)}function sx(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lx(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ax(e){return this.select(e?lx:sx)}function ux(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cx(e){return function(t){e.call(this,t,this.__data__)}}function fx(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function dx(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function hx(e,t,n){return function(){var r=this.__on,i,o=cx(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function px(e,t,n){var r=fx(e+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(i=0,c=l[a];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?hx:dx,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function P0(e,t,n){var r=C0(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function gx(e,t){return function(){return P0(this,e,t)}}function mx(e,t){return function(){return P0(this,e,t.apply(this,arguments))}}function yx(e,t){return this.each((typeof t=="function"?mx:gx)(e,t))}function*vx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var T0=[null];function at(e,t){this._groups=e,this._parents=t}function ds(){return new at([[document.documentElement]],T0)}function wx(){return this}at.prototype=ds.prototype={constructor:at,select:jS,selectAll:YS,selectChild:JS,selectChildren:r2,filter:i2,data:c2,enter:o2,exit:d2,join:h2,merge:p2,selection:wx,order:g2,sort:m2,call:v2,nodes:w2,node:S2,size:x2,empty:C2,each:E2,attr:I2,style:D2,property:F2,classed:H2,text:G2,html:Q2,raise:Z2,lower:ex,append:tx,insert:rx,remove:ox,clone:ax,datum:ux,on:px,dispatch:yx,[Symbol.iterator]:vx};function Nt(e){return typeof e=="string"?new at([[document.querySelector(e)]],[document.documentElement]):new at([[e]],T0)}function Sx(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Bt(e,t){if(e=Sx(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const xx={passive:!1},Xo={capture:!0,passive:!1};function xu(e){e.stopImmediatePropagation()}function hi(e){e.preventDefault(),e.stopImmediatePropagation()}function O0(e){var t=e.document.documentElement,n=Nt(e).on("dragstart.drag",hi,Xo);"onselectstart"in t?n.on("selectstart.drag",hi,Xo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function I0(e,t){var n=e.document.documentElement,r=Nt(e).on("dragstart.drag",null);t&&(r.on("click.drag",hi,Xo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Rs=e=>()=>e;function Dc(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Dc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Cx(e){return!e.ctrlKey&&!e.button}function Ex(){return this.parentNode}function kx(e,t){return t??{x:e.x,y:e.y}}function _x(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nx(){var e=Cx,t=Ex,n=kx,r=_x,i={},o=Pa("start","drag","end"),s=0,l,a,u,c,f=0;function d(v){v.on("mousedown.drag",g).filter(r).on("touchstart.drag",P).on("touchmove.drag",h,xx).on("touchend.drag touchcancel.drag",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(v,k){if(!(c||!e.call(this,v,k))){var E=m(this,t.call(this,v,k),v,k,"mouse");E&&(Nt(v.view).on("mousemove.drag",S,Xo).on("mouseup.drag",w,Xo),O0(v.view),xu(v),u=!1,l=v.clientX,a=v.clientY,E("start",v))}}function S(v){if(hi(v),!u){var k=v.clientX-l,E=v.clientY-a;u=k*k+E*E>f}i.mouse("drag",v)}function w(v){Nt(v.view).on("mousemove.drag mouseup.drag",null),I0(v.view,u),hi(v),i.mouse("end",v)}function P(v,k){if(e.call(this,v,k)){var E=v.changedTouches,N=t.call(this,v,k),M=E.length,D,L;for(D=0;D<M;++D)(L=m(this,N,v,k,E[D].identifier,E[D]))&&(xu(v),L("start",v,E[D]))}}function h(v){var k=v.changedTouches,E=k.length,N,M;for(N=0;N<E;++N)(M=i[k[N].identifier])&&(hi(v),M("drag",v,k[N]))}function p(v){var k=v.changedTouches,E=k.length,N,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<E;++N)(M=i[k[N].identifier])&&(xu(v),M("end",v,k[N]))}function m(v,k,E,N,M,D){var L=o.copy(),z=Bt(D||E,k),R,B,C;if((C=n.call(v,new Dc("beforestart",{sourceEvent:E,target:d,identifier:M,active:s,x:z[0],y:z[1],dx:0,dy:0,dispatch:L}),N))!=null)return R=C.x-z[0]||0,B=C.y-z[1]||0,function I(T,y,x){var O=z,A;switch(T){case"start":i[M]=I,A=s++;break;case"end":delete i[M],--s;case"drag":z=Bt(x||y,k),A=s;break}L.call(T,v,new Dc(T,{sourceEvent:y,subject:C,target:d,identifier:M,active:A,x:z[0]+R,y:z[1]+B,dx:z[0]-O[0],dy:z[1]-O[1],dispatch:L}),N)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Rs(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:Rs(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Rs(v),d):n},d.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Rs(!!v),d):r},d.on=function(){var v=o.on.apply(o,arguments);return v===o?d:v},d.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,d):Math.sqrt(f)},d}function td(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function M0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hs(){}var Yo=.7,Bl=1/Yo,pi="\\s*([+-]?\\d+)\\s*",Qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Px=/^#([0-9a-f]{3,8})$/,Tx=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),Ox=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),Ix=new RegExp(`^rgba\\(${pi},${pi},${pi},${Qo}\\)$`),Mx=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${Qo}\\)$`),bx=new RegExp(`^hsl\\(${Qo},${Gt},${Gt}\\)$`),Ax=new RegExp(`^hsla\\(${Qo},${Gt},${Gt},${Qo}\\)$`),Vh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};td(hs,qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Wh,formatHex:Wh,formatHex8:Dx,formatHsl:Rx,formatRgb:jh,toString:jh});function Wh(){return this.rgb().formatHex()}function Dx(){return this.rgb().formatHex8()}function Rx(){return b0(this).formatHsl()}function jh(){return this.rgb().formatRgb()}function qo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Px.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Gh(t):n===3?new Je(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ls(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ls(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tx.exec(e))?new Je(t[1],t[2],t[3],1):(t=Ox.exec(e))?new Je(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ix.exec(e))?Ls(t[1],t[2],t[3],t[4]):(t=Mx.exec(e))?Ls(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bx.exec(e))?Yh(t[1],t[2]/100,t[3]/100,1):(t=Ax.exec(e))?Yh(t[1],t[2]/100,t[3]/100,t[4]):Vh.hasOwnProperty(e)?Gh(Vh[e]):e==="transparent"?new Je(NaN,NaN,NaN,0):null}function Gh(e){return new Je(e>>16&255,e>>8&255,e&255,1)}function Ls(e,t,n,r){return r<=0&&(e=t=n=NaN),new Je(e,t,n,r)}function Lx(e){return e instanceof hs||(e=qo(e)),e?(e=e.rgb(),new Je(e.r,e.g,e.b,e.opacity)):new Je}function Rc(e,t,n,r){return arguments.length===1?Lx(e):new Je(e,t,n,r??1)}function Je(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}td(Je,Rc,M0(hs,{brighter(e){return e=e==null?Bl:Math.pow(Bl,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yo:Math.pow(Yo,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Je(yr(this.r),yr(this.g),yr(this.b),Hl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kh,formatHex:Kh,formatHex8:$x,formatRgb:Xh,toString:Xh}));function Kh(){return`#${fr(this.r)}${fr(this.g)}${fr(this.b)}`}function $x(){return`#${fr(this.r)}${fr(this.g)}${fr(this.b)}${fr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xh(){const e=Hl(this.opacity);return`${e===1?"rgb(":"rgba("}${yr(this.r)}, ${yr(this.g)}, ${yr(this.b)}${e===1?")":`, ${e})`}`}function Hl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fr(e){return e=yr(e),(e<16?"0":"")+e.toString(16)}function Yh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pt(e,t,n,r)}function b0(e){if(e instanceof Pt)return new Pt(e.h,e.s,e.l,e.opacity);if(e instanceof hs||(e=qo(e)),!e)return new Pt;if(e instanceof Pt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new Pt(s,l,a,e.opacity)}function Fx(e,t,n,r){return arguments.length===1?b0(e):new Pt(e,t,n,r??1)}function Pt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}td(Pt,Fx,M0(hs,{brighter(e){return e=e==null?Bl:Math.pow(Bl,e),new Pt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yo:Math.pow(Yo,e),new Pt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Je(Cu(e>=240?e-240:e+120,i,r),Cu(e,i,r),Cu(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Pt(Qh(this.h),$s(this.s),$s(this.l),Hl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hl(this.opacity);return`${e===1?"hsl(":"hsla("}${Qh(this.h)}, ${$s(this.s)*100}%, ${$s(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qh(e){return e=(e||0)%360,e<0?e+360:e}function $s(e){return Math.max(0,Math.min(1,e||0))}function Cu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const A0=e=>()=>e;function zx(e,t){return function(n){return e+n*t}}function Ux(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Bx(e){return(e=+e)==1?D0:function(t,n){return n-t?Ux(t,n,e):A0(isNaN(t)?n:t)}}function D0(e,t){var n=t-e;return n?zx(e,n):A0(isNaN(e)?t:e)}const qh=function e(t){var n=Bx(t);function r(i,o){var s=n((i=Rc(i)).r,(o=Rc(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=D0(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function En(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Lc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eu=new RegExp(Lc.source,"g");function Hx(e){return function(){return e}}function Vx(e){return function(t){return e(t)+""}}function Wx(e,t){var n=Lc.lastIndex=Eu.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Lc.exec(e))&&(i=Eu.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:En(r,i)})),n=Eu.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?Vx(a[0].x):Hx(t):(t=a.length,function(u){for(var c=0,f;c<t;++c)l[(f=a[c]).i]=f.x(u);return l.join("")})}var Zh=180/Math.PI,$c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function R0(e,t,n,r,i,o){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Zh,skewX:Math.atan(a)*Zh,scaleX:s,scaleY:l}}var Fs;function jx(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$c:R0(t.a,t.b,t.c,t.d,t.e,t.f)}function Gx(e){return e==null||(Fs||(Fs=document.createElementNS("http://www.w3.org/2000/svg","g")),Fs.setAttribute("transform",e),!(e=Fs.transform.baseVal.consolidate()))?$c:(e=e.matrix,R0(e.a,e.b,e.c,e.d,e.e,e.f))}function L0(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,g,S){if(u!==f||c!==d){var w=g.push("translate(",null,t,null,n);S.push({i:w-4,x:En(u,f)},{i:w-2,x:En(c,d)})}else(f||d)&&g.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:En(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function l(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:En(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function a(u,c,f,d,g,S){if(u!==f||c!==d){var w=g.push(i(g)+"scale(",null,",",null,")");S.push({i:w-4,x:En(u,f)},{i:w-2,x:En(c,d)})}else(f!==1||d!==1)&&g.push(i(g)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),l(u.skewX,c.skewX,f,d),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(g){for(var S=-1,w=d.length,P;++S<w;)f[(P=d[S]).i]=P.x(g);return f.join("")}}}var Kx=L0(jx,"px, ","px)","deg)"),Xx=L0(Gx,", ",")",")"),Yx=1e-12;function Jh(e){return((e=Math.exp(e))+1/e)/2}function Qx(e){return((e=Math.exp(e))-1/e)/2}function qx(e){return((e=Math.exp(2*e))-1)/(e+1)}const Zx=function e(t,n,r){function i(o,s){var l=o[0],a=o[1],u=o[2],c=s[0],f=s[1],d=s[2],g=c-l,S=f-a,w=g*g+S*S,P,h;if(w<Yx)h=Math.log(d/u)/t,P=function(N){return[l+N*g,a+N*S,u*Math.exp(t*N*h)]};else{var p=Math.sqrt(w),m=(d*d-u*u+r*w)/(2*u*n*p),v=(d*d-u*u-r*w)/(2*d*n*p),k=Math.log(Math.sqrt(m*m+1)-m),E=Math.log(Math.sqrt(v*v+1)-v);h=(E-k)/t,P=function(N){var M=N*h,D=Jh(k),L=u/(n*p)*(D*qx(t*M+k)-Qx(k));return[l+L*g,a+L*S,u*D/Jh(t*M+k)]}}return P.duration=h*1e3*t/Math.SQRT2,P}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,a=l*l;return e(s,l,a)},i}(Math.SQRT2,2,4);var Ti=0,ho=0,eo=0,$0=1e3,Vl,po,Wl=0,_r=0,Oa=0,Zo=typeof performance=="object"&&performance.now?performance:Date,F0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nd(){return _r||(F0(Jx),_r=Zo.now()+Oa)}function Jx(){_r=0}function jl(){this._call=this._time=this._next=null}jl.prototype=z0.prototype={constructor:jl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?nd():+n)+(t==null?0:+t),!this._next&&po!==this&&(po?po._next=this:Vl=this,po=this),this._call=e,this._time=n,Fc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fc())}};function z0(e,t,n){var r=new jl;return r.restart(e,t,n),r}function eC(){nd(),++Ti;for(var e=Vl,t;e;)(t=_r-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ti}function ep(){_r=(Wl=Zo.now())+Oa,Ti=ho=0;try{eC()}finally{Ti=0,nC(),_r=0}}function tC(){var e=Zo.now(),t=e-Wl;t>$0&&(Oa-=t,Wl=e)}function nC(){for(var e,t=Vl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vl=n);po=e,Fc(r)}function Fc(e){if(!Ti){ho&&(ho=clearTimeout(ho));var t=e-_r;t>24?(e<1/0&&(ho=setTimeout(ep,e-Zo.now()-Oa)),eo&&(eo=clearInterval(eo))):(eo||(Wl=Zo.now(),eo=setInterval(tC,$0)),Ti=1,F0(ep))}}function tp(e,t,n){var r=new jl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var rC=Pa("start","end","cancel","interrupt"),iC=[],U0=0,np=1,zc=2,ll=3,rp=4,Uc=5,al=6;function Ia(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;oC(e,n,{name:t,index:r,group:i,on:rC,tween:iC,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:U0})}function rd(e,t){var n=At(e,t);if(n.state>U0)throw new Error("too late; already scheduled");return n}function Yt(e,t){var n=At(e,t);if(n.state>ll)throw new Error("too late; already running");return n}function At(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function oC(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=z0(o,0,n.time);function o(u){n.state=np,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,g;if(n.state!==np)return a();for(c in r)if(g=r[c],g.name===n.name){if(g.state===ll)return tp(s);g.state===rp?(g.state=al,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=al,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(tp(function(){n.state===ll&&(n.state=rp,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=zc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zc){for(n.state=ll,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=g);i.length=f+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Uc,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Uc&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=al,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ul(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>zc&&r.state<Uc,r.state=al,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function sC(e){return this.each(function(){ul(this,e)})}function lC(e,t){var n,r;return function(){var i=Yt(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function aC(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Yt(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function uC(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=At(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?lC:aC)(n,e,t))}function id(e,t,n){var r=e._id;return e.each(function(){var i=Yt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return At(i,r).value[t]}}function B0(e,t){var n;return(typeof t=="number"?En:t instanceof qo?qh:(n=qo(t))?(t=n,qh):Wx)(e,t)}function cC(e){return function(){this.removeAttribute(e)}}function fC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dC(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function hC(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function pC(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function gC(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function mC(e,t){var n=Ta(e),r=n==="transform"?Xx:B0;return this.attrTween(e,typeof t=="function"?(n.local?gC:pC)(n,r,id(this,"attr."+e,t)):t==null?(n.local?fC:cC)(n):(n.local?hC:dC)(n,r,t))}function yC(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function vC(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function wC(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&vC(e,o)),n}return i._value=t,i}function SC(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&yC(e,o)),n}return i._value=t,i}function xC(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ta(e);return this.tween(n,(r.local?wC:SC)(r,t))}function CC(e,t){return function(){rd(this,e).delay=+t.apply(this,arguments)}}function EC(e,t){return t=+t,function(){rd(this,e).delay=t}}function kC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CC:EC)(t,e)):At(this.node(),t).delay}function _C(e,t){return function(){Yt(this,e).duration=+t.apply(this,arguments)}}function NC(e,t){return t=+t,function(){Yt(this,e).duration=t}}function PC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_C:NC)(t,e)):At(this.node(),t).duration}function TC(e,t){if(typeof t!="function")throw new Error;return function(){Yt(this,e).ease=t}}function OC(e){var t=this._id;return arguments.length?this.each(TC(t,e)):At(this.node(),t).ease}function IC(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Yt(this,e).ease=n}}function MC(e){if(typeof e!="function")throw new Error;return this.each(IC(this._id,e))}function bC(e){typeof e!="function"&&(e=w0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new mn(r,this._parents,this._name,this._id)}function AC(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=t[l],u=n[l],c=a.length,f=s[l]=new Array(c),d,g=0;g<c;++g)(d=a[g]||u[g])&&(f[g]=d);for(;l<r;++l)s[l]=t[l];return new mn(s,this._parents,this._name,this._id)}function DC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function RC(e,t,n){var r,i,o=DC(t)?rd:Yt;return function(){var s=o(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function LC(e,t){var n=this._id;return arguments.length<2?At(this.node(),n).on.on(e):this.each(RC(n,e,t))}function $C(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function FC(){return this.on("end.remove",$C(this._id))}function zC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jf(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,u=o[s]=new Array(a),c,f,d=0;d<a;++d)(c=l[d])&&(f=e.call(c,c.__data__,d,l))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Ia(u[d],t,n,d,u,At(c,n)));return new mn(o,this._parents,t,n)}function UC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=v0(e));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],u=a.length,c,f=0;f<u;++f)if(c=a[f]){for(var d=e.call(c,c.__data__,f,a),g,S=At(c,n),w=0,P=d.length;w<P;++w)(g=d[w])&&Ia(g,t,n,w,d,S);o.push(d),s.push(c)}return new mn(o,s,t,n)}var BC=ds.prototype.constructor;function HC(){return new BC(this._groups,this._parents)}function VC(e,t){var n,r,i;return function(){var o=Pi(this,e),s=(this.style.removeProperty(e),Pi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function H0(e){return function(){this.style.removeProperty(e)}}function WC(e,t,n){var r,i=n+"",o;return function(){var s=Pi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function jC(e,t,n){var r,i,o;return function(){var s=Pi(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Pi(this,e))),s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l))}}function GC(e,t){var n,r,i,o="style."+t,s="end."+o,l;return function(){var a=Yt(this,e),u=a.on,c=a.value[o]==null?l||(l=H0(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),a.on=r}}function KC(e,t,n){var r=(e+="")=="transform"?Kx:B0;return t==null?this.styleTween(e,VC(e,r)).on("end.style."+e,H0(e)):typeof t=="function"?this.styleTween(e,jC(e,r,id(this,"style."+e,t))).each(GC(this._id,e)):this.styleTween(e,WC(e,r,t),n).on("end.style."+e,null)}function XC(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function YC(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&XC(e,s,n)),r}return o._value=t,o}function QC(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,YC(e,t,n??""))}function qC(e){return function(){this.textContent=e}}function ZC(e){return function(){var t=e(this);this.textContent=t??""}}function JC(e){return this.tween("text",typeof e=="function"?ZC(id(this,"text",e)):qC(e==null?"":e+""))}function eE(e){return function(t){this.textContent=e.call(this,t)}}function tE(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&eE(i)),t}return r._value=e,r}function nE(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tE(e))}function rE(){for(var e=this._name,t=this._id,n=V0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=At(a,t);Ia(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new mn(r,this._parents,e,n)}function iE(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var u=Yt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),i===0&&o()})}var oE=0;function mn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function V0(){return++oE}var tn=ds.prototype;mn.prototype={constructor:mn,select:zC,selectAll:UC,selectChild:tn.selectChild,selectChildren:tn.selectChildren,filter:bC,merge:AC,selection:HC,transition:rE,call:tn.call,nodes:tn.nodes,node:tn.node,size:tn.size,empty:tn.empty,each:tn.each,on:LC,attr:mC,attrTween:xC,style:KC,styleTween:QC,text:JC,textTween:nE,remove:FC,tween:uC,delay:kC,duration:PC,ease:OC,easeVarying:MC,end:iE,[Symbol.iterator]:tn[Symbol.iterator]};function sE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lE={time:null,delay:0,duration:250,ease:sE};function aE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function uE(e){var t,n;e instanceof mn?(t=e._id,e=e._name):(t=V0(),(n=lE).time=nd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&Ia(a,e,t,u,s,n||aE(a,t));return new mn(r,this._parents,e,t)}ds.prototype.interrupt=sC;ds.prototype.transition=uE;const zs=e=>()=>e;function cE(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function cn(e,t,n){this.k=e,this.x=t,this.y=n}cn.prototype={constructor:cn,scale:function(e){return e===1?this:new cn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wn=new cn(1,0,0);cn.prototype;function ku(e){e.stopImmediatePropagation()}function to(e){e.preventDefault(),e.stopImmediatePropagation()}function fE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ip(){return this.__zoom||Wn}function hE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pE(){return navigator.maxTouchPoints||"ontouchstart"in this}function gE(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function mE(){var e=fE,t=dE,n=gE,r=hE,i=pE,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Zx,u=Pa("start","zoom","end"),c,f,d,g=500,S=150,w=0,P=10;function h(C){C.property("__zoom",ip).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",L).filter(i).on("touchstart.zoom",z).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(C,I,T,y){var x=C.selection?C.selection():C;x.property("__zoom",ip),C!==x?k(C,I,T,y):x.interrupt().each(function(){E(this,arguments).event(y).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},h.scaleBy=function(C,I,T,y){h.scaleTo(C,function(){var x=this.__zoom.k,O=typeof I=="function"?I.apply(this,arguments):I;return x*O},T,y)},h.scaleTo=function(C,I,T,y){h.transform(C,function(){var x=t.apply(this,arguments),O=this.__zoom,A=T==null?v(x):typeof T=="function"?T.apply(this,arguments):T,$=O.invert(A),U=typeof I=="function"?I.apply(this,arguments):I;return n(m(p(O,U),A,$),x,s)},T,y)},h.translateBy=function(C,I,T,y){h.transform(C,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,y)},h.translateTo=function(C,I,T,y,x){h.transform(C,function(){var O=t.apply(this,arguments),A=this.__zoom,$=y==null?v(O):typeof y=="function"?y.apply(this,arguments):y;return n(Wn.translate($[0],$[1]).scale(A.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof T=="function"?-T.apply(this,arguments):-T),O,s)},y,x)};function p(C,I){return I=Math.max(o[0],Math.min(o[1],I)),I===C.k?C:new cn(I,C.x,C.y)}function m(C,I,T){var y=I[0]-T[0]*C.k,x=I[1]-T[1]*C.k;return y===C.x&&x===C.y?C:new cn(C.k,y,x)}function v(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function k(C,I,T,y){C.on("start.zoom",function(){E(this,arguments).event(y).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(y).end()}).tween("zoom",function(){var x=this,O=arguments,A=E(x,O).event(y),$=t.apply(x,O),U=T==null?v($):typeof T=="function"?T.apply(x,O):T,j=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),G=x.__zoom,Q=typeof I=="function"?I.apply(x,O):I,J=a(G.invert(U).concat(j/G.k),Q.invert(U).concat(j/Q.k));return function(ee){if(ee===1)ee=Q;else{var re=J(ee),xe=j/re[2];ee=new cn(xe,U[0]-re[0]*xe,U[1]-re[1]*xe)}A.zoom(null,ee)}})}function E(C,I,T){return!T&&C.__zooming||new N(C,I)}function N(C,I){this.that=C,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,I),this.taps=0}N.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,I){return this.mouse&&C!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var I=Nt(this.that).datum();u.call(C,this.that,new cE(C,{sourceEvent:this.sourceEvent,target:h,type:C,transform:this.that.__zoom,dispatch:u}),I)}};function M(C,...I){if(!e.apply(this,arguments))return;var T=E(this,I).event(C),y=this.__zoom,x=Math.max(o[0],Math.min(o[1],y.k*Math.pow(2,r.apply(this,arguments)))),O=Bt(C);if(T.wheel)(T.mouse[0][0]!==O[0]||T.mouse[0][1]!==O[1])&&(T.mouse[1]=y.invert(T.mouse[0]=O)),clearTimeout(T.wheel);else{if(y.k===x)return;T.mouse=[O,y.invert(O)],ul(this),T.start()}to(C),T.wheel=setTimeout(A,S),T.zoom("mouse",n(m(p(y,x),T.mouse[0],T.mouse[1]),T.extent,s));function A(){T.wheel=null,T.end()}}function D(C,...I){if(d||!e.apply(this,arguments))return;var T=C.currentTarget,y=E(this,I,!0).event(C),x=Nt(C.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",j,!0),O=Bt(C,T),A=C.clientX,$=C.clientY;O0(C.view),ku(C),y.mouse=[O,this.__zoom.invert(O)],ul(this),y.start();function U(G){if(to(G),!y.moved){var Q=G.clientX-A,J=G.clientY-$;y.moved=Q*Q+J*J>w}y.event(G).zoom("mouse",n(m(y.that.__zoom,y.mouse[0]=Bt(G,T),y.mouse[1]),y.extent,s))}function j(G){x.on("mousemove.zoom mouseup.zoom",null),I0(G.view,y.moved),to(G),y.event(G).end()}}function L(C,...I){if(e.apply(this,arguments)){var T=this.__zoom,y=Bt(C.changedTouches?C.changedTouches[0]:C,this),x=T.invert(y),O=T.k*(C.shiftKey?.5:2),A=n(m(p(T,O),y,x),t.apply(this,I),s);to(C),l>0?Nt(this).transition().duration(l).call(k,A,y,C):Nt(this).call(h.transform,A,y,C)}}function z(C,...I){if(e.apply(this,arguments)){var T=C.touches,y=T.length,x=E(this,I,C.changedTouches.length===y).event(C),O,A,$,U;for(ku(C),A=0;A<y;++A)$=T[A],U=Bt($,this),U=[U,this.__zoom.invert(U),$.identifier],x.touch0?!x.touch1&&x.touch0[2]!==U[2]&&(x.touch1=U,x.taps=0):(x.touch0=U,O=!0,x.taps=1+!!c);c&&(c=clearTimeout(c)),O&&(x.taps<2&&(f=U[0],c=setTimeout(function(){c=null},g)),ul(this),x.start())}}function R(C,...I){if(this.__zooming){var T=E(this,I).event(C),y=C.changedTouches,x=y.length,O,A,$,U;for(to(C),O=0;O<x;++O)A=y[O],$=Bt(A,this),T.touch0&&T.touch0[2]===A.identifier?T.touch0[0]=$:T.touch1&&T.touch1[2]===A.identifier&&(T.touch1[0]=$);if(A=T.that.__zoom,T.touch1){var j=T.touch0[0],G=T.touch0[1],Q=T.touch1[0],J=T.touch1[1],ee=(ee=Q[0]-j[0])*ee+(ee=Q[1]-j[1])*ee,re=(re=J[0]-G[0])*re+(re=J[1]-G[1])*re;A=p(A,Math.sqrt(ee/re)),$=[(j[0]+Q[0])/2,(j[1]+Q[1])/2],U=[(G[0]+J[0])/2,(G[1]+J[1])/2]}else if(T.touch0)$=T.touch0[0],U=T.touch0[1];else return;T.zoom("touch",n(m(A,$,U),T.extent,s))}}function B(C,...I){if(this.__zooming){var T=E(this,I).event(C),y=C.changedTouches,x=y.length,O,A;for(ku(C),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),O=0;O<x;++O)A=y[O],T.touch0&&T.touch0[2]===A.identifier?delete T.touch0:T.touch1&&T.touch1[2]===A.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(A=Bt(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<P)){var $=Nt(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return h.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:zs(+C),h):r},h.filter=function(C){return arguments.length?(e=typeof C=="function"?C:zs(!!C),h):e},h.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:zs(!!C),h):i},h.extent=function(C){return arguments.length?(t=typeof C=="function"?C:zs([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),h):t},h.scaleExtent=function(C){return arguments.length?(o[0]=+C[0],o[1]=+C[1],h):[o[0],o[1]]},h.translateExtent=function(C){return arguments.length?(s[0][0]=+C[0][0],s[1][0]=+C[1][0],s[0][1]=+C[0][1],s[1][1]=+C[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(C){return arguments.length?(n=C,h):n},h.duration=function(C){return arguments.length?(l=+C,h):l},h.interpolate=function(C){return arguments.length?(a=C,h):a},h.on=function(){var C=u.on.apply(u,arguments);return C===u?h:C},h.clickDistance=function(C){return arguments.length?(w=(C=+C)*C,h):Math.sqrt(w)},h.tapDistance=function(C){return arguments.length?(P=+C,h):P},h}const Ma=b.createContext(null),yE=Ma.Provider,Yn={"001":()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001","002":()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.","003":e=>`Node type "${e}" not found. Using fallback type "default".`,"004":()=>"The React Flow parent container needs a width and a height to render the graph.","005":()=>"Only child nodes can use a parent extent.","006":()=>"Can't create edge. An edge needs a source and a target.","007":e=>`The old edge with id=${e} does not exist.`,"009":e=>`Marker type "${e}" doesn't exist.`,"008":(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,"010":()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.","011":e=>`Edge type "${e}" not found. Using fallback type "default".`},W0=Yn["001"]();function ge(e,t){const n=b.useContext(Ma);if(n===null)throw new Error(W0);return m0(n,e,t)}const De=()=>{const e=b.useContext(Ma);if(e===null)throw new Error(W0);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},vE=e=>e.userSelectionActive?"none":"all";function od({position:e,children:t,className:n,style:r,...i}){const o=ge(vE),s=`${e}`.split("-");return _("div",{className:Xe(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i,children:t})}function wE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:_(od,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:_("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const SE=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const f=b.useRef(null),[d,g]=b.useState({x:0,y:0,width:0,height:0}),S=Xe(["react-flow__edge-textwrapper",u]);return b.useEffect(()=>{if(f.current){const w=f.current.getBBox();g({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),typeof n>"u"||!n?null:Y("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:S,visibility:d.width?"visible":"hidden",...c,children:[i&&_("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),_("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r,children:n}),a]})};var xE=b.memo(SE);const sd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Oi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ld=(e={x:0,y:0},t)=>({x:Oi(e.x,t[0][0],t[1][0]),y:Oi(e.y,t[0][1],t[1][1])}),op=(e,t,n)=>e<t?Oi(Math.abs(e-t),1,50)/50:e>n?-Oi(Math.abs(e-n),1,50)/50:0,j0=(e,t)=>{const n=op(e.x,35,t.width-35)*20,r=op(e.y,35,t.height-35)*20;return[n,r]},G0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},CE=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),K0=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),EE=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),sp=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Bc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},kE=e=>gt(e.width)&&gt(e.height)&&gt(e.x)&&gt(e.y),gt=e=>!isNaN(e)&&isFinite(e),Ne=Symbol.for("internals"),X0=["Enter"," ","Escape"],_E=(e,t)=>{},NE=e=>"nativeEvent"in e;function Hc(e){var o,s;const t=NE(e)?e.nativeEvent:e,n=((s=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:s[0])||e.target,r=["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable")),i=e.ctrlKey||e.metaKey||e.shiftKey;return r&&!i||!!(n!=null&&n.closest(".nokey"))}const Y0=e=>"clientX"in e,jn=(e,t)=>{var o,s;const n=Y0(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},ps=({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,style:u,markerEnd:c,markerStart:f,interactionWidth:d=20})=>Y(ke,{children:[_("path",{style:u,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:c,markerStart:f}),d&&_("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&gt(t)&&gt(n)?_(xE,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]});ps.displayName="BaseEdge";function no(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function Q0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[o,l,i,s]}function q0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:l}){const a=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+l*.375+r*.125,c=Math.abs(a-e),f=Math.abs(u-t);return[a,u,c,f]}var Nr;(function(e){e.Strict="strict",e.Loose="loose"})(Nr||(Nr={}));var gi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(gi||(gi={}));var Jo;(function(e){e.Partial="partial",e.Full="full"})(Jo||(Jo={}));var Tn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Tn||(Tn={}));var Gl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Gl||(Gl={}));var W;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(W||(W={}));function lp({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===W.Left||e===W.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function Z0({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:i,targetPosition:o=W.Top}){const[s,l]=lp({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,u]=lp({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,g]=q0({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${i}`,c,f,d,g]}const ad=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=W.Bottom,targetPosition:o=W.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:S,interactionWidth:w})=>{const[P,h,p]=Z0({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return _(ps,{path:P,labelX:h,labelY:p,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:S,interactionWidth:w})});ad.displayName="SimpleBezierEdge";const ap={[W.Left]:{x:-1,y:0},[W.Right]:{x:1,y:0},[W.Top]:{x:0,y:-1},[W.Bottom]:{x:0,y:1}},PE=({source:e,sourcePosition:t=W.Bottom,target:n})=>t===W.Left||t===W.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},up=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function TE({source:e,sourcePosition:t=W.Bottom,target:n,targetPosition:r=W.Top,center:i,offset:o}){const s=ap[t],l=ap[r],a={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+l.x*o,y:n.y+l.y*o},c=PE({source:a,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",d=c[f];let g=[],S,w;const[P,h,p,m]=Q0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*l[f]===-1){S=i.x||P,w=i.y||h;const k=[{x:S,y:a.y},{x:S,y:u.y}],E=[{x:a.x,y:w},{x:u.x,y:w}];s[f]===d?g=f==="x"?k:E:g=f==="x"?E:k}else{const k=[{x:a.x,y:u.y}],E=[{x:u.x,y:a.y}];if(f==="x"?g=s.x===d?E:k:g=s.y===d?k:E,t!==r){const N=f==="x"?"y":"x",M=s[f]===l[N],D=a[N]>u[N],L=a[N]<u[N];(s[f]===1&&(!M&&D||M&&L)||s[f]!==1&&(!M&&L||M&&D))&&(g=f==="x"?k:E)}S=g[0].x,w=g[0].y}return[[e,a,...g,u,n],S,w,p,m]}function OE(e,t,n,r){const i=Math.min(up(e,t)/2,up(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${o},${s+i*a}Q ${o},${s} ${o+i*l},${s}`}function Vc({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:i,targetPosition:o=W.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,f,d,g,S]=TE({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:l,y:a},offset:u});return[c.reduce((P,h,p)=>{let m="";return p>0&&p<c.length-1?m=OE(c[p-1],h,c[p+1],s):m=`${p===0?"M":"L"}${h.x} ${h.y}`,P+=m,P},""),f,d,g,S]}const ba=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:f=W.Bottom,targetPosition:d=W.Top,markerEnd:g,markerStart:S,pathOptions:w,interactionWidth:P})=>{const[h,p,m]=Vc({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return _(ps,{path:h,labelX:p,labelY:m,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:g,markerStart:S,interactionWidth:P})});ba.displayName="SmoothStepEdge";const ud=b.memo(e=>{var t;return _(ba,{...e,pathOptions:b.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});ud.displayName="StepEdge";function IE({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,l]=Q0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,l]}const cd=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:g})=>{const[S,w,P]=IE({sourceX:e,sourceY:t,targetX:n,targetY:r});return _(ps,{path:S,labelX:w,labelY:P,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:g})});cd.displayName="StraightEdge";function Us(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function cp({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case W.Left:return[t-Us(t-r,o),n];case W.Right:return[t+Us(r-t,o),n];case W.Top:return[t,n-Us(n-i,o)];case W.Bottom:return[t,n+Us(i-n,o)]}}function J0({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:i,targetPosition:o=W.Top,curvature:s=.25}){const[l,a]=cp({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=cp({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,g,S]=q0({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${i}`,f,d,g,S]}const Kl=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=W.Bottom,targetPosition:o=W.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:S,pathOptions:w,interactionWidth:P})=>{const[h,p,m]=J0({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:w==null?void 0:w.curvature});return _(ps,{path:h,labelX:p,labelY:m,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:S,interactionWidth:P})});Kl.displayName="BezierEdge";const fd=b.createContext(null),ME=fd.Provider;fd.Consumer;const bE=()=>b.useContext(fd),AE=e=>"id"in e&&"source"in e&&"target"in e,DE=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Wc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,RE=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ey=(e,t)=>{if(!e.source||!e.target)return t;let n;return AE(e)?n={...e}:n={...e,id:DE(e)},RE(n,t)?t:t.concat(n)},ty=({x:e,y:t},[n,r,i],o,[s,l])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},LE=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),mi=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},ny=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=mi(i,t).positionAbsolute;return CE(r,K0({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return EE(n)},ry=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:d,selectable:g=!0,hidden:S=!1}=c;if(s&&!g||S)return!1;const{positionAbsolute:w}=mi(c,l),P={x:w.x,y:w.y,width:f||0,height:d||0},h=Bc(a,P),p=typeof f>"u"||typeof d>"u"||f===null||d===null,m=o&&h>0,v=(f||0)*(d||0);(p||m||h>=v||c.dragging)&&u.push(c)}),u},iy=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},oy=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),l=n/(e.height*(1+o)),a=Math.min(s,l),u=Oi(a,r,i),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*u,g=n/2-f*u;return[d,g,u]},sr=(e,t=0)=>e.transition().duration(t);function fp(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,l;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+o.y+o.height/2}),i},[])}function $E(e,t,n){let r=null,i=1/0;return n.forEach(o=>{const s=Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2));s<=t&&s<i&&(i=s,r=o)}),r}const FE={source:null,target:null,sourceHandle:null,targetHandle:null};function sy(e,t,n,r,i,o,s,l){const a=o==="target",u=l.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:c,y:f}=jn(e),d=l.elementFromPoint(c,f),g=d!=null&&d.classList.contains("react-flow__handle")?d:u,S={handleDomNode:g,isValid:!1,connection:FE};if(g){const w=ly(void 0,g),P=g.getAttribute("data-nodeid"),h=g.getAttribute("data-handleid"),p={source:a?P:r,sourceHandle:a?h:i,target:a?r:P,targetHandle:a?i:h};S.connection=p,(n===Nr.Strict?a&&w==="source"||!a&&w==="target":P!==r||h!==i)&&(S.isValid=s(p))}return S}function zE({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Ne]){const{handleBounds:s}=o[Ne];let l=[],a=[];s&&(l=fp(o,s,"source",`${t}-${n}-${r}`),a=fp(o,s,"target",`${t}-${n}-${r}`)),i.push(...l,...a)}return i},[])}function ly(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function _u(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function UE(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ay({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:l,edgeUpdaterType:a,onEdgeUpdateEnd:u}){const c=G0(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:g,connectionRadius:S,onConnectStart:w,panBy:P,getNodes:h,cancelConnection:p}=o();let m=0,v;const{x:k,y:E}=jn(e),N=c==null?void 0:c.elementFromPoint(k,E),M=ly(a,N),D=d==null?void 0:d.getBoundingClientRect();if(!D||!M)return;let L,z=jn(e,D),R=!1,B=null,C=!1,I=null;const T=zE({nodes:h(),nodeId:n,handleId:t,handleType:M}),y=()=>{if(!g)return;const[A,$]=j0(z,D);P({x:A,y:$}),m=requestAnimationFrame(y)};s({connectionPosition:z,connectionNodeId:n,connectionHandleId:t,connectionHandleType:M,connectionStatus:null}),w==null||w(e,{nodeId:n,handleId:t,handleType:M});function x(A){const{transform:$}=o();z=jn(A,D),v=$E(ty(z,$,!1,[1,1]),S,T),R||(y(),R=!0);const U=sy(A,v,f,n,t,i?"target":"source",l,c);if(I=U.handleDomNode,B=U.connection,C=U.isValid,s({connectionPosition:v&&C?LE({x:v.x,y:v.y},$):z,connectionStatus:UE(!!v,C)}),!v&&!C&&!I)return _u(L);B.source!==B.target&&I&&(_u(L),L=I,I.classList.add("connecting","react-flow__handle-connecting"),I.classList.toggle("valid",C),I.classList.toggle("react-flow__handle-valid",C))}function O(A){var $,U;(v||I)&&B&&C&&(r==null||r(B)),(U=($=o()).onConnectEnd)==null||U.call($,A),a&&(u==null||u(A)),_u(L),p(),cancelAnimationFrame(m),R=!1,C=!1,B=null,I=null,c.removeEventListener("mousemove",x),c.removeEventListener("mouseup",O),c.removeEventListener("touchmove",x),c.removeEventListener("touchend",O)}c.addEventListener("mousemove",x),c.addEventListener("mouseup",O),c.addEventListener("touchmove",x),c.addEventListener("touchend",O)}const BE=()=>!0,HE=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),uy=b.forwardRef(({type:e="source",position:t=W.Top,isValidConnection:n=BE,isConnectable:r=!0,id:i,onConnect:o,children:s,className:l,onMouseDown:a,onTouchStart:u,...c},f)=>{var E,N;const d=De(),g=bE();if(!g)return(N=(E=d.getState()).onError)==null||N.call(E,"010",Yn["010"]()),null;const{connectionStartHandle:S,connectOnClick:w,noPanClassName:P}=ge(HE,fe),h=i||null,p=e==="target",m=M=>{const{defaultEdgeOptions:D,onConnect:L,hasDefaultEdges:z}=d.getState(),R={...D,...M};if(z){const{edges:B}=d.getState();d.setState({edges:ey(R,B)})}L==null||L(R),o==null||o(R)},v=M=>{const D=Y0(M);(D&&M.button===0||!D)&&ay({event:M,handleId:h,nodeId:g,onConnect:m,isTarget:p,getState:d.getState,setState:d.setState,isValidConnection:n}),D?a==null||a(M):u==null||u(M)},k=M=>{const{onClickConnectStart:D,onClickConnectEnd:L,connectionMode:z}=d.getState();if(!S){D==null||D(M,{nodeId:g,handleId:h,handleType:e}),d.setState({connectionStartHandle:{nodeId:g,type:e,handleId:h}});return}const R=G0(M.target),{connection:B,isValid:C}=sy(M,{nodeId:g,id:h,type:e},z,S.nodeId,S.handleId||null,S.type,n,R);C&&m(B),L==null||L(M),d.setState({connectionStartHandle:null})};return _("div",{"data-handleid":h,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${h}-${e}`,className:Xe(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",P,l,{source:!p,target:p,connectable:r,connecting:(S==null?void 0:S.nodeId)===g&&(S==null?void 0:S.handleId)===h&&(S==null?void 0:S.type)===e}]),onMouseDown:v,onTouchStart:v,onClick:w?k:void 0,ref:f,...c,children:s})});uy.displayName="Handle";var es=b.memo(uy);const cy=({data:e,isConnectable:t,targetPosition:n=W.Top,sourcePosition:r=W.Bottom})=>Y(ke,{children:[_(es,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,_(es,{type:"source",position:r,isConnectable:t})]});cy.displayName="DefaultNode";var jc=b.memo(cy);const fy=({data:e,isConnectable:t,sourcePosition:n=W.Bottom})=>Y(ke,{children:[e==null?void 0:e.label,_(es,{type:"source",position:n,isConnectable:t})]});fy.displayName="InputNode";var dy=b.memo(fy);const hy=({data:e,isConnectable:t,targetPosition:n=W.Top})=>Y(ke,{children:[_(es,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});hy.displayName="OutputNode";var py=b.memo(hy);const dd=()=>null;dd.displayName="GroupNode";const VE=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),Bs=e=>e.id;function WE(e,t){return fe(e.selectedNodes.map(Bs),t.selectedNodes.map(Bs))&&fe(e.selectedEdges.map(Bs),t.selectedEdges.map(Bs))}const gy=b.memo(({onSelectionChange:e})=>{const t=De(),{selectedNodes:n,selectedEdges:r}=ge(VE,WE);return b.useEffect(()=>{var o,s;const i={nodes:n,edges:r};e==null||e(i),(s=(o=t.getState()).onSelectionChange)==null||s.call(o,i)},[n,r,e]),null});gy.displayName="SelectionListener";const jE=e=>!!e.onSelectionChange;function GE({onSelectionChange:e}){const t=ge(jE);return e||t?_(gy,{onSelectionChange:e}):null}const KE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Br(e,t){b.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Z(e,t,n){b.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const XE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,elevateNodesOnSelect:g,minZoom:S,maxZoom:w,nodeExtent:P,onNodesChange:h,onEdgesChange:p,elementsSelectable:m,connectionMode:v,snapGrid:k,snapToGrid:E,translateExtent:N,connectOnClick:M,defaultEdgeOptions:D,fitView:L,fitViewOptions:z,onNodesDelete:R,onEdgesDelete:B,onNodeDrag:C,onNodeDragStart:I,onNodeDragStop:T,onSelectionDrag:y,onSelectionDragStart:x,onSelectionDragStop:O,noPanClassName:A,nodeOrigin:$,rfId:U,autoPanOnConnect:j,autoPanOnNodeDrag:G,onError:Q,connectionRadius:J})=>{const{setNodes:ee,setEdges:re,setDefaultNodesAndEdges:xe,setMinZoom:de,setMaxZoom:Zt,setTranslateExtent:$t,setNodeExtent:Ce,reset:Ft}=ge(KE,fe),V=De();return b.useEffect(()=>{const Be=r==null?void 0:r.map(rt=>({...rt,...D}));return xe(n,Be),()=>{Ft()}},[]),Z("defaultEdgeOptions",D,V.setState),Z("connectionMode",v,V.setState),Z("onConnect",i,V.setState),Z("onConnectStart",o,V.setState),Z("onConnectEnd",s,V.setState),Z("onClickConnectStart",l,V.setState),Z("onClickConnectEnd",a,V.setState),Z("nodesDraggable",u,V.setState),Z("nodesConnectable",c,V.setState),Z("nodesFocusable",f,V.setState),Z("edgesFocusable",d,V.setState),Z("elementsSelectable",m,V.setState),Z("elevateNodesOnSelect",g,V.setState),Z("snapToGrid",E,V.setState),Z("snapGrid",k,V.setState),Z("onNodesChange",h,V.setState),Z("onEdgesChange",p,V.setState),Z("connectOnClick",M,V.setState),Z("fitViewOnInit",L,V.setState),Z("fitViewOnInitOptions",z,V.setState),Z("onNodesDelete",R,V.setState),Z("onEdgesDelete",B,V.setState),Z("onNodeDrag",C,V.setState),Z("onNodeDragStart",I,V.setState),Z("onNodeDragStop",T,V.setState),Z("onSelectionDrag",y,V.setState),Z("onSelectionDragStart",x,V.setState),Z("onSelectionDragStop",O,V.setState),Z("noPanClassName",A,V.setState),Z("nodeOrigin",$,V.setState),Z("rfId",U,V.setState),Z("autoPanOnConnect",j,V.setState),Z("autoPanOnNodeDrag",G,V.setState),Z("onError",Q,V.setState),Z("connectionRadius",J,V.setState),Br(e,ee),Br(t,re),Br(S,de),Br(w,Zt),Br(N,$t),Br(P,Ce),null},dp={display:"none"},YE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},my="react-flow__node-desc",yy="react-flow__edge-desc",QE="react-flow__aria-live",qE=e=>e.ariaLiveMessage;function ZE({rfId:e}){const t=ge(qE);return _("div",{id:`${QE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:YE,children:t})}function JE({rfId:e,disableKeyboardA11y:t}){return Y(ke,{children:[Y("div",{id:`${my}-${e}`,style:dp,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),_("div",{id:`${yy}-${e}`,style:dp,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&_(ZE,{rfId:e})]})}const e3=(e,t,n)=>n===W.Left?e-t:n===W.Right?e+t:e,t3=(e,t,n)=>n===W.Top?e-t:n===W.Bottom?e+t:e,hp="react-flow__edgeupdater",pp=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:l})=>_("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Xe([hp,`${hp}-${l}`]),cx:e3(t,r,e),cy:t3(n,r,e),r,stroke:"transparent",fill:"transparent"});var Hr=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:S,labelBgBorderRadius:w,style:P,source:h,target:p,sourceX:m,sourceY:v,targetX:k,targetY:E,sourcePosition:N,targetPosition:M,elementsSelectable:D,hidden:L,sourceHandleId:z,targetHandleId:R,onContextMenu:B,onMouseEnter:C,onMouseMove:I,onMouseLeave:T,edgeUpdaterRadius:y,onEdgeUpdate:x,onEdgeUpdateStart:O,onEdgeUpdateEnd:A,markerEnd:$,markerStart:U,rfId:j,ariaLabel:G,isFocusable:Q,pathOptions:J,interactionWidth:ee})=>{const re=b.useRef(null),[xe,de]=b.useState(!1),[Zt,$t]=b.useState(!1),Ce=De(),Ft=b.useMemo(()=>`url(#${Wc(U,j)})`,[U,j]),V=b.useMemo(()=>`url(#${Wc($,j)})`,[$,j]);if(L)return null;const Be=Ye=>{const{edges:St,addSelectedEdges:tr}=Ce.getState();if(D&&(Ce.setState({nodesSelectionActive:!1}),tr([n])),s){const nr=St.find(en=>en.id===n);s(Ye,nr)}},rt=no(n,Ce.getState,l),Lr=no(n,Ce.getState,B),zi=no(n,Ce.getState,C),Ui=no(n,Ce.getState,I),Bi=no(n,Ce.getState,T),vn=(Ye,St)=>{if(Ye.button!==0)return;const tr=St?p:h,nr=(St?R:z)||null,en=St?"target":"source",ys=()=>!0,Wi=St,ji=Ce.getState().edges.find(rr=>rr.id===n);$t(!0),O==null||O(Ye,ji,en);const Ga=rr=>{$t(!1),A==null||A(rr,ji,en)};ay({event:Ye,handleId:nr,nodeId:tr,onConnect:rr=>x==null?void 0:x(ji,rr),isTarget:Wi,getState:Ce.getState,setState:Ce.setState,isValidConnection:ys,edgeUpdaterType:en,onEdgeUpdateEnd:Ga})},$r=Ye=>vn(Ye,!0),wn=Ye=>vn(Ye,!1),Fr=()=>de(!0),Jt=()=>de(!1),Hi=!D&&!s,Vi=typeof x<"u",zr=Ye=>{var St;if(X0.includes(Ye.key)&&D){const{unselectNodesAndEdges:tr,addSelectedEdges:nr,edges:en}=Ce.getState();Ye.key==="Escape"?((St=re.current)==null||St.blur(),tr({edges:[en.find(Wi=>Wi.id===n)]})):nr([n])}};return Y("g",{className:Xe(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:a,animated:u,inactive:Hi,updating:xe}]),onClick:Be,onDoubleClick:rt,onContextMenu:Lr,onMouseEnter:zi,onMouseMove:Ui,onMouseLeave:Bi,onKeyDown:Q?zr:void 0,tabIndex:Q?0:void 0,role:Q?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":G===null?void 0:G||`Edge from ${h} to ${p}`,"aria-describedby":Q?`${yy}-${j}`:void 0,ref:re,children:[!Zt&&_(e,{id:n,source:h,target:p,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:S,labelBgBorderRadius:w,data:o,style:P,sourceX:m,sourceY:v,targetX:k,targetY:E,sourcePosition:N,targetPosition:M,sourceHandleId:z,targetHandleId:R,markerStart:Ft,markerEnd:V,pathOptions:J,interactionWidth:ee}),Vi&&Y(ke,{children:[_(pp,{position:N,centerX:m,centerY:v,radius:y,onMouseDown:$r,onMouseEnter:Fr,onMouseOut:Jt,type:"source"}),_(pp,{position:M,centerX:k,centerY:E,radius:y,onMouseDown:wn,onMouseEnter:Fr,onMouseOut:Jt,type:"target"})]})]})};return t.displayName="EdgeWrapper",b.memo(t)};function n3(e){const t={default:Hr(e.default||Kl),straight:Hr(e.bezier||cd),step:Hr(e.step||ud),smoothstep:Hr(e.step||ba),simplebezier:Hr(e.simplebezier||ad)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Hr(e[o]||Kl),i),n);return{...t,...r}}function gp(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case W.Top:return{x:r+o/2,y:i};case W.Right:return{x:r+o,y:i+s/2};case W.Bottom:return{x:r+o/2,y:i+s};case W.Left:return{x:r,y:i+s/2}}}function mp(e,t){return e?t?e.find(n=>n.id===t):e.length===1?e[0]:null:null}const r3=(e,t,n,r,i,o)=>{const s=gp(n,e,t),l=gp(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function i3({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=K0({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function yp(e){var r,i,o,s,l;const t=((r=e==null?void 0:e[Ne])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}function vy(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:vy(n,t):!1}function vp(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function o3(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||!vy(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode,width:i.width,height:i.height}})}function wy(e,t,n,r,i=[0,0],o){let s=e.extent||r;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const u=n.get(e.parentNode),{x:c,y:f}=mi(u,i).positionAbsolute;s=u&&gt(c)&&gt(f)&&gt(u.width)&&gt(u.height)?[[c+e.width*i[0],f+e.height*i[1]],[c+u.width-e.width+e.width*i[0],f+u.height-e.height+e.height*i[1]]]:s}else o==null||o("005",Yn["005"]()),s=r;else if(e.extent&&e.parentNode){const u=n.get(e.parentNode),{x:c,y:f}=mi(u,i).positionAbsolute;s=[[e.extent[0][0]+c,e.extent[0][1]+f],[e.extent[1][0]+c,e.extent[1][1]+f]]}let l={x:0,y:0};if(e.parentNode){const u=n.get(e.parentNode);l=mi(u,i).positionAbsolute}const a=s?ld(t,s):t;return{position:{x:a.x-l.x,y:a.y-l.y},positionAbsolute:a}}function Nu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const wp=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return o.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...sd(a)}})};function ro(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);n(r,{...i})}}function Gc({id:e,store:t,unselect:n=!1}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:s}=t.getState(),l=s.get(e);t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&o)&&i({nodes:[l]}):r([e])}function s3(){const e=De();return b.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(a.x/i[0]):a.x,ySnapped:o?i[1]*Math.round(a.y/i[1]):a.y,...a}},[])}function Pu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Sy({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const l=De(),[a,u]=b.useState(!1),c=b.useRef([]),f=b.useRef({x:null,y:null}),d=b.useRef(0),g=b.useRef(null),S=b.useRef({x:0,y:0}),w=b.useRef(null),P=b.useRef(!1),h=s3();return b.useEffect(()=>{if(e!=null&&e.current){const p=Nt(e.current),m=({x:k,y:E})=>{const{nodeInternals:N,onNodeDrag:M,onSelectionDrag:D,updateNodePositions:L,nodeExtent:z,snapGrid:R,snapToGrid:B,nodeOrigin:C,onError:I}=l.getState();f.current={x:k,y:E};let T=!1;if(c.current=c.current.map(x=>{const O={x:k-x.distance.x,y:E-x.distance.y};B&&(O.x=R[0]*Math.round(O.x/R[0]),O.y=R[1]*Math.round(O.y/R[1]));const A=wy(x,O,N,z,C,I);return T=T||x.position.x!==A.position.x||x.position.y!==A.position.y,x.position=A.position,x.positionAbsolute=A.positionAbsolute,x}),!T)return;L(c.current,!0,!0),u(!0);const y=i?M:Pu(D);if(y&&w.current){const[x,O]=Nu({nodeId:i,dragItems:c.current,nodeInternals:N});y(w.current,x,O)}},v=()=>{if(!g.current)return;const[k,E]=j0(S.current,g.current);if(k!==0||E!==0){const{transform:N,panBy:M}=l.getState();f.current.x=(f.current.x??0)-k/N[2],f.current.y=(f.current.y??0)-E/N[2],m(f.current),M({x:k,y:E})}d.current=requestAnimationFrame(v)};if(t)p.on(".drag",null);else{const k=Nx().on("start",E=>{var T;const{nodeInternals:N,multiSelectionActive:M,domNode:D,nodesDraggable:L,unselectNodesAndEdges:z,onNodeDragStart:R,onSelectionDragStart:B}=l.getState(),C=i?R:Pu(B);!s&&!M&&i&&((T=N.get(i))!=null&&T.selected||z()),i&&o&&s&&Gc({id:i,store:l});const I=h(E);if(f.current=I,c.current=o3(N,L,I,i),C&&c.current){const[y,x]=Nu({nodeId:i,dragItems:c.current,nodeInternals:N});C(E.sourceEvent,y,x)}g.current=(D==null?void 0:D.getBoundingClientRect())||null,S.current=jn(E.sourceEvent,g.current)}).on("drag",E=>{const N=h(E),{autoPanOnNodeDrag:M}=l.getState();!P.current&&M&&(P.current=!0,v()),(f.current.x!==N.xSnapped||f.current.y!==N.ySnapped)&&c.current&&(w.current=E.sourceEvent,S.current=jn(E.sourceEvent,g.current),m(N))}).on("end",E=>{if(u(!1),P.current=!1,cancelAnimationFrame(d.current),c.current){const{updateNodePositions:N,nodeInternals:M,onNodeDragStop:D,onSelectionDragStop:L}=l.getState(),z=i?D:Pu(L);if(N(c.current,!1,!1),z){const[R,B]=Nu({nodeId:i,dragItems:c.current,nodeInternals:M});z(E.sourceEvent,R,B)}}}).filter(E=>{const N=E.target;return!E.button&&(!n||!vp(N,`.${n}`,e))&&(!r||vp(N,r,e))});return p.call(k),()=>{p.on(".drag",null)}}}},[e,t,n,r,o,l,i,s,h]),a}function xy(){const e=De();return b.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(p=>p.selected&&(p.draggable||c&&typeof p.draggable>"u")),d=l?a[0]:5,g=l?a[1]:5,S=n.isShiftPressed?4:1,w=n.x*d*S,P=n.y*g*S,h=f.map(p=>{if(p.positionAbsolute){const m={x:p.positionAbsolute.x+w,y:p.positionAbsolute.y+P};l&&(m.x=a[0]*Math.round(m.x/a[0]),m.y=a[1]*Math.round(m.y/a[1]));const{positionAbsolute:v,position:k}=wy(p,m,r,i,void 0,u);p.position=k,p.positionAbsolute=v}return p});o(h,!0,!1)},[])}const yi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var io=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:g,onContextMenu:S,onDoubleClick:w,style:P,className:h,isDraggable:p,isSelectable:m,isConnectable:v,isFocusable:k,selectNodesOnDrag:E,sourcePosition:N,targetPosition:M,hidden:D,resizeObserver:L,dragHandle:z,zIndex:R,isParent:B,noDragClassName:C,noPanClassName:I,initialized:T,disableKeyboardA11y:y,ariaLabel:x,rfId:O})=>{const A=De(),$=b.useRef(null),U=b.useRef(N),j=b.useRef(M),G=b.useRef(r),Q=m||p||c||f||d||g,J=xy(),ee=ro(n,A.getState,f),re=ro(n,A.getState,d),xe=ro(n,A.getState,g),de=ro(n,A.getState,S),Zt=ro(n,A.getState,w),$t=V=>{if(m&&(!E||!p)&&Gc({id:n,store:A}),c){const Be=A.getState().nodeInternals.get(n);c(V,{...Be})}},Ce=V=>{var Be;if(!Hc(V))if(X0.includes(V.key)&&m){const rt=V.key==="Escape";rt&&((Be=$.current)==null||Be.blur()),Gc({id:n,store:A,unselect:rt})}else!y&&p&&u&&Object.prototype.hasOwnProperty.call(yi,V.key)&&(A.setState({ariaLiveMessage:`Moved selected node ${V.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),J({x:yi[V.key].x,y:yi[V.key].y,isShiftPressed:V.shiftKey}))};b.useEffect(()=>{if($.current&&!D){const V=$.current;return L==null||L.observe(V),()=>L==null?void 0:L.unobserve(V)}},[D]),b.useEffect(()=>{const V=G.current!==r,Be=U.current!==N,rt=j.current!==M;$.current&&(V||Be||rt)&&(V&&(G.current=r),Be&&(U.current=N),rt&&(j.current=M),A.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,N,M]);const Ft=Sy({nodeRef:$,disabled:D||!p,noDragClassName:C,handleSelector:z,nodeId:n,isSelectable:m,selectNodesOnDrag:E});return D?null:_("div",{className:Xe(["react-flow__node",`react-flow__node-${r}`,{[I]:p},h,{selected:u,selectable:m,parent:B,dragging:Ft}]),ref:$,style:{zIndex:R,transform:`translate(${l}px,${a}px)`,pointerEvents:Q?"all":"none",visibility:T?"visible":"hidden",...P},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ee,onMouseMove:re,onMouseLeave:xe,onContextMenu:de,onClick:$t,onDoubleClick:Zt,onKeyDown:k?Ce:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":y?void 0:`${my}-${O}`,"aria-label":x,children:_(ME,{value:n,children:_(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:v,sourcePosition:N,targetPosition:M,dragging:Ft,dragHandle:z,zIndex:R})})})};return t.displayName="NodeWrapper",b.memo(t)};function l3(e){const t={input:io(e.input||dy),default:io(e.default||jc),output:io(e.output||py),group:io(e.group||dd)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=io(e[o]||jc),i),n);return{...t,...r}}const a3=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},u3=typeof document<"u"?document:null;var ts=(e=null,t={target:u3})=>{const[n,r]=b.useState(!1),i=b.useRef(new Set([])),[o,s]=b.useMemo(()=>{if(e!==null){const a=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.split("+")),u=a.reduce((c,f)=>c.concat(...f),[]);return[a,u]}return[[],[]]},[e]);return b.useEffect(()=>{var l,a;if(e!==null){const u=d=>{if(Hc(d))return!1;const g=xp(d.code,s);i.current.add(d[g]),Sp(o,i.current,!1)&&(d.preventDefault(),r(!0))},c=d=>{if(Hc(d))return!1;const g=xp(d.code,s);Sp(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(d[g])},f=()=>{i.current.clear(),r(!1)};return(l=t==null?void 0:t.target)==null||l.addEventListener("keydown",u),(a=t==null?void 0:t.target)==null||a.addEventListener("keyup",c),window.addEventListener("blur",f),()=>{var d,g;(d=t==null?void 0:t.target)==null||d.removeEventListener("keydown",u),(g=t==null?void 0:t.target)==null||g.removeEventListener("keyup",c),window.removeEventListener("blur",f)}}},[e,r]),n};function Sp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function xp(e,t){return t.includes(e)?"code":"key"}function Cy(e,t,n,r){var s,l;if(!e.parentNode)return n;const i=t.get(e.parentNode),o=mi(i,r);return Cy(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((s=i[Ne])==null?void 0:s.z)??0)>(n.z??0)?((l=i[Ne])==null?void 0:l.z)??0:n.z??0},r)}function Ey(e,t,n){e.forEach(r=>{var i;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:o,y:s,z:l}=Cy(r,e,{...r.position,z:((i=r[Ne])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:s},r[Ne].z=l,n!=null&&n[r.id]&&(r[Ne].isParent=!0)}})}function Tu(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(l=>{var f;const a=(gt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={width:u==null?void 0:u.width,height:u==null?void 0:u.height,...l,positionAbsolute:{x:l.position.x,y:l.position.y}};l.parentNode&&(c.parentNode=l.parentNode,o[l.parentNode]=!0),Object.defineProperty(c,Ne,{enumerable:!1,value:{handleBounds:(f=u==null?void 0:u[Ne])==null?void 0:f.handleBounds,z:a}}),i.set(l.id,c)}),Ey(i,n,o),i}function ky(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!u&&c;if(l&&a&&(d||!t.initial)){const S=n().filter(P=>{var p;const h=t.includeHiddenNodes?P.width&&P.height:!P.hidden;return(p=t.nodes)!=null&&p.length?h&&t.nodes.some(m=>m.id===P.id):h}),w=S.every(P=>P.width&&P.height);if(S.length>0&&w){const P=ny(S,f),[h,p,m]=oy(P,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),v=Wn.translate(h,p).scale(m);return typeof t.duration=="number"&&t.duration>0?l.transform(sr(a,t.duration),v):l.transform(a,v),!0}}return!1}function c3(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ne]:r[Ne],selected:n.selected})}),new Map(t)}function f3(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Hs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:c3(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:f3(t,o)}),l==null||l(t))}const Vr=()=>{},d3={zoomIn:Vr,zoomOut:Vr,zoomTo:Vr,getZoom:()=>1,setViewport:Vr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Vr,fitBounds:Vr,project:e=>e,viewportInitialized:!1},h3=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),p3=()=>{const e=De(),{d3Zoom:t,d3Selection:n}=ge(h3,fe);return b.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(sr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(sr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(sr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,l,a]=e.getState().transform,u=Wn.translate(i.x??s,i.y??l).scale(i.zoom??a);t.transform(sr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>ky(e.getState,i),setCenter:(i,o,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=l/2-i*c,d=a/2-o*c,g=Wn.translate(f,d).scale(c);t.transform(sr(n,s==null?void 0:s.duration),g)},fitBounds:(i,o)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),[c,f,d]=oy(i,s,l,a,u,(o==null?void 0:o.padding)??.1),g=Wn.translate(c,f).scale(d);t.transform(sr(n,o==null?void 0:o.duration),g)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:l}=e.getState();return ty(i,o,s,l)},viewportInitialized:!0}:d3,[t,n])};function hd(){const e=p3(),t=De(),n=b.useCallback(()=>t.getState().getNodes().map(w=>({...w})),[]),r=b.useCallback(w=>t.getState().nodeInternals.get(w),[]),i=b.useCallback(()=>{const{edges:w=[]}=t.getState();return w.map(P=>({...P}))},[]),o=b.useCallback(w=>{const{edges:P=[]}=t.getState();return P.find(h=>h.id===w)},[]),s=b.useCallback(w=>{const{getNodes:P,setNodes:h,hasDefaultNodes:p,onNodesChange:m}=t.getState(),v=P(),k=typeof w=="function"?w(v):w;if(p)h(k);else if(m){const E=k.length===0?v.map(N=>({type:"remove",id:N.id})):k.map(N=>({item:N,type:"reset"}));m(E)}},[]),l=b.useCallback(w=>{const{edges:P=[],setEdges:h,hasDefaultEdges:p,onEdgesChange:m}=t.getState(),v=typeof w=="function"?w(P):w;if(p)h(v);else if(m){const k=v.length===0?P.map(E=>({type:"remove",id:E.id})):v.map(E=>({item:E,type:"reset"}));m(k)}},[]),a=b.useCallback(w=>{const P=Array.isArray(w)?w:[w],{getNodes:h,setNodes:p,hasDefaultNodes:m,onNodesChange:v}=t.getState();if(m){const E=[...h(),...P];p(E)}else if(v){const k=P.map(E=>({item:E,type:"add"}));v(k)}},[]),u=b.useCallback(w=>{const P=Array.isArray(w)?w:[w],{edges:h=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:v}=t.getState();if(m)p([...h,...P]);else if(v){const k=P.map(E=>({item:E,type:"add"}));v(k)}},[]),c=b.useCallback(()=>{const{getNodes:w,edges:P=[],transform:h}=t.getState(),[p,m,v]=h;return{nodes:w().map(k=>({...k})),edges:P.map(k=>({...k})),viewport:{x:p,y:m,zoom:v}}},[]),f=b.useCallback(({nodes:w,edges:P})=>{const{nodeInternals:h,getNodes:p,edges:m,hasDefaultNodes:v,hasDefaultEdges:k,onNodesDelete:E,onEdgesDelete:N,onNodesChange:M,onEdgesChange:D}=t.getState(),L=(w||[]).map(I=>I.id),z=(P||[]).map(I=>I.id),R=p().reduce((I,T)=>{const y=!L.includes(T.id)&&T.parentNode&&I.find(O=>O.id===T.parentNode);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(L.includes(T.id)||y)&&I.push(T),I},[]),B=m.filter(I=>typeof I.deletable=="boolean"?I.deletable:!0),C=B.filter(I=>z.includes(I.id));if(R||C){const I=iy(R,B),T=[...C,...I],y=T.reduce((x,O)=>(x.includes(O.id)||x.push(O.id),x),[]);if((k||v)&&(k&&t.setState({edges:m.filter(x=>!y.includes(x.id))}),v&&(R.forEach(x=>{h.delete(x.id)}),t.setState({nodeInternals:new Map(h)}))),y.length>0&&(N==null||N(T),D&&D(y.map(x=>({id:x,type:"remove"})))),R.length>0&&(E==null||E(R),M)){const x=R.map(O=>({id:O.id,type:"remove"}));M(x)}}},[]),d=b.useCallback(w=>{const P=kE(w),h=P?null:t.getState().nodeInternals.get(w.id);return[P?w:sp(h),h,P]},[]),g=b.useCallback((w,P=!0,h)=>{const[p,m,v]=d(w);return p?(h||t.getState().getNodes()).filter(k=>{if(!v&&(k.id===m.id||!k.positionAbsolute))return!1;const E=sp(k),N=Bc(E,p);return P&&N>0||N>=w.width*w.height}):[]},[]),S=b.useCallback((w,P,h=!0)=>{const[p]=d(w);if(!p)return!1;const m=Bc(p,P);return h&&m>0||m>=w.width*w.height},[]);return b.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:S}),[e,n,r,i,o,s,l,a,u,c,f,g,S])}var g3=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=De(),{deleteElements:r}=hd(),i=ts(e),o=ts(t);b.useEffect(()=>{if(i){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),b.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function m3(e){const t=De();b.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=sd(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",Yn["004"]())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const pd={position:"absolute",width:"100%",height:"100%",top:0,left:0},y3=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ou=e=>({x:e.x,y:e.y,zoom:e.k}),Wr=(e,t)=>e.target.closest(`.${t}`),Cp=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),v3=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),w3=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=gi.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:g,minZoom:S,maxZoom:w,zoomActivationKeyCode:P,preventScrolling:h=!0,children:p,noWheelClassName:m,noPanClassName:v})=>{const k=b.useRef(),E=De(),N=b.useRef(!1),M=b.useRef(!1),D=b.useRef(null),L=b.useRef({x:0,y:0,zoom:0}),{d3Zoom:z,d3Selection:R,d3ZoomHandler:B,userSelectionActive:C}=ge(v3,fe),I=ts(P),T=b.useRef(0);return m3(D),b.useEffect(()=>{if(D.current){const y=D.current.getBoundingClientRect(),x=mE().scaleExtent([S,w]).translateExtent(g),O=Nt(D.current).call(x),A=Wn.translate(d.x,d.y).scale(Oi(d.zoom,S,w)),$=[[0,0],[y.width,y.height]],U=x.constrain()(A,$,g);x.transform(O,U),E.setState({d3Zoom:x,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:D.current.closest(".react-flow")})}},[]),b.useEffect(()=>{R&&z&&(s&&!I&&!C?R.on("wheel.zoom",y=>{if(Wr(y,m))return!1;y.preventDefault(),y.stopImmediatePropagation();const x=R.property("__zoom").k||1;if(y.ctrlKey&&o){const U=Bt(y),j=-y.deltaY*(y.deltaMode===1?.05:y.deltaMode?1:.002)*10,G=x*Math.pow(2,j);z.scaleTo(R,G,U);return}const O=y.deltaMode===1?20:1,A=a===gi.Vertical?0:y.deltaX*O,$=a===gi.Horizontal?0:y.deltaY*O;z.translateBy(R,-(A/x)*l,-($/x)*l)}):typeof B<"u"&&R.on("wheel.zoom",function(y,x){if(!h||Wr(y,m))return null;y.preventDefault(),B.call(this,y,x)}))},[C,s,a,R,z,B,I,o,h,m]),b.useEffect(()=>{z&&z.on("start",y=>{var O;if(!y.sourceEvent)return null;T.current=y.sourceEvent.button;const{onViewportChangeStart:x}=E.getState();if(N.current=!0,((O=y.sourceEvent)==null?void 0:O.type)==="mousedown"&&E.setState({paneDragging:!0}),t||x){const A=Ou(y.transform);L.current=A,x==null||x(A),t==null||t(y.sourceEvent,A)}})},[z,t]),b.useEffect(()=>{z&&(C&&!N.current?z.on("zoom",null):C||z.on("zoom",y=>{const{onViewportChange:x}=E.getState();if(E.setState({transform:[y.transform.x,y.transform.y,y.transform.k]}),M.current=!!(r&&Cp(f,T.current??0)),e||x){const O=Ou(y.transform);x==null||x(O),e==null||e(y.sourceEvent,O)}}))},[C,z,e,f,r]),b.useEffect(()=>{z&&z.on("end",y=>{if(!y.sourceEvent)return null;const{onViewportChangeEnd:x}=E.getState();if(N.current=!1,E.setState({paneDragging:!1}),r&&Cp(f,T.current??0)&&!M.current&&r(y.sourceEvent),M.current=!1,(n||x)&&y3(L.current,y.transform)){const O=Ou(y.transform);L.current=O,clearTimeout(k.current),k.current=setTimeout(()=>{x==null||x(O),n==null||n(y.sourceEvent,O)},s?150:0)}})},[z,s,f,n,r]),b.useEffect(()=>{z&&z.filter(y=>{const x=I||i,O=o&&y.ctrlKey;if(y.button===1&&y.type==="mousedown"&&(Wr(y,"react-flow__node")||Wr(y,"react-flow__edge")))return!0;if(!f&&!x&&!s&&!u&&!o||C||!u&&y.type==="dblclick"||Wr(y,m)&&y.type==="wheel"||Wr(y,v)&&y.type!=="wheel"||!o&&y.ctrlKey&&y.type==="wheel"||!x&&!s&&!O&&y.type==="wheel"||!f&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(f)&&!f.includes(y.button)&&(y.type==="mousedown"||y.type==="touchstart"))return!1;const A=Array.isArray(f)&&f.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||y.type==="wheel")&&A})},[C,z,i,o,s,u,f,c,I]),_("div",{className:"react-flow__renderer",ref:D,style:pd,children:p})},S3=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function x3(){const{userSelectionActive:e,userSelectionRect:t}=ge(S3,fe);return e&&t?_("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Ep(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),i>0&&(n.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function _y(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(l=>l.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const l of o)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&Ep(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&Ep(r,s);break}case"remove":return r}return r.push(s),r},n)}function Xl(e,t){return _y(e,t)}function C3(e,t){return _y(e,t)}const kn=(e,t)=>({id:e,type:"select",selected:t});function ii(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(kn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(kn(r.id,!1))),n},[])}const Iu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},E3=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ny=b.memo(({isSelecting:e,selectionMode:t=Jo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const d=b.useRef(null),g=De(),S=b.useRef(0),w=b.useRef(0),P=b.useRef(),{userSelectionActive:h,elementsSelectable:p,dragging:m}=ge(E3,fe),v=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),S.current=0,w.current=0},k=B=>{o==null||o(B),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},E=B=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){B.preventDefault();return}s==null||s(B)},N=l?B=>l(B):void 0,M=B=>{const{resetSelectedElements:C,domNode:I}=g.getState();if(P.current=I==null?void 0:I.getBoundingClientRect(),!p||!e||B.button!==0||B.target!==d.current||!P.current)return;const{x:T,y}=jn(B,P.current);C(),g.setState({userSelectionRect:{width:0,height:0,startX:T,startY:y,x:T,y}}),r==null||r(B)},D=B=>{const{userSelectionRect:C,nodeInternals:I,edges:T,transform:y,onNodesChange:x,onEdgesChange:O,nodeOrigin:A,getNodes:$}=g.getState();if(!e||!P.current||!C)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const U=jn(B,P.current),j=C.startX??0,G=C.startY??0,Q={...C,x:U.x<j?U.x:j,y:U.y<G?U.y:G,width:Math.abs(U.x-j),height:Math.abs(U.y-G)},J=$(),ee=ry(I,Q,y,t===Jo.Partial,!0,A),re=iy(ee,T).map(de=>de.id),xe=ee.map(de=>de.id);if(S.current!==xe.length){S.current=xe.length;const de=ii(J,xe);de.length&&(x==null||x(de))}if(w.current!==re.length){w.current=re.length;const de=ii(T,re);de.length&&(O==null||O(de))}g.setState({userSelectionRect:Q})},L=B=>{if(B.button!==0)return;const{userSelectionRect:C}=g.getState();!h&&C&&B.target===d.current&&(k==null||k(B)),g.setState({nodesSelectionActive:S.current>0}),v(),i==null||i(B)},z=B=>{h&&(g.setState({nodesSelectionActive:S.current>0}),i==null||i(B)),v()},R=p&&(e||h);return Y("div",{className:Xe(["react-flow__pane",{dragging:m,selection:e}]),onClick:R?void 0:Iu(k,d),onContextMenu:Iu(E,d),onWheel:Iu(N,d),onMouseEnter:R?void 0:a,onMouseDown:R?M:void 0,onMouseMove:R?D:u,onMouseUp:R?L:void 0,onMouseLeave:R?z:c,ref:d,style:pd,children:[f,_(x3,{})]})});Ny.displayName="Pane";const k3=e=>{const t=e.getNodes().filter(n=>n.selected);return{...ny(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function _3({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=De(),{width:i,height:o,x:s,y:l,transformString:a,userSelectionActive:u}=ge(k3,fe),c=xy(),f=b.useRef(null);if(b.useEffect(()=>{var S;n||(S=f.current)==null||S.focus({preventScroll:!0})},[n]),Sy({nodeRef:f}),u||!i||!o)return null;const d=e?S=>{const w=r.getState().getNodes().filter(P=>P.selected);e(S,w)}:void 0,g=S=>{Object.prototype.hasOwnProperty.call(yi,S.key)&&c({x:yi[S.key].x,y:yi[S.key].y,isShiftPressed:S.shiftKey})};return _("div",{className:Xe(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:_("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:i,height:o,top:l,left:s}})})}var N3=b.memo(_3);const P3=e=>e.nodesSelectionActive,Py=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:g,onSelectionStart:S,onSelectionEnd:w,multiSelectionKeyCode:P,panActivationKeyCode:h,zoomActivationKeyCode:p,elementsSelectable:m,zoomOnScroll:v,zoomOnPinch:k,panOnScroll:E,panOnScrollSpeed:N,panOnScrollMode:M,zoomOnDoubleClick:D,panOnDrag:L,defaultViewport:z,translateExtent:R,minZoom:B,maxZoom:C,preventScrolling:I,onSelectionContextMenu:T,noWheelClassName:y,noPanClassName:x,disableKeyboardA11y:O})=>{const A=ge(P3),$=ts(f),j=ts(h)||L,G=$||d&&j!==!0;return g3({deleteKeyCode:l,multiSelectionKeyCode:P}),_(w3,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:m,zoomOnScroll:v,zoomOnPinch:k,panOnScroll:E,panOnScrollSpeed:N,panOnScrollMode:M,zoomOnDoubleClick:D,panOnDrag:!$&&j,defaultViewport:z,translateExtent:R,minZoom:B,maxZoom:C,zoomActivationKeyCode:p,preventScrolling:I,noWheelClassName:y,noPanClassName:x,children:Y(Ny,{onSelectionStart:S,onSelectionEnd:w,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:j,isSelecting:!!G,selectionMode:g,children:[e,A&&_(N3,{onSelectionContextMenu:T,noPanClassName:x,disableKeyboardA11y:O})]})})};Py.displayName="FlowRenderer";var T3=b.memo(Py);function O3(e){return ge(b.useCallback(n=>e?ry(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}const I3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ty=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=ge(I3,fe),l=O3(e.onlyRenderVisibleElements),a=b.useRef(),u=b.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));o(d)});return a.current=c,c},[]);return b.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),_("div",{className:"react-flow__nodes",style:pd,children:l.map(c=>{var k,E;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",Yn["003"](f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,g=!!(c.draggable||t&&typeof c.draggable>"u"),S=!!(c.selectable||i&&typeof c.selectable>"u"),w=!!(c.connectable||n&&typeof c.connectable>"u"),P=!!(c.focusable||r&&typeof c.focusable>"u"),h=e.nodeExtent?ld(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,p=(h==null?void 0:h.x)??0,m=(h==null?void 0:h.y)??0,v=a3({x:p,y:m,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return _(d,{id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||W.Bottom,targetPosition:c.targetPosition||W.Top,hidden:c.hidden,xPos:p,yPos:m,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:g,isSelectable:S,isConnectable:w,isFocusable:P,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((k=c[Ne])==null?void 0:k.z)??0,isParent:!!((E=c[Ne])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel},c.id)})})};Ty.displayName="NodeRenderer";var M3=b.memo(Ty);const b3=[{level:0,isMaxLevel:!0,edges:[]}];function A3(e,t,n=!1){let r=-1;const i=e.reduce((s,l)=>{var c,f,d,g;const a=gt(l.zIndex);let u=a?l.zIndex:0;return n&&(u=a?l.zIndex:Math.max(((f=(c=t.get(l.source))==null?void 0:c[Ne])==null?void 0:f.z)||0,((g=(d=t.get(l.target))==null?void 0:d[Ne])==null?void 0:g.z)||0)),s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return o.length===0?b3:o}function D3(e,t,n){const r=ge(b.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),l=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&i3({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return A3(r,t,n)}const R3=({color:e="none",strokeWidth:t=1})=>_("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),L3=({color:e="none",strokeWidth:t=1})=>_("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),kp={[Gl.Arrow]:R3,[Gl.ArrowClosed]:L3};function $3(e){const t=De();return b.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(kp,e)?kp[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",Yn["009"](e)),null)},[e])}const F3=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=$3(t);return a?_("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:_(a,{color:n,strokeWidth:s})}):null},z3=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=Wc(s,t);r.includes(l)||(i.push({id:l,color:s.color||e,...s}),r.push(l))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},Oy=({defaultColor:e,rfId:t})=>{const n=ge(b.useCallback(z3({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return _("defs",{children:n.map(r=>_(F3,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})};Oy.displayName="MarkerDefinitions";var U3=b.memo(Oy);const B3=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Iy=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeUpdate:s,onEdgeContextMenu:l,onEdgeMouseEnter:a,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:f,edgeUpdaterRadius:d,onEdgeDoubleClick:g,onEdgeUpdateStart:S,onEdgeUpdateEnd:w,children:P})=>{const{edgesFocusable:h,elementsSelectable:p,width:m,height:v,connectionMode:k,nodeInternals:E,onError:N}=ge(B3,fe),M=D3(t,E,n);return m?Y(ke,{children:[M.map(({level:D,edges:L,isMaxLevel:z})=>Y("svg",{style:{zIndex:D},width:m,height:v,className:"react-flow__edges react-flow__container",children:[z&&_(U3,{defaultColor:e,rfId:r}),_("g",{children:L.map(R=>{const[B,C,I]=yp(E.get(R.source)),[T,y,x]=yp(E.get(R.target));if(!I||!x)return null;let O=R.type||"default";i[O]||(N==null||N("011",Yn["011"](O)),O="default");const A=i[O]||i.default,$=k===Nr.Strict?y.target:(y.target??[]).concat(y.source??[]),U=mp(C.source,R.sourceHandle),j=mp($,R.targetHandle),G=(U==null?void 0:U.position)||W.Bottom,Q=(j==null?void 0:j.position)||W.Top,J=!!(R.focusable||h&&typeof R.focusable>"u");if(!U||!j)return N==null||N("008",Yn["008"](U,R)),null;const{sourceX:ee,sourceY:re,targetX:xe,targetY:de}=r3(B,U,G,T,j,Q);return _(A,{id:R.id,className:Xe([R.className,o]),type:O,data:R.data,selected:!!R.selected,animated:!!R.animated,hidden:!!R.hidden,label:R.label,labelStyle:R.labelStyle,labelShowBg:R.labelShowBg,labelBgStyle:R.labelBgStyle,labelBgPadding:R.labelBgPadding,labelBgBorderRadius:R.labelBgBorderRadius,style:R.style,source:R.source,target:R.target,sourceHandleId:R.sourceHandle,targetHandleId:R.targetHandle,markerEnd:R.markerEnd,markerStart:R.markerStart,sourceX:ee,sourceY:re,targetX:xe,targetY:de,sourcePosition:G,targetPosition:Q,elementsSelectable:p,onEdgeUpdate:s,onContextMenu:l,onMouseEnter:a,onMouseMove:u,onMouseLeave:c,onClick:f,edgeUpdaterRadius:d,onEdgeDoubleClick:g,onEdgeUpdateStart:S,onEdgeUpdateEnd:w,rfId:r,ariaLabel:R.ariaLabel,isFocusable:J,pathOptions:"pathOptions"in R?R.pathOptions:void 0,interactionWidth:R.interactionWidth},R.id)})})]},D)),P]}):null};Iy.displayName="EdgeRenderer";var H3=b.memo(Iy);const V3=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function W3({children:e}){const t=ge(V3);return _("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function j3(e){const t=hd(),n=b.useRef(!1);b.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const G3={[W.Left]:W.Right,[W.Right]:W.Left,[W.Top]:W.Bottom,[W.Bottom]:W.Top},My=({nodeId:e,handleType:t,style:n,type:r=Tn.Bezier,CustomComponent:i,connectionStatus:o})=>{var E,N,M;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=ge(b.useCallback(D=>({fromNode:D.nodeInternals.get(e),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[e]),fe),f=(E=s==null?void 0:s[Ne])==null?void 0:E.handleBounds;let d=f==null?void 0:f[t];if(c===Nr.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const g=l?d.find(D=>D.id===l):d[0],S=g?g.x+g.width/2:(s.width??0)/2,w=g?g.y+g.height/2:s.height??0,P=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+S,h=(((M=s.positionAbsolute)==null?void 0:M.y)??0)+w,p=g==null?void 0:g.position,m=p?G3[p]:null;if(!p||!m)return null;if(i)return _(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:g,fromX:P,fromY:h,toX:a,toY:u,fromPosition:p,toPosition:m,connectionStatus:o});let v="";const k={sourceX:P,sourceY:h,sourcePosition:p,targetX:a,targetY:u,targetPosition:m};return r===Tn.Bezier?[v]=J0(k):r===Tn.Step?[v]=Vc({...k,borderRadius:0}):r===Tn.SmoothStep?[v]=Vc(k):r===Tn.SimpleBezier?[v]=Z0(k):v=`M${P},${h} ${a},${u}`,_("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};My.displayName="ConnectionLine";const K3=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function X3({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:l,height:a,connectionStatus:u}=ge(K3,fe);return!(i&&o&&l&&s)?null:_("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container",children:_("g",{className:Xe(["react-flow__connection",u]),children:_(My,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})})})}const by=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:g,onSelectionContextMenu:S,onSelectionStart:w,onSelectionEnd:P,connectionLineType:h,connectionLineStyle:p,connectionLineComponent:m,connectionLineContainerStyle:v,selectionKeyCode:k,selectionOnDrag:E,selectionMode:N,multiSelectionKeyCode:M,panActivationKeyCode:D,zoomActivationKeyCode:L,deleteKeyCode:z,onlyRenderVisibleElements:R,elementsSelectable:B,selectNodesOnDrag:C,defaultViewport:I,translateExtent:T,minZoom:y,maxZoom:x,preventScrolling:O,defaultMarkerColor:A,zoomOnScroll:$,zoomOnPinch:U,panOnScroll:j,panOnScrollSpeed:G,panOnScrollMode:Q,zoomOnDoubleClick:J,panOnDrag:ee,onPaneClick:re,onPaneMouseEnter:xe,onPaneMouseMove:de,onPaneMouseLeave:Zt,onPaneScroll:$t,onPaneContextMenu:Ce,onEdgeUpdate:Ft,onEdgeContextMenu:V,onEdgeMouseEnter:Be,onEdgeMouseMove:rt,onEdgeMouseLeave:Lr,edgeUpdaterRadius:zi,onEdgeUpdateStart:Ui,onEdgeUpdateEnd:Bi,noDragClassName:vn,noWheelClassName:$r,noPanClassName:wn,elevateEdgesOnSelect:Fr,disableKeyboardA11y:Jt,nodeOrigin:Hi,nodeExtent:Vi,rfId:zr})=>(j3(o),_(T3,{onPaneClick:re,onPaneMouseEnter:xe,onPaneMouseMove:de,onPaneMouseLeave:Zt,onPaneContextMenu:Ce,onPaneScroll:$t,deleteKeyCode:z,selectionKeyCode:k,selectionOnDrag:E,selectionMode:N,onSelectionStart:w,onSelectionEnd:P,multiSelectionKeyCode:M,panActivationKeyCode:D,zoomActivationKeyCode:L,elementsSelectable:B,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:$,zoomOnPinch:U,zoomOnDoubleClick:J,panOnScroll:j,panOnScrollSpeed:G,panOnScrollMode:Q,panOnDrag:ee,defaultViewport:I,translateExtent:T,minZoom:y,maxZoom:x,onSelectionContextMenu:S,preventScrolling:O,noDragClassName:vn,noWheelClassName:$r,noPanClassName:wn,disableKeyboardA11y:Jt,children:Y(W3,{children:[_(H3,{edgeTypes:t,onEdgeClick:l,onEdgeDoubleClick:u,onEdgeUpdate:Ft,onlyRenderVisibleElements:R,onEdgeContextMenu:V,onEdgeMouseEnter:Be,onEdgeMouseMove:rt,onEdgeMouseLeave:Lr,onEdgeUpdateStart:Ui,onEdgeUpdateEnd:Bi,edgeUpdaterRadius:zi,defaultMarkerColor:A,noPanClassName:wn,elevateEdgesOnSelect:!!Fr,disableKeyboardA11y:Jt,rfId:zr,children:_(X3,{style:p,type:h,component:m,containerStyle:v})}),_("div",{className:"react-flow__edgelabel-renderer"}),_(M3,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:g,selectNodesOnDrag:C,onlyRenderVisibleElements:R,noPanClassName:wn,noDragClassName:vn,disableKeyboardA11y:Jt,nodeOrigin:Hi,nodeExtent:Vi,rfId:zr})]})}));by.displayName="GraphView";var Y3=b.memo(by);const Kc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],jr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Kc,nodeExtent:Kc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Nr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:_E},Q3=()=>h0((e,t)=>({...jr,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:Tu(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?Tu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),g=n.reduce((w,P)=>{const h=i.get(P.id);if(h){const p=sd(P.nodeElement);!!(p.width&&p.height&&(h.width!==p.width||h.height!==p.height||P.forceUpdate))&&(i.set(h.id,{...h,[Ne]:{...h[Ne],handleBounds:{source:wp(".source",P.nodeElement,d,u),target:wp(".target",P.nodeElement,d,u)}},...p}),w.push({id:h.id,type:"dimensions",dimensions:p}))}return w},[]);Ey(i,u);const S=s||o&&!s&&ky(t,{initial:!0,...l});e({nodeInternals:new Map(i),fitViewOnInitDone:S}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:i};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(o){const u=Xl(n,l()),c=Tu(u,i,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>kn(a,!0)):(s=ii(o(),n),l=ii(i,[])),Hs({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>kn(a,!0)):(s=ii(i,n),l=ii(o(),[])),Hs({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),l=r||i,a=s.map(c=>(c.selected=!1,kn(c.id,!1))),u=l.map(c=>kn(c.id,!1));Hs({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(l=>l.selected).map(l=>kn(l.id,!1)),s=n.filter(l=>l.selected).map(l=>kn(l.id,!1));Hs({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=ld(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return;const u=Wn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(u,c,a);s.transform(l,f)},cancelConnection:()=>e({connectionNodeId:jr.connectionNodeId,connectionHandleId:jr.connectionHandleId,connectionHandleType:jr.connectionHandleType,connectionStatus:jr.connectionStatus}),reset:()=>e({...jr})})),Ay=({children:e})=>{const t=b.useRef(null);return t.current||(t.current=Q3()),_(yE,{value:t.current,children:e})};Ay.displayName="ReactFlowProvider";const Dy=({children:e})=>b.useContext(Ma)?_(ke,{children:e}):_(Ay,{children:e});Dy.displayName="ReactFlowWrapper";function _p(e,t){return b.useRef(null),b.useMemo(()=>t(e),[e])}const q3={input:dy,default:jc,output:py,group:dd},Z3={default:Kl,straight:cd,step:ud,smoothstep:ba,simplebezier:ad},J3=[0,0],ek=[15,15],tk={x:0,y:0,zoom:1},nk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Ry=b.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=q3,edgeTypes:s=Z3,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:g,onConnectStart:S,onConnectEnd:w,onClickConnectStart:P,onClickConnectEnd:h,onNodeMouseEnter:p,onNodeMouseMove:m,onNodeMouseLeave:v,onNodeContextMenu:k,onNodeDoubleClick:E,onNodeDragStart:N,onNodeDrag:M,onNodeDragStop:D,onNodesDelete:L,onEdgesDelete:z,onSelectionChange:R,onSelectionDragStart:B,onSelectionDrag:C,onSelectionDragStop:I,onSelectionContextMenu:T,onSelectionStart:y,onSelectionEnd:x,connectionMode:O=Nr.Strict,connectionLineType:A=Tn.Bezier,connectionLineStyle:$,connectionLineComponent:U,connectionLineContainerStyle:j,deleteKeyCode:G="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:J=!1,selectionMode:ee=Jo.Full,panActivationKeyCode:re="Space",multiSelectionKeyCode:xe="Meta",zoomActivationKeyCode:de="Meta",snapToGrid:Zt=!1,snapGrid:$t=ek,onlyRenderVisibleElements:Ce=!1,selectNodesOnDrag:Ft=!0,nodesDraggable:V,nodesConnectable:Be,nodesFocusable:rt,nodeOrigin:Lr=J3,edgesFocusable:zi,elementsSelectable:Ui,defaultViewport:Bi=tk,minZoom:vn=.5,maxZoom:$r=2,translateExtent:wn=Kc,preventScrolling:Fr=!0,nodeExtent:Jt,defaultMarkerColor:Hi="#b1b1b7",zoomOnScroll:Vi=!0,zoomOnPinch:zr=!0,panOnScroll:Ye=!1,panOnScrollSpeed:St=.5,panOnScrollMode:tr=gi.Free,zoomOnDoubleClick:nr=!0,panOnDrag:en=!0,onPaneClick:ys,onPaneMouseEnter:Wi,onPaneMouseMove:ji,onPaneMouseLeave:Ga,onPaneScroll:Nd,onPaneContextMenu:rr,children:fv,onEdgeUpdate:dv,onEdgeContextMenu:hv,onEdgeDoubleClick:pv,onEdgeMouseEnter:gv,onEdgeMouseMove:mv,onEdgeMouseLeave:yv,onEdgeUpdateStart:vv,onEdgeUpdateEnd:wv,edgeUpdaterRadius:Sv=10,onNodesChange:xv,onEdgesChange:Cv,noDragClassName:Ev="nodrag",noWheelClassName:kv="nowheel",noPanClassName:Pd="nopan",fitView:_v=!1,fitViewOptions:Nv,connectOnClick:Pv=!0,attributionPosition:Tv,proOptions:Ov,defaultEdgeOptions:Iv,elevateNodesOnSelect:Mv=!0,elevateEdgesOnSelect:bv=!1,disableKeyboardA11y:Td=!1,autoPanOnConnect:Av=!0,autoPanOnNodeDrag:Dv=!0,connectionRadius:Rv=20,onError:Lv,style:$v,id:Od,...Fv},zv)=>{const Uv=_p(o,l3),Bv=_p(s,n3),Ka=Od||"1";return _("div",{...Fv,style:{...$v,...nk},ref:zv,className:Xe(["react-flow",i]),"data-testid":"rf__wrapper",id:Od,children:Y(Dy,{children:[_(Y3,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:p,onNodeMouseMove:m,onNodeMouseLeave:v,onNodeContextMenu:k,onNodeDoubleClick:E,nodeTypes:Uv,edgeTypes:Bv,connectionLineType:A,connectionLineStyle:$,connectionLineComponent:U,connectionLineContainerStyle:j,selectionKeyCode:Q,selectionOnDrag:J,selectionMode:ee,deleteKeyCode:G,multiSelectionKeyCode:xe,panActivationKeyCode:re,zoomActivationKeyCode:de,onlyRenderVisibleElements:Ce,selectNodesOnDrag:Ft,defaultViewport:Bi,translateExtent:wn,minZoom:vn,maxZoom:$r,preventScrolling:Fr,zoomOnScroll:Vi,zoomOnPinch:zr,zoomOnDoubleClick:nr,panOnScroll:Ye,panOnScrollSpeed:St,panOnScrollMode:tr,panOnDrag:en,onPaneClick:ys,onPaneMouseEnter:Wi,onPaneMouseMove:ji,onPaneMouseLeave:Ga,onPaneScroll:Nd,onPaneContextMenu:rr,onSelectionContextMenu:T,onSelectionStart:y,onSelectionEnd:x,onEdgeUpdate:dv,onEdgeContextMenu:hv,onEdgeDoubleClick:pv,onEdgeMouseEnter:gv,onEdgeMouseMove:mv,onEdgeMouseLeave:yv,onEdgeUpdateStart:vv,onEdgeUpdateEnd:wv,edgeUpdaterRadius:Sv,defaultMarkerColor:Hi,noDragClassName:Ev,noWheelClassName:kv,noPanClassName:Pd,elevateEdgesOnSelect:bv,rfId:Ka,disableKeyboardA11y:Td,nodeOrigin:Lr,nodeExtent:Jt}),_(XE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:S,onConnectEnd:w,onClickConnectStart:P,onClickConnectEnd:h,nodesDraggable:V,nodesConnectable:Be,nodesFocusable:rt,edgesFocusable:zi,elementsSelectable:Ui,elevateNodesOnSelect:Mv,minZoom:vn,maxZoom:$r,nodeExtent:Jt,onNodesChange:xv,onEdgesChange:Cv,snapToGrid:Zt,snapGrid:$t,connectionMode:O,translateExtent:wn,connectOnClick:Pv,defaultEdgeOptions:Iv,fitView:_v,fitViewOptions:Nv,onNodesDelete:L,onEdgesDelete:z,onNodeDragStart:N,onNodeDrag:M,onNodeDragStop:D,onSelectionDrag:C,onSelectionDragStart:B,onSelectionDragStop:I,noPanClassName:Pd,nodeOrigin:Lr,rfId:Ka,autoPanOnConnect:Av,autoPanOnNodeDrag:Dv,onError:Lv,connectionRadius:Rv}),_(GE,{onSelectionChange:R}),fv,_(wE,{proOptions:Ov,position:Tv}),_(JE,{rfId:Ka,disableKeyboardA11y:Td})]})})});Ry.displayName="ReactFlow";function rk(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:_("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ik(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:_("path",{d:"M0 0h32v4.2H0z"})})}function ok(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:_("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function sk(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:_("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function lk(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:_("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const go=({children:e,className:t,...n})=>_("button",{type:"button",className:Xe(["react-flow__controls-button",t]),...n,children:e});go.displayName="ControlButton";const ak=e=>e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable,Ly=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:f="bottom-left"})=>{const d=De(),[g,S]=b.useState(!1),w=ge(ak),{zoomIn:P,zoomOut:h,fitView:p}=hd();if(b.useEffect(()=>{S(!0)},[]),!g)return null;const m=()=>{P(),o==null||o()},v=()=>{h(),s==null||s()},k=()=>{p(i),l==null||l()},E=()=>{d.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),a==null||a(!w)};return Y(od,{className:Xe(["react-flow__controls",u]),position:f,style:e,children:[t&&Y(ke,{children:[_(go,{onClick:m,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:_(rk,{})}),_(go,{onClick:v,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:_(ik,{})})]}),n&&_(go,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view",children:_(ok,{})}),r&&_(go,{className:"react-flow__controls-interactive",onClick:E,title:"toggle interactivity","aria-label":"toggle interactivity",children:w?_(lk,{}):_(sk,{})}),c]})};Ly.displayName="Controls";var uk=b.memo(Ly),yt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(yt||(yt={}));function ck({color:e,dimensions:t,lineWidth:n}){return _("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function fk({color:e,radius:t}){return _("circle",{cx:t,cy:t,r:t,fill:e})}const dk={[yt.Dots]:"#91919a",[yt.Lines]:"#eee",[yt.Cross]:"#e2e2e2"},hk={[yt.Dots]:1,[yt.Lines]:1,[yt.Cross]:6},pk=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function $y({variant:e=yt.Dots,gap:t=20,size:n,lineWidth:r=1,color:i,style:o,className:s}){const l=b.useRef(null),{transform:a,patternId:u}=ge(pk,fe),c=i||dk[e],f=n||hk[e],d=e===yt.Dots,g=e===yt.Cross,S=Array.isArray(t)?t:[t,t],w=[S[0]*a[2]||1,S[1]*a[2]||1],P=f*a[2],h=g?[P,P]:w,p=d?[P/2,P/2]:[h[0]/2,h[1]/2];return Y("svg",{className:Xe(["react-flow__background",s]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:l,children:[_("pattern",{id:u,x:a[0]%w[0],y:a[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${p[0]},-${p[1]})`,children:d?_(fk,{color:c,radius:P/2}):_(ck,{dimensions:h,color:c,lineWidth:r})}),_("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${u})`})]})}$y.displayName="Background";var gk=b.memo($y);const mk={host:window.location.host,protocol:window.location.protocol},yk={host:"localhost:8188",protocol:"http:"},Xc=window.location.port==="5173"?yk:mk;function Jn(e){return`${Xc.protocol}//${Xc.host}${e}`}const vk={fromWidget(e){return{widget:e.name,fields:wk.getDefaultFields(e)}}},wk={getDefaultFields(e){const t={};for(const[n,r]of Object.entries(e.input.required))Me.isBool(r)?t[n]=r[1].default??!1:Me.isFloat(r)||Me.isInt(r)?t[n]=r[1].default??0:Me.isString(r)?t[n]="":Me.isList(r)&&(t[n]=r[0][0]);return t}},Me={isBool(e){return e[0]==="BOOL"},isInt(e){return e[0]==="INT"},isFloat(e){return e[0]==="FLOAT"},isString(e){return e[0]==="STRING"},isList(e){return Array.isArray(e[0])},isParameterOrList(e){return Me.isBool(e)||Me.isInt(e)||Me.isFloat(e)||Me.isString(e)||Me.isList(e)}},Vs={isStatus(e){return e.type==="status"},isExecuting(e){return e.type==="executing"},isProgress(e){return e.type==="progress"},isExecuted(e){return e.type==="executed"}};async function Sk(){return await fetch(Jn("/object_info")).then(async e=>await e.json())}async function xk(){return await fetch(Jn("/queue")).then(async e=>await e.json())}async function Ck(e){await fetch(Jn("/queue"),{method:"POST",body:JSON.stringify({delete:[e]})})}async function Ek(e){const t=await fetch(Jn("/prompt"),{method:"POST",body:JSON.stringify(e)});return{error:t.status!==200?await t.text():void 0}}function kk(e,t,n){const r={},i={};for(const[o,s]of Object.entries(e.data)){const l={...s.value.fields};for(const[a,u]of Object.entries(l)){const c=t[s.value.widget].input.required[a];Me.isInt(c)&&c[1].randomizable===!0&&u===-1&&(l[a]=Math.trunc(Math.random()*Number.MAX_SAFE_INTEGER))}i[o]={position:s.position,value:{...s.value,fields:l}},r[o]={class_type:s.value.widget,inputs:l}}for(const o of e.connections){const s=e.data[o.source];if(s===void 0)continue;const l=t[s.value.widget].output.findIndex(a=>a===o.sourceHandle);r[o.target]!==void 0&&(r[o.target].inputs[o.targetHandle]=[o.source,l])}return{prompt:r,client_id:n,extra_data:{extra_pnginfo:{workflow:{connections:e.connections,data:i}}}}}const _k={1:{value:{widget:"CheckpointLoaderSimple",fields:{ckpt_name:"sd-v1-4.ckpt"}},position:{x:-138.65352317628003,y:-191.36843297347312}},2:{value:{widget:"CLIPTextEncode",fields:{text:"beautiful mountain scenery"}},position:{x:-138.7341322824018,y:-73.6641410349036}},3:{value:{widget:"CLIPTextEncode",fields:{text:""}},position:{x:-136.55891054401303,y:119.89772257951374}},4:{value:{widget:"KSampler",fields:{seed:-1,steps:20,cfg:7,sampler_name:"euler",scheduler:"normal",denoise:1}},position:{x:316.0075115157922,y:-195.5841212096412}},5:{value:{widget:"VAEDecode",fields:{}},position:{x:769.6594250929854,y:-195.09752371886228}},6:{value:{widget:"SaveImage",fields:{filename_prefix:"output"}},position:{x:772.0821842803763,y:-90.8381271274001}},7:{value:{widget:"EmptyLatentImage",fields:{width:512,height:512,batch_size:1}},position:{x:316.0075115157922,y:11.391056441942904}}},Nk=[{source:"1",sourceHandle:"MODEL",target:"4",targetHandle:"model"},{source:"1",sourceHandle:"CLIP",target:"2",targetHandle:"clip"},{source:"1",sourceHandle:"CLIP",target:"3",targetHandle:"clip"},{source:"1",sourceHandle:"VAE",target:"5",targetHandle:"vae"},{source:"4",sourceHandle:"LATENT",target:"5",targetHandle:"samples"},{source:"7",sourceHandle:"LATENT",target:"4",targetHandle:"latent_image"},{source:"2",sourceHandle:"CONDITIONING",target:"4",targetHandle:"positive"},{source:"3",sourceHandle:"CONDITIONING",target:"4",targetHandle:"negative"},{source:"5",sourceHandle:"IMAGE",target:"6",targetHandle:"images"}],Pk={data:_k,connections:Nk},Fy="graph";function Tk(){const e=localStorage.getItem(Fy);return e===null?Pk:JSON.parse(e)}function Ok(e){localStorage.setItem(Fy,JSON.stringify(e))}function Ik(e,t){const n=new FileReader;e.target.files!==null&&(n.readAsText(e.target.files[0]),n.addEventListener("load",r=>{var i;((i=r.target)==null?void 0:i.result)!=null&&typeof r.target.result=="string"&&t(JSON.parse(r.target.result))}))}function Mk(e){const t=document.createElement("a");t.download="workflow.json",t.href=URL.createObjectURL(new Blob([JSON.stringify(e)],{type:"application/json"})),t.click()}const cl=b;function bk({title:e,titleId:t,...n},r){return cl.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?cl.createElement("title",{id:t},e):null,cl.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25"}))}const Ak=cl.forwardRef(bk);var Dk=Ak;const fl=b;function Rk({title:e,titleId:t,...n},r){return fl.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?fl.createElement("title",{id:t},e):null,fl.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"}))}const Lk=fl.forwardRef(Rk);var $k=Lk;const dl=b;function Fk({title:e,titleId:t,...n},r){return dl.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?dl.createElement("title",{id:t},e):null,dl.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const zk=dl.forwardRef(Fk);var Uk=zk;const hl=b;function Bk({title:e,titleId:t,...n},r){return hl.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?hl.createElement("title",{id:t},e):null,hl.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))}const Hk=hl.forwardRef(Bk);var Vk=Hk;const pl=b;function Wk({title:e,titleId:t,...n},r){return pl.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?pl.createElement("title",{id:t},e):null,pl.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const jk=pl.forwardRef(Wk);var Gk=jk,zy=Dk,Kk=$k,Xk=Uk,Uy=Vk,Yk=Gk;const Qk=["Queue","Gallery","Nodes","Workflow"];function qk({onSubmit:e,promptError:t}){const[{activeTab:n,minimized:r},i]=b.useState({activeTab:"Queue",minimized:!1});return Y(ke,{children:[t!==void 0?_("div",{className:"error-popup p-1 text-sm rounded-md bg-stone-900 border-2 border-stone-400 text-red-500",children:t}):_(ke,{}),Y("div",{style:{width:"64vw"},className:"drop-shadow-lg rounded-md bg-stone-900 border-2 border-stone-400 flex flex-col overflow-hidden",children:[Y(Jk,{tabs:Qk,active:n,onTabChange:o=>i({minimized:!1,activeTab:o}),children:[_("button",{className:"absolute bg-teal-800 hover:bg-teal-700 p-2 left-2 mx-0.5 cursor-pointer",onClick:()=>{e()},children:"Enqueue"}),_(zy,{className:"h-5 w-5 mx-1 text-blue-500 self-center cursor-pointer",onClick:()=>i(o=>({...o,minimized:!o.minimized}))})]}),r?_(ke,{}):_("div",{className:"h-80 flex",children:r?_(ke,{}):n==="Queue"?_(MN,{}):n==="Gallery"?_(AN,{}):n==="Nodes"?_(bN,{}):_(IN,{})})]})]})}const Zk=b.memo(qk);function Jk({tabs:e,active:t,onTabChange:n,children:r}){return Y("div",{className:"flex flex-row justify-end bg-stone-800 px-2 drop-shadow-md",children:[e.map(i=>_(e_,{label:i,isActive:i===t,onClick:()=>n(i)},i)),r]})}function e_({label:e,isActive:t,onClick:n}){const r=t?["bg-stone-600"]:["bg-stone-800","hover:bg-stone-700"];return _("div",{className:["p-2","mx-0.5","cursor-pointer"].concat(r).join(" "),onClick:n,children:e})}function t_({gallery:e,onPreviewImage:t,onLoadImageWorkflow:n}){return e.length===0?_("div",{className:"m-auto w-full text-center text-stone-500",children:"Nothing here yet!"}):_(ke,{children:_("div",{className:"p-1 h-full w-full flex flex-col flex-wrap content-start overflow-x-scroll",children:e.map(({image:r},i)=>_(n_,{image:r,onView:()=>t(i),onLoadWorkflow:()=>n(r)},r)).reverse()})})}function n_({image:e,onView:t,onLoadWorkflow:n}){const[r,i]=b.useState(!1);return Y("div",{className:"relative cursor-pointer",style:{width:"146px",height:"146px"},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:t,children:[_("img",{className:"absolute p-1 rounded-xl drop-shadow-md",src:Jn(`/view/${e}`)},e),r?Y("div",{className:"absolute w-full h-full flex flex-col items-center justify-center",children:[_("div",{className:"p-1 m-1 bg-stone-800 hover:bg-stone-700 rounded-md",onClick:t,children:"View"}),_("div",{className:"p-1 m-1 bg-stone-800 hover:bg-stone-700 rounded-md",onClick:o=>{o.stopPropagation(),n()},children:"Load"})]}):void 0]})}const r_=b.memo(t_);var Yl={},i_={get exports(){return Yl},set exports(e){Yl=e}},Pr={},Ql={},o_={get exports(){return Ql},set exports(e){Ql=e}},s_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",l_=s_,a_=l_;function By(){}function Hy(){}Hy.resetWarningCache=By;var u_=function(){function e(r,i,o,s,l,a){if(a!==a_){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Hy,resetWarningCache:By};return n.PropTypes=n,n};o_.exports=u_();var ql={},c_={get exports(){return ql},set exports(e){ql=e}},Dt={},ns={},f_={get exports(){return ns},set exports(e){ns=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function o(f,d){return d.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function s(f){var d=f.offsetWidth<=0&&f.offsetHeight<=0;if(d&&!f.innerHTML)return!0;try{var g=window.getComputedStyle(f),S=g.getPropertyValue("display");return d?S!==r&&o(f,g):S===n}catch{return console.warn("Failed to inspect element style"),!1}}function l(f){for(var d=f,g=f.getRootNode&&f.getRootNode();d&&d!==document.body;){if(g&&d===g&&(d=g.host.parentNode),s(d))return!1;d=d.parentNode}return!0}function a(f,d){var g=f.nodeName.toLowerCase(),S=i.test(g)&&!f.disabled||g==="a"&&f.href||d;return S&&l(f)}function u(f){var d=f.getAttribute("tabindex");d===null&&(d=void 0);var g=isNaN(d);return(g||d>=0)&&a(f,!g)}function c(f){var d=[].slice.call(f.querySelectorAll("*"),0).reduce(function(g,S){return g.concat(S.shadowRoot?c(S.shadowRoot):[S])},[]);return d.filter(u)}e.exports=t.default})(f_,ns);Object.defineProperty(Dt,"__esModule",{value:!0});Dt.resetState=g_;Dt.log=m_;Dt.handleBlur=rs;Dt.handleFocus=is;Dt.markForFocusLater=y_;Dt.returnFocus=v_;Dt.popWithoutFocus=w_;Dt.setupScopedFocus=S_;Dt.teardownScopedFocus=x_;var d_=ns,h_=p_(d_);function p_(e){return e&&e.__esModule?e:{default:e}}var Ii=[],oi=null,Yc=!1;function g_(){Ii=[]}function m_(){}function rs(){Yc=!0}function is(){if(Yc){if(Yc=!1,!oi)return;setTimeout(function(){if(!oi.contains(document.activeElement)){var e=(0,h_.default)(oi)[0]||oi;e.focus()}},0)}}function y_(){Ii.push(document.activeElement)}function v_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Ii.length!==0&&(t=Ii.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function w_(){Ii.length>0&&Ii.pop()}function S_(e){oi=e,window.addEventListener?(window.addEventListener("blur",rs,!1),document.addEventListener("focus",is,!0)):(window.attachEvent("onBlur",rs),document.attachEvent("onFocus",is))}function x_(){oi=null,window.addEventListener?(window.removeEventListener("blur",rs),document.removeEventListener("focus",is)):(window.detachEvent("onBlur",rs),document.detachEvent("onFocus",is))}var Zl={},C_={get exports(){return Zl},set exports(e){Zl=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=ns,r=i(n);function i(l){return l&&l.__esModule?l:{default:l}}function o(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return l.activeElement.shadowRoot?o(l.activeElement.shadowRoot):l.activeElement}function s(l,a){var u=(0,r.default)(l);if(!u.length){a.preventDefault();return}var c=void 0,f=a.shiftKey,d=u[0],g=u[u.length-1],S=o();if(l===S){if(!f)return;c=g}if(g===S&&!f&&(c=d),d===S&&f&&(c=g),c){a.preventDefault(),c.focus();return}var w=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),P=w!=null&&w[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(P){var h=u.indexOf(S);if(h>-1&&(h+=f?-1:1),c=u[h],typeof c>"u"){a.preventDefault(),c=f?g:d,c.focus();return}a.preventDefault(),c.focus()}}e.exports=t.default})(C_,Zl);var Rt={},E_=function(){},k_=E_,Mt={},Qc={},__={get exports(){return Qc},set exports(e){Qc=e}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(__);Object.defineProperty(Mt,"__esModule",{value:!0});Mt.canUseDOM=Mt.SafeNodeList=Mt.SafeHTMLCollection=void 0;var N_=Qc,P_=T_(N_);function T_(e){return e&&e.__esModule?e:{default:e}}var Aa=P_.default,O_=Aa.canUseDOM?window.HTMLElement:{};Mt.SafeHTMLCollection=Aa.canUseDOM?window.HTMLCollection:{};Mt.SafeNodeList=Aa.canUseDOM?window.NodeList:{};Mt.canUseDOM=Aa.canUseDOM;Mt.default=O_;Object.defineProperty(Rt,"__esModule",{value:!0});Rt.resetState=D_;Rt.log=R_;Rt.assertNodeList=Vy;Rt.setElement=L_;Rt.validateElement=gd;Rt.hide=$_;Rt.show=F_;Rt.documentNotReadyOrSSRTesting=z_;var I_=k_,M_=A_(I_),b_=Mt;function A_(e){return e&&e.__esModule?e:{default:e}}var ft=null;function D_(){ft&&(ft.removeAttribute?ft.removeAttribute("aria-hidden"):ft.length!=null?ft.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(ft).forEach(function(e){return e.removeAttribute("aria-hidden")})),ft=null}function R_(){}function Vy(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function L_(e){var t=e;if(typeof t=="string"&&b_.canUseDOM){var n=document.querySelectorAll(t);Vy(n,t),t=n}return ft=t||ft,ft}function gd(e){var t=e||ft;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,M_.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function $_(e){var t=!0,n=!1,r=void 0;try{for(var i=gd(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(l){n=!0,r=l}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function F_(e){var t=!0,n=!1,r=void 0;try{for(var i=gd(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(l){n=!0,r=l}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function z_(){ft=null}var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.resetState=U_;Di.log=B_;var No={},Po={};function Np(e,t){e.classList.remove(t)}function U_(){var e=document.getElementsByTagName("html")[0];for(var t in No)Np(e,No[t]);var n=document.body;for(var r in Po)Np(n,Po[r]);No={},Po={}}function B_(){}var H_=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},V_=function(t,n){return t[n]&&(t[n]-=1),n},W_=function(t,n,r){r.forEach(function(i){H_(n,i),t.add(i)})},j_=function(t,n,r){r.forEach(function(i){V_(n,i),n[i]===0&&t.remove(i)})};Di.add=function(t,n){return W_(t.classList,t.nodeName.toLowerCase()=="html"?No:Po,n.split(" "))};Di.remove=function(t,n){return j_(t.classList,t.nodeName.toLowerCase()=="html"?No:Po,n.split(" "))};var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.log=K_;Ri.resetState=X_;function G_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Wy=function e(){var t=this;G_(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Jl=new Wy;function K_(){console.log("portalOpenInstances ----------"),console.log(Jl.openInstances.length),Jl.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function X_(){Jl=new Wy}Ri.default=Jl;var md={};Object.defineProperty(md,"__esModule",{value:!0});md.resetState=Z_;md.log=J_;var Y_=Ri,Q_=q_(Y_);function q_(e){return e&&e.__esModule?e:{default:e}}var $e=void 0,Et=void 0,vr=[];function Z_(){for(var e=[$e,Et],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}$e=Et=null,vr=[]}function J_(){console.log("bodyTrap ----------"),console.log(vr.length);for(var e=[$e,Et],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function Pp(){vr.length!==0&&vr[vr.length-1].focusContent()}function eN(e,t){!$e&&!Et&&($e=document.createElement("div"),$e.setAttribute("data-react-modal-body-trap",""),$e.style.position="absolute",$e.style.opacity="0",$e.setAttribute("tabindex","0"),$e.addEventListener("focus",Pp),Et=$e.cloneNode(),Et.addEventListener("focus",Pp)),vr=t,vr.length>0?(document.body.firstChild!==$e&&document.body.insertBefore($e,document.body.firstChild),document.body.lastChild!==Et&&document.body.appendChild(Et)):($e.parentElement&&$e.parentElement.removeChild($e),Et.parentElement&&Et.parentElement.removeChild(Et))}Q_.default.subscribe(eN);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var T=arguments[I];for(var y in T)Object.prototype.hasOwnProperty.call(T,y)&&(C[y]=T[y])}return C},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i=function(){function C(I,T){for(var y=0;y<T.length;y++){var x=T[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(I,x.key,x)}}return function(I,T,y){return T&&C(I.prototype,T),y&&C(I,y),I}}(),o=b,s=Ql,l=k(s),a=Dt,u=v(a),c=Zl,f=k(c),d=Rt,g=v(d),S=Di,w=v(S),P=Mt,h=k(P),p=Ri,m=k(p);function v(C){if(C&&C.__esModule)return C;var I={};if(C!=null)for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(I[T]=C[T]);return I.default=C,I}function k(C){return C&&C.__esModule?C:{default:C}}function E(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function N(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function M(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var D={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},L=function(I){return I.code==="Tab"||I.keyCode===9},z=function(I){return I.code==="Escape"||I.keyCode===27},R=0,B=function(C){M(I,C);function I(T){E(this,I);var y=N(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,T));return y.setOverlayRef=function(x){y.overlay=x,y.props.overlayRef&&y.props.overlayRef(x)},y.setContentRef=function(x){y.content=x,y.props.contentRef&&y.props.contentRef(x)},y.afterClose=function(){var x=y.props,O=x.appElement,A=x.ariaHideApp,$=x.htmlOpenClassName,U=x.bodyOpenClassName,j=x.parentSelector,G=j&&j().ownerDocument||document;U&&w.remove(G.body,U),$&&w.remove(G.getElementsByTagName("html")[0],$),A&&R>0&&(R-=1,R===0&&g.show(O)),y.props.shouldFocusAfterRender&&(y.props.shouldReturnFocusAfterClose?(u.returnFocus(y.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),y.props.onAfterClose&&y.props.onAfterClose(),m.default.deregister(y)},y.open=function(){y.beforeOpen(),y.state.afterOpen&&y.state.beforeClose?(clearTimeout(y.closeTimer),y.setState({beforeClose:!1})):(y.props.shouldFocusAfterRender&&(u.setupScopedFocus(y.node),u.markForFocusLater()),y.setState({isOpen:!0},function(){y.openAnimationFrame=requestAnimationFrame(function(){y.setState({afterOpen:!0}),y.props.isOpen&&y.props.onAfterOpen&&y.props.onAfterOpen({overlayEl:y.overlay,contentEl:y.content})})}))},y.close=function(){y.props.closeTimeoutMS>0?y.closeWithTimeout():y.closeWithoutTimeout()},y.focusContent=function(){return y.content&&!y.contentHasFocus()&&y.content.focus({preventScroll:!0})},y.closeWithTimeout=function(){var x=Date.now()+y.props.closeTimeoutMS;y.setState({beforeClose:!0,closesAt:x},function(){y.closeTimer=setTimeout(y.closeWithoutTimeout,y.state.closesAt-Date.now())})},y.closeWithoutTimeout=function(){y.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},y.afterClose)},y.handleKeyDown=function(x){L(x)&&(0,f.default)(y.content,x),y.props.shouldCloseOnEsc&&z(x)&&(x.stopPropagation(),y.requestClose(x))},y.handleOverlayOnClick=function(x){y.shouldClose===null&&(y.shouldClose=!0),y.shouldClose&&y.props.shouldCloseOnOverlayClick&&(y.ownerHandlesClose()?y.requestClose(x):y.focusContent()),y.shouldClose=null},y.handleContentOnMouseUp=function(){y.shouldClose=!1},y.handleOverlayOnMouseDown=function(x){!y.props.shouldCloseOnOverlayClick&&x.target==y.overlay&&x.preventDefault()},y.handleContentOnClick=function(){y.shouldClose=!1},y.handleContentOnMouseDown=function(){y.shouldClose=!1},y.requestClose=function(x){return y.ownerHandlesClose()&&y.props.onRequestClose(x)},y.ownerHandlesClose=function(){return y.props.onRequestClose},y.shouldBeClosed=function(){return!y.state.isOpen&&!y.state.beforeClose},y.contentHasFocus=function(){return document.activeElement===y.content||y.content.contains(document.activeElement)},y.buildClassName=function(x,O){var A=(typeof O>"u"?"undefined":r(O))==="object"?O:{base:D[x],afterOpen:D[x]+"--after-open",beforeClose:D[x]+"--before-close"},$=A.base;return y.state.afterOpen&&($=$+" "+A.afterOpen),y.state.beforeClose&&($=$+" "+A.beforeClose),typeof O=="string"&&O?$+" "+O:$},y.attributesFromObject=function(x,O){return Object.keys(O).reduce(function(A,$){return A[x+"-"+$]=O[$],A},{})},y.state={afterOpen:!1,beforeClose:!1},y.shouldClose=null,y.moveFromContentToOverlay=null,y}return i(I,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(y,x){this.props.isOpen&&!y.isOpen?this.open():!this.props.isOpen&&y.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!x.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var y=this.props,x=y.appElement,O=y.ariaHideApp,A=y.htmlOpenClassName,$=y.bodyOpenClassName,U=y.parentSelector,j=U&&U().ownerDocument||document;$&&w.add(j.body,$),A&&w.add(j.getElementsByTagName("html")[0],A),O&&(R+=1,g.hide(x)),m.default.register(this)}},{key:"render",value:function(){var y=this.props,x=y.id,O=y.className,A=y.overlayClassName,$=y.defaultStyles,U=y.children,j=O?{}:$.content,G=A?{}:$.overlay;if(this.shouldBeClosed())return null;var Q={ref:this.setOverlayRef,className:this.buildClassName("overlay",A),style:n({},G,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},J=n({id:x,ref:this.setContentRef,style:n({},j,this.props.style.content),className:this.buildClassName("content",O),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ee=this.props.contentElement(J,U);return this.props.overlayElement(Q,ee)}}]),I}(o.Component);B.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},B.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),parentSelector:l.default.func,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.oneOfType([l.default.instanceOf(h.default),l.default.instanceOf(P.SafeHTMLCollection),l.default.instanceOf(P.SafeNodeList),l.default.arrayOf(l.default.instanceOf(h.default))]),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func,testId:l.default.string},t.default=B,e.exports=t.default})(c_,ql);function jy(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Gy(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function Ky(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}jy.__suppressDeprecationWarning=!0;Gy.__suppressDeprecationWarning=!0;Ky.__suppressDeprecationWarning=!0;function tN(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=jy,t.componentWillReceiveProps=Gy),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Ky;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,c,f){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,c,d)}}return e}const nN=Object.freeze(Object.defineProperty({__proto__:null,polyfill:tN},Symbol.toStringTag,{value:"Module"})),rN=Hv(nN);Object.defineProperty(Pr,"__esModule",{value:!0});Pr.bodyOpenClassName=Pr.portalClassName=void 0;var Tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iN=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xy=b,ea=gs(Xy),oN=Io,ta=gs(oN),sN=Ql,X=gs(sN),lN=ql,Op=gs(lN),aN=Rt,uN=fN(aN),Mn=Mt,Ip=gs(Mn),cN=rN;function fN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function gs(e){return e&&e.__esModule?e:{default:e}}function dN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pN=Pr.portalClassName="ReactModalPortal",gN=Pr.bodyOpenClassName="ReactModal__Body--open",lr=Mn.canUseDOM&&ta.default.createPortal!==void 0,bp=function(t){return document.createElement(t)},Ap=function(){return lr?ta.default.createPortal:ta.default.unstable_renderSubtreeIntoContainer};function Ws(e){return e()}var ms=function(e){hN(t,e);function t(){var n,r,i,o;dN(this,t);for(var s=arguments.length,l=Array(s),a=0;a<s;a++)l[a]=arguments[a];return o=(r=(i=Mp(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(l))),i),i.removePortal=function(){!lr&&ta.default.unmountComponentAtNode(i.node);var u=Ws(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=Ap(),f=c(i,ea.default.createElement(Op.default,Tp({defaultStyles:t.defaultStyles},u)),i.node);i.portalRef(f)},r),Mp(i,o)}return iN(t,[{key:"componentDidMount",value:function(){if(Mn.canUseDOM){lr||(this.node=bp("div")),this.node.className=this.props.portalClassName;var r=Ws(this.props.parentSelector);r.appendChild(this.node),!lr&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=Ws(r.parentSelector),o=Ws(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(Mn.canUseDOM){var s=this.props,l=s.isOpen,a=s.portalClassName;r.portalClassName!==a&&(this.node.className=a);var u=o.prevParent,c=o.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!l)&&!lr&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Mn.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!Mn.canUseDOM||!lr)return null;!this.node&&lr&&(this.node=bp("div"));var r=Ap();return r(ea.default.createElement(Op.default,Tp({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){uN.setElement(r)}}]),t}(Xy.Component);ms.propTypes={isOpen:X.default.bool.isRequired,style:X.default.shape({content:X.default.object,overlay:X.default.object}),portalClassName:X.default.string,bodyOpenClassName:X.default.string,htmlOpenClassName:X.default.string,className:X.default.oneOfType([X.default.string,X.default.shape({base:X.default.string.isRequired,afterOpen:X.default.string.isRequired,beforeClose:X.default.string.isRequired})]),overlayClassName:X.default.oneOfType([X.default.string,X.default.shape({base:X.default.string.isRequired,afterOpen:X.default.string.isRequired,beforeClose:X.default.string.isRequired})]),appElement:X.default.oneOfType([X.default.instanceOf(Ip.default),X.default.instanceOf(Mn.SafeHTMLCollection),X.default.instanceOf(Mn.SafeNodeList),X.default.arrayOf(X.default.instanceOf(Ip.default))]),onAfterOpen:X.default.func,onRequestClose:X.default.func,closeTimeoutMS:X.default.number,ariaHideApp:X.default.bool,shouldFocusAfterRender:X.default.bool,shouldCloseOnOverlayClick:X.default.bool,shouldReturnFocusAfterClose:X.default.bool,preventScroll:X.default.bool,parentSelector:X.default.func,aria:X.default.object,data:X.default.object,role:X.default.string,contentLabel:X.default.string,shouldCloseOnEsc:X.default.bool,overlayRef:X.default.func,contentRef:X.default.func,id:X.default.string,overlayElement:X.default.func,contentElement:X.default.func};ms.defaultProps={isOpen:!1,portalClassName:pN,bodyOpenClassName:gN,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return ea.default.createElement("div",t,n)},contentElement:function(t,n){return ea.default.createElement("div",t,n)}};ms.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,cN.polyfill)(ms);Pr.default=ms;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Pr,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=r.default,e.exports=t.default})(i_,Yl);const mN=rf(Yl);function yN({image:e,onHideImagePreview:t,onPreviewImageNavigate:n}){const r=i=>{i.key==="ArrowRight"?n(!0):n(!1)};return b.useEffect(()=>{if(e!==void 0)return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)}),_(mN,{className:"fixed inset-2 max-w-full max-h-full",isOpen:e!==void 0,onRequestClose:t,children:Y("div",{className:"flex w-full h-full",children:[_("img",{className:"max-w-full max-h-full m-auto",src:e!==void 0?Jn(`/view/${e}`):void 0}),_(Yk,{className:"absolute top-1 right-1 h-8 w-8 text-red-500 cursor-pointer",onClick:t})]})})}const vN=b.memo(yN),Dp=36;function wN({value:e,name:t,input:n,onChange:r}){return Me.isList(n)?_(oo,{name:t,children:_("select",{className:"px-1 grow nodrag",value:e,onChange:i=>r(i.target.value),children:n[0].map(i=>_("option",{value:i,children:i.length>Dp?`${i.substring(i.length-Dp+1)}`:i},i))})}):Me.isBool(n)?_(oo,{name:t,children:_("input",{type:"checkbox",className:"px-1 grow nodrag",value:e,onChange:i=>r(i.target.checked)})}):Me.isInt(n)?_(oo,{name:t,children:_(xN,{value:e,onChange:r})}):Me.isFloat(n)?_(oo,{name:t,children:_("input",{type:"number",className:"px-1 grow nodrag",value:e,onChange:i=>r(i.target.valueAsNumber)})}):Me.isString(n)?n[1].multiline===!0?_("textarea",{style:{height:128,width:260},className:"px-1 grow nodrag text-xs",value:e,onChange:o=>r(o.target.value)}):_(oo,{name:t,children:_("input",{type:"text",className:"px-1 grow nodrag",value:e,onChange:o=>r(o.target.value)})}):_(ke,{})}const SN=b.memo(wN);function xN({value:e,onChange:t}){const[{text:n,failed:r},i]=b.useState({text:e.toString(),failed:!1});b.useEffect(()=>{i(l=>({...l,text:e.toString()}))},[e]);const o=["px-1","grow","nodrag"],s=r?["border","border-1","border-rose-500"]:[];return _("input",{type:"text",className:o.concat(s).join(" "),value:n,onChange:l=>{const a=parseInt(l.target.value),u=Object.is(NaN,a);i({text:l.target.value,failed:u}),u||t(a)}})}function oo({name:e,children:t}){return Y("div",{className:"flex w-full justify-between",children:[_("span",{className:"pr-2",children:e}),t]})}function CN({widgets:e,onAddNode:t}){const n={};for(const r of Object.values(e))n[r.category]!==void 0?n[r.category].push(r):n[r.category]=[r];return _("div",{className:"flex flex-row p-1 h-full w-full overflow-x-scroll",children:Object.entries(n).map(([r,i])=>Y("div",{className:"flex flex-col px-1",children:[_("h3",{className:"text-md font-bold mx-auto",children:r}),_("div",{className:"overflow-y-scroll",children:i.map(o=>Y("div",{className:"text-xs p-1 my-1 bg-stone-800 hover:bg-stone-700 rounded-md cursor-pointer whitespace-nowrap",onClick:()=>t(o),children:[_(Xk,{className:"h-4 w-4 inline"}),_("span",{className:"align-middle px-0.5",children:o.name})]},o.name))})]},r))})}const EN=b.memo(CN);function kN({queue:e,onDeleteFromQueue:t}){return e.length===0?_("div",{className:"m-auto w-full text-center text-stone-500",children:"Nothing to do!"}):_("div",{className:"overflow-y-scroll w-full",children:e.map((n,r)=>Y("div",{className:"p-1 flex bg-stone-800 odd:bg-stone-900 items-center",children:[r+1,".",Y("div",{className:"flex flex-wrap",children:[_(Rp,{label:"model",value:n.model===void 0?"N/A":n.model}),n.prompts.map((i,o)=>_(Rp,{label:"prompt",value:i},o))]}),r!==0?_(Uy,{className:"inline h-5 w-5 mx-1 text-red-500 align-text-bottom cursor-pointer",onClick:()=>{t(n.id)}}):_(ke,{})]},r))})}function Rp({label:e,value:t}){return Y("div",{className:"p-1 m-1 bg-stone-700 rounded-md text-xs whitespace-nowrap overflow-hidden text-ellipsis max-w-lg",children:[e,": ",t]})}const _N=b.memo(kN);function NN({onLoadWorkflow:e,onSaveWorkflow:t}){return Y("div",{className:"px-2 py-4",children:[Y("label",{className:"p-2 cursor-pointer bg-stone-800 hover:bg-stone-700 rounded-md cursor-pointer",children:["Load workflow",_("input",{type:"file",className:"hidden",onChange:n=>Ik(n,e)})]}),_("div",{className:"p-2 my-4 cursor-pointer bg-stone-800 hover:bg-stone-700 rounded-md cursor-pointer",onClick:t,children:"Save workflow"})]})}const PN=b.memo(NN);function TN(e){const{progressBar:t,imagePreviews:n,onPreviewImage:r,onDuplicateNode:i,onDeleteNode:o}=qt(s=>{var l,a,u;return{progressBar:((l=s.nodeInProgress)==null?void 0:l.id)===e.id?s.nodeInProgress.progress:void 0,imagePreviews:(u=(a=s.graph[e.id])==null?void 0:a.images)==null?void 0:u.flatMap(c=>{const f=s.gallery.findIndex(d=>d.image===c);return f!==-1?{image:c,index:f}:[]}),onPreviewImage:s.onPreviewImage,onPropChange:s.onPropChange,onDuplicateNode:s.onDuplicateNode,onDeleteNode:s.onDeleteNode}},fe);return _($N,{node:e,progressBar:t,imagePreviews:n,onPreviewImage:r,onDuplicateNode:i,onDeleteNode:o})}function ON(){const{promptError:e,onSubmit:t}=qt(n=>({promptError:n.promptError,onSubmit:n.onSubmit}),fe);return _(Zk,{promptError:e,onSubmit:t})}function IN(){const{onLoadWorkflow:e,onSaveWorkflow:t}=qt(n=>({onLoadWorkflow:n.onLoadWorkflow,onSaveWorkflow:n.onSaveWorkflow}));return _(PN,{onLoadWorkflow:e,onSaveWorkflow:t})}function MN(){const{queue:e,onDeleteFromQueue:t}=qt(n=>({queue:n.queue,onDeleteFromQueue:n.onDeleteFromQueue}),fe);return _(_N,{queue:e,onDeleteFromQueue:t})}function bN(){const{widgets:e,onAddNode:t}=qt(n=>({widgets:n.widgets,onAddNode:n.onAddNode}),fe);return _(EN,{widgets:e,onAddNode:t})}function AN(){const{gallery:e,onPreviewImage:t,onLoadImageWorkflow:n}=qt(r=>({gallery:r.gallery,onPreviewImage:r.onPreviewImage,onLoadImageWorkflow:r.onLoadImageWorkflow}),fe);return _(r_,{gallery:e,onPreviewImage:t,onLoadImageWorkflow:n})}function DN(){const{image:e,onHideImagePreview:t,onPreviewImageNavigate:n}=qt(r=>{var i;return{image:r.previewedImageIndex!==void 0?(i=r.gallery[r.previewedImageIndex])==null?void 0:i.image:void 0,onHideImagePreview:r.onHideImagePreview,onPreviewImageNavigate:r.onPreviewImageNavigate}},fe);return _(vN,{image:e,onHideImagePreview:t,onPreviewImageNavigate:n})}function RN({id:e,name:t,input:n}){const{value:r,onPropChange:i}=qt(o=>{var s;return{value:(s=o.graph[e])==null?void 0:s.fields[t],onPropChange:o.onPropChange}},fe);return _(SN,{value:r,name:t,input:n,onChange:o=>i(e,t,o)})}const Yy="sdNode";function LN({node:e,progressBar:t,imagePreviews:n,onPreviewImage:r,onDuplicateNode:i,onDeleteNode:o}){const s=[],l=[];for(const[f,d]of Object.entries(e.data.input.required))Me.isParameterOrList(d)?s.push({property:f,input:d}):l.push(f);const a=t!==void 0,u=["drop-shadow-md","rounded-md","bg-stone-900","border-2","flex","flex-col","overflow-hidden","graph-node"],c=a?["border-teal-500"]:e.selected?["border-stone-100"]:["border-stone-400"];return Y("div",{className:u.concat(c).join(" "),children:[Y("div",{className:"bg-stone-800 flex justify-between relative",children:[_("h2",{className:"font-semibold px-2",children:e.data.name}),a?_("div",{className:"progress-bar bg-teal-800",style:{width:`${t*100}%`}}):_(ke,{}),e.selected?Y("div",{className:"flex items-center px-1",children:[_(Kk,{className:"h-5 w-5 text-zinc-200 cursor-pointer",onClick:()=>i(e.id)}),_(Uy,{className:"h-5 w-5 text-red-500 cursor-pointer",onClick:()=>o(e.id)}),_(zy,{className:"h-5 w-5 text-blue-500 cursor-pointer"})]}):_(ke,{})]}),Y("div",{className:"px-2 py-2 flex space-x-2 justify-between",children:[_("div",{className:"flex flex-col grow-0 py-1",children:l.map(f=>_(Lp,{id:f,label:f,type:"target",position:W.Left},f))}),_("div",{className:"flex flex-col items-start grow p-1 space-y-1 text-sm",children:s.map(({property:f,input:d})=>_(RN,{name:f,id:e.id,input:d},f))}),_("div",{className:"flex flex-col py-1",children:e.data.output.map(f=>_(Lp,{id:f,label:f,type:"source",position:W.Right},f))})]}),_("div",{className:"m-auto flex flex-wrap max-w-xs mb-2",children:n==null?void 0:n.map(({image:f,index:d})=>_("div",{className:"flex grow basis-1/2",children:_("img",{className:"w-full rounded-xl drop-shadow-md p-1",src:Jn(`/view/${f}`),onClick:()=>r(d)})},f)).reverse()})]})}const $N=b.memo(LN);function Lp({id:e,label:t,type:n,position:r}){return Y("div",{className:r===W.Right?"flex flex-row-reverse":"flex",children:[_(es,{id:e,type:n,position:r,className:"w-3 h-3 !bg-teal-500 relative"}),_("h5",{className:"font-semibold text-xs",style:{marginBottom:2},children:t.toUpperCase()})]})}const FN="modulepreload",zN=function(e){return"/"+e},$p={},UN=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=zN(o),o in $p)return;$p[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":FN,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};var Da=typeof self<"u"?self:global;const os=typeof navigator<"u",BN=os&&typeof HTMLImageElement>"u",na=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),Ra=Da.Buffer,js=Da.BigInt,La=!!Ra,HN=e=>e;function ra(e,t=HN){if(na)try{return typeof require=="function"?Promise.resolve(t(require(e))):UN(()=>import(e),[]).then(t)}catch{console.warn(`Couldn't load ${e}`)}}let yd=Da.fetch;const VN=e=>yd=e;if(!Da.fetch){const e=ra("http",r=>r),t=ra("https",r=>r),n=(r,{headers:i}={})=>new Promise(async(o,s)=>{let{port:l,hostname:a,pathname:u,protocol:c,search:f}=new URL(r);const d={method:"GET",hostname:a,path:encodeURI(u)+f,headers:i};l!==""&&(d.port=Number(l));const g=(c==="https:"?await t:await e).request(d,S=>{if(S.statusCode===301||S.statusCode===302){let w=new URL(S.headers.location,r).toString();return n(w,{headers:i}).then(o).catch(s)}o({status:S.statusCode,arrayBuffer:()=>new Promise(w=>{let P=[];S.on("data",h=>P.push(h)),S.on("end",()=>w(Buffer.concat(P)))})})});g.on("error",s),g.end()});VN(n)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ia=e=>Qy(e)?void 0:e,WN=e=>e!==void 0;function Qy(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(WN).length===0)}function Se(e){let t=new Error(e);throw delete t.stack,t}function dr(e){return(e=function(t){for(;t.endsWith("\0");)t=t.slice(0,-1);return t}(e).trim())===""?void 0:e}function qc(e){let t=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const Zc=e=>String.fromCharCode.apply(null,e),Fp=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function qy(e){return Fp?Fp.decode(e):La?Buffer.from(e).toString("utf8"):decodeURIComponent(escape(Zc(e)))}class qe{static from(t,n){return t instanceof this&&t.le===n?t:new qe(t,void 0,void 0,n)}constructor(t,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){r===void 0&&(r=t.byteLength-n);let o=new DataView(t,n,r);this._swapDataView(o)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof qe){r===void 0&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength&&Se("Creating view outside of available memory in ArrayBuffer");let o=new DataView(t.buffer,n,r);this._swapDataView(o)}else if(typeof t=="number"){let o=new DataView(new ArrayBuffer(t));this._swapDataView(o)}else Se("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,n,r=qe){return t instanceof DataView||t instanceof qe?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||Se("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new r(this,n,t.byteLength)}subarray(t,n){return n=n||this._lengthToEnd(t),new qe(this,t,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,n){return new Uint8Array(this.buffer,this.byteOffset+t,n)}getString(t=0,n=this.byteLength){return qy(this.getUint8Array(t,n))}getLatin1String(t=0,n=this.byteLength){let r=this.getUint8Array(t,n);return Zc(r)}getUnicodeString(t=0,n=this.byteLength){const r=[];for(let i=0;i<n&&t+i<this.byteLength;i+=2)r.push(this.getUint16(t+i));return Zc(r)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,n=this.le){return this.dataView.getInt16(t,n)}getInt32(t,n=this.le){return this.dataView.getInt32(t,n)}getUint16(t,n=this.le){return this.dataView.getUint16(t,n)}getUint32(t,n=this.le){return this.dataView.getUint32(t,n)}getFloat32(t,n=this.le){return this.dataView.getFloat32(t,n)}getFloat64(t,n=this.le){return this.dataView.getFloat64(t,n)}getFloat(t,n=this.le){return this.dataView.getFloat32(t,n)}getDouble(t,n=this.le){return this.dataView.getFloat64(t,n)}getUintBytes(t,n,r){switch(n){case 1:return this.getUint8(t,r);case 2:return this.getUint16(t,r);case 4:return this.getUint32(t,r);case 8:return this.getUint64&&this.getUint64(t,r)}}getUint(t,n,r){switch(n){case 8:return this.getUint8(t,r);case 16:return this.getUint16(t,r);case 32:return this.getUint32(t,r);case 64:return this.getUint64&&this.getUint64(t,r)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function Jc(e,t){Se(`${e} '${t}' was not loaded, try using full build of exifr.`)}class vd extends Map{constructor(t){super(),this.kind=t}get(t,n){return this.has(t)||Jc(this.kind,t),n&&(t in n||function(r,i){Se(`Unknown ${r} '${i}'.`)}(this.kind,t),n[t].enabled||Jc(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}}var Xt=new vd("file parser"),ve=new vd("segment parser"),Qt=new vd("file reader");function jN(e,t){return typeof e=="string"?zp(e,t):os&&!BN&&e instanceof HTMLImageElement?zp(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new qe(e):os&&e instanceof Blob?ef(e,t,"blob",Or):void Se("Invalid input argument")}function zp(e,t){return(n=e).startsWith("data:")||n.length>1e4?tf(e,t,"base64"):na&&e.includes("://")?ef(e,t,"url",Tr):na?tf(e,t,"fs"):os?ef(e,t,"url",Tr):void Se("Invalid input argument");var n}async function ef(e,t,n,r){return Qt.has(n)?tf(e,t,n):r?async function(i,o){let s=await o(i);return new qe(s)}(e,r):void Se(`Parser ${n} is not loaded`)}async function tf(e,t,n){let r=new(Qt.get(n))(e,t);return await r.read(),r}const Tr=e=>yd(e).then(t=>t.arrayBuffer()),Or=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)});class GN extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function ye(e,t,n){let r=new GN;for(let[i,o]of n)r.set(i,o);if(Array.isArray(t))for(let i of t)e.set(i,r);else e.set(t,r);return r}function Ir(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}const Oe=new Map,Lt=new Map,Gn=new Map,bn=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Li=["jfif","xmp","icc","iptc","ihdr"],Mr=["tiff",...Li],he=["ifd0","ifd1","exif","gps","interop"],An=[...Mr,...he],Dn=["makerNote","userComment"],$i=["translateKeys","translateValues","reviveValues","multiSegment"],Rn=[...$i,"sanitize","mergeOutput","silentErrors"];class Zy{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class so extends Zy{get needed(){return this.enabled||this.deps.size>0}constructor(t,n,r,i){if(super(),K(this,"enabled",!1),K(this,"skip",new Set),K(this,"pick",new Set),K(this,"deps",new Set),K(this,"translateKeys",!1),K(this,"translateValues",!1),K(this,"reviveValues",!1),this.key=t,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=he.includes(t),this.canBeFiltered&&(this.dict=Oe.get(t)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:o,skip:s}=r;o&&o.length>0&&this.translateTagSet(o,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Se(`Invalid options argument: ${r}`)}applyInheritables(t){let n,r;for(n of $i)r=t[n],r!==void 0&&(this[n]=r)}translateTagSet(t,n){if(this.dict){let r,i,{tagKeys:o,tagValues:s}=this.dict;for(r of t)typeof r=="string"?(i=s.indexOf(r),i===-1&&(i=o.indexOf(Number(r))),i!==-1&&n.add(Number(o[i]))):n.add(r)}else for(let r of t)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,oa(this.pick,this.deps)):this.enabled&&this.pick.size>0&&oa(this.pick,this.deps)}}var Ve={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Up=new Map;class Rr extends Zy{static useCached(t){let n=Up.get(t);return n!==void 0||(n=new this(t),Up.set(t,n)),n}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):Se(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=os?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of bn)this[t]=Ve[t];for(t of Rn)this[t]=Ve[t];for(t of Dn)this[t]=Ve[t];for(t of An)this[t]=new so(t,Ve[t],void 0,this)}setupFromTrue(){let t;for(t of bn)this[t]=Ve[t];for(t of Rn)this[t]=Ve[t];for(t of Dn)this[t]=!0;for(t of An)this[t]=new so(t,!0,void 0,this)}setupFromArray(t){let n;for(n of bn)this[n]=Ve[n];for(n of Rn)this[n]=Ve[n];for(n of Dn)this[n]=Ve[n];for(n of An)this[n]=new so(n,!1,void 0,this);this.setupGlobalFilters(t,void 0,he)}setupFromObject(t){let n;for(n of(he.ifd0=he.ifd0||he.image,he.ifd1=he.ifd1||he.thumbnail,Object.assign(this,t),bn))this[n]=Mu(t[n],Ve[n]);for(n of Rn)this[n]=Mu(t[n],Ve[n]);for(n of Dn)this[n]=Mu(t[n],Ve[n]);for(n of Mr)this[n]=new so(n,Ve[n],t[n],this);for(n of he)this[n]=new so(n,Ve[n],t[n],this.tiff);this.setupGlobalFilters(t.pick,t.skip,he,An),t.tiff===!0?this.batchEnableWithBool(he,!0):t.tiff===!1?this.batchEnableWithUserValue(he,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,he):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,he)}batchEnableWithBool(t,n){for(let r of t)this[r].enabled=n}batchEnableWithUserValue(t,n){for(let r of t){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(t,n,r,i=r){if(t&&t.length){for(let s of i)this[s].enabled=!1;let o=Bp(t,r);for(let[s,l]of o)oa(this[s].pick,l),this[s].enabled=!0}else if(n&&n.length){let o=Bp(n,r);for(let[s,l]of o)oa(this[s].skip,l)}}filterNestedSegmentTags(){let{ifd0:t,exif:n,xmp:r,iptc:i,icc:o}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||t.skip.add(700),i.enabled||t.skip.add(33723),o.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=he.some(o=>this[o].enabled===!0)||this.makerNote||this.userComment;for(let o of he)this[o].finalizeFilters()}get onlyTiff(){return!Li.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of Mr)this[t].enabled&&!ve.has(t)&&Jc("segment parser",t)}}function Bp(e,t){let n,r,i,o,s=[];for(i of t){for(o of(n=Oe.get(i),r=[],n))(e.includes(o[0])||e.includes(o[1]))&&r.push(o[0]);r.length&&s.push([i,r])}return s}function Mu(e,t){return e!==void 0?e:t!==void 0?t:void 0}function oa(e,t){for(let n of t)e.add(n)}K(Rr,"default",Ve);class er{constructor(t){K(this,"parsers",{}),K(this,"output",{}),K(this,"errors",[]),K(this,"pushToErrors",n=>this.errors.push(n)),this.options=Rr.useCached(t)}async read(t){this.file=await jN(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,n=t.getUint16(0);for(let[r,i]of Xt)if(i.canHandle(t,n))return this.fileParser=new i(this.options,this.file,this.parsers),t[r]=!0;this.file.close&&this.file.close(),Se("Unknown file format")}async parse(){let{output:t,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(t.errors=n),ia(t)}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(t,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:t,file:n}=this,r=ve.get("tiff",t);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let o=await this.fileParser.ensureSegmentChunk(i),s=this.parsers.tiff=new r(o,t,n),l=await s.extractThumbnail();return n.close&&n.close(),l}}async function $a(e,t){let n=new er(t);return await n.read(e),n.parse()}var KN=Object.freeze({__proto__:null,parse:$a,Exifr:er,fileParsers:Xt,segmentParsers:ve,fileReaders:Qt,tagKeys:Oe,tagValues:Lt,tagRevivers:Gn,createDictionary:ye,extendDictionary:Ir,fetchUrlAsArrayBuffer:Tr,readBlobAsArrayBuffer:Or,chunkedProps:bn,otherSegments:Li,segments:Mr,tiffBlocks:he,segmentsAndBlocks:An,tiffExtractables:Dn,inheritables:$i,allFormatters:Rn,Options:Rr});class Fa{constructor(t,n,r){K(this,"errors",[]),K(this,"ensureSegmentChunk",async i=>{let o=i.start,s=i.size||65536;if(this.file.chunked)if(this.file.available(o,s))i.chunk=this.file.subarray(o,s);else try{i.chunk=await this.file.readChunk(o,s)}catch(l){Se(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>o+s?i.chunk=this.file.subarray(o,s):i.size===void 0?i.chunk=this.file.subarray(o):Se("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=r}injectSegment(t,n){this.options[t].enabled&&this.createParser(t,n)}createParser(t,n){let r=new(ve.get(t))(n,this.options,this.file);return this.parsers[t]=r}createParsers(t){for(let n of t){let{type:r,chunk:i}=n,o=this.options[r];if(o&&o.enabled){let s=this.parsers[r];s&&s.append||s||this.createParser(r,i)}}}async readSegments(t){let n=t.map(this.ensureSegmentChunk);await Promise.all(n)}}class Tt{static findPosition(t,n){let r=t.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(t,n,r):this.headerLength,o=n+i,s=r-i;return{offset:n,length:r,headerLength:i,start:o,size:s,end:o+s}}static parse(t,n={}){return new this(t,new Rr({[this.type]:n}),t).parse()}normalizeInput(t){return t instanceof qe?t:new qe(t)}constructor(t,n={},r){K(this,"errors",[]),K(this,"raw",new Map),K(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,n){let r=Gn.get(n),i=Lt.get(n),o=Oe.get(n),s=this.options[n],l=s.reviveValues&&!!r,a=s.translateValues&&!!i,u=s.translateKeys&&!!o,c={};for(let[f,d]of t)l&&r.has(f)?d=r.get(f)(d):a&&i.has(f)&&(d=this.translateValue(d,i.get(f))),u&&o.has(f)&&(f=o.get(f)||f),c[f]=d;return c}translateValue(t,n){return n[t]||n.DEFAULT||t}assignToOutput(t,n){this.assignObjectToOutput(t,this.constructor.type,n)}assignObjectToOutput(t,n,r){if(this.globalOptions.mergeOutput)return Object.assign(t,r);t[n]?Object.assign(t[n],r):t[n]=r}}K(Tt,"headerLength",4),K(Tt,"type",void 0),K(Tt,"multiSegment",!1),K(Tt,"canHandle",()=>!1);function XN(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function YN(e){return e>=224&&e<=239}function QN(e,t,n){for(let[r,i]of ve)if(i.canHandle(e,t,n))return r}class Hp extends Fa{constructor(...t){super(...t),K(this,"appSegments",[]),K(this,"jpegSegments",[]),K(this,"unknownSegments",[])}static canHandle(t,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(ve.keyList())):(t=t===void 0?ve.keyList().filter(n=>this.options[n].enabled):t.filter(n=>this.options[n].enabled&&ve.has(n)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:o,remaining:s}=this;if(!i&&this.file.chunked&&(i=Array.from(o).some(l=>{let a=ve.get(l),u=this.options[l];return a.multiSegment&&u.multiSegment}),i&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;s.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:a}=r,u=this.appSegments.some(c=>!this.file.available(c.offset||c.start,c.length||c.size));if(l=t>a&&!u?!await r.readNextChunk(t):!await r.readNextChunk(a),(t=this.findAppSegmentsInRange(t,r.byteLength))===void 0)return}}}findAppSegmentsInRange(t,n){n-=2;let r,i,o,s,l,a,{file:u,findAll:c,wanted:f,remaining:d,options:g}=this;for(;t<n;t++)if(u.getUint8(t)===255){if(r=u.getUint8(t+1),YN(r)){if(i=u.getUint16(t+2),o=QN(u,t,i),o&&f.has(o)&&(s=ve.get(o),l=s.findPosition(u,t),a=g[o],l.type=o,this.appSegments.push(l),!c&&(s.multiSegment&&a.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||d.delete(o)):d.delete(o),d.size===0)))break;g.recordUnknownSegments&&(l=Tt.findPosition(u,t),l.marker=r,this.unknownSegments.push(l)),t+=i+1}else if(XN(r)){if(i=u.getUint16(t+2),r===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:t,length:i,marker:r}),t+=i+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let t=function(n,r){let i,o,s,l=new Map;for(let a=0;a<n.length;a++)i=n[a],o=i[r],l.has(o)?s=l.get(o):l.set(o,s=[]),s.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=t.map(([n,r])=>{let i=ve.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(t){return this.appSegments.find(n=>n.type===t)}async getOrFindSegment(t){let n=this.getSegment(t);return n===void 0&&(await this.findAppSegments(0,[t]),n=this.getSegment(t)),n}}K(Hp,"type","jpeg"),Xt.set("jpeg",Hp);const qN=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class ZN extends Tt{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,n,r=new Map){let{pick:i,skip:o}=this.options[n];i=new Set(i);let s=i.size>0,l=o.size===0,a=this.chunk.getUint16(t);t+=2;for(let u=0;u<a;u++){let c=this.chunk.getUint16(t);if(s){if(i.has(c)&&(r.set(c,this.parseTag(t,c,n)),i.delete(c),i.size===0))break}else!l&&o.has(c)||r.set(c,this.parseTag(t,c,n));t+=12}return r}parseTag(t,n,r){let{chunk:i}=this,o=i.getUint16(t+2),s=i.getUint32(t+4),l=qN[o];if(l*s<=4?t+=8:t=i.getUint32(t+8),(o<1||o>13)&&Se(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${o}, offset ${t}`),t>i.byteLength&&Se(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${o}, offset ${t} is outside of chunk size ${i.byteLength}`),o===1)return i.getUint8Array(t,s);if(o===2)return dr(i.getString(t,s));if(o===7)return i.getUint8Array(t,s);if(s===1)return this.parseTagValue(o,t);{let a=new(function(c){switch(c){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(o))(s),u=l;for(let c=0;c<s;c++)a[c]=this.parseTagValue(o,t),t+=u;return a}}parseTagValue(t,n){let{chunk:r}=this;switch(t){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:Se(`Invalid tiff type ${t}`)}}}class bu extends ZN{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1165519206&&t.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let n=this[t]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(t,n){let r=new Map;return this[n]=r,this.parseTags(t,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Se("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&Se(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,qc(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,qc(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,n){let r=t.get(n);r&&r.length===1&&t.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",Vp(...t.get(2),t.get(1))),t.set("longitude",Vp(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(t,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,n,r,i={};for(n of he)if(t=this[n],!Qy(t))if(r=this.canTranslate?this.translateBlock(t,n):Object.fromEntries(t),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(t,n){if(this.globalOptions.mergeOutput)Object.assign(t,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(t,r,i)}}function Vp(e,t,n,r){var i=e+t/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}K(bu,"type","tiff"),K(bu,"headerLength",10),ve.set("tiff",bu);var JN=Object.freeze({__proto__:null,default:KN,Exifr:er,fileParsers:Xt,segmentParsers:ve,fileReaders:Qt,tagKeys:Oe,tagValues:Lt,tagRevivers:Gn,createDictionary:ye,extendDictionary:Ir,fetchUrlAsArrayBuffer:Tr,readBlobAsArrayBuffer:Or,chunkedProps:bn,otherSegments:Li,segments:Mr,tiffBlocks:he,segmentsAndBlocks:An,tiffExtractables:Dn,inheritables:$i,allFormatters:Rn,Options:Rr,parse:$a});const wd={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Sd=Object.assign({},wd,{firstChunkSize:4e4,gps:[1,2,3,4]});async function Jy(e){let t=new er(Sd);await t.read(e);let n=await t.parse();if(n&&n.gps){let{latitude:r,longitude:i}=n.gps;return{latitude:r,longitude:i}}}const xd=Object.assign({},wd,{tiff:!1,ifd1:!0,mergeOutput:!1});async function ev(e){let t=new er(xd);await t.read(e);let n=await t.extractThumbnail();return n&&La?Ra.from(n):n}async function tv(e){let t=await this.thumbnail(e);if(t!==void 0){let n=new Blob([t]);return URL.createObjectURL(n)}}const Cd=Object.assign({},wd,{firstChunkSize:4e4,ifd0:[274]});async function Ed(e){let t=new er(Cd);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const kd=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let hr=!0,pr=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,n,r]=t;hr=Number(n)+.1*Number(r)<13.4,pr=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);hr=pr=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);hr=pr=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);hr=pr=Number(t)<77}}async function nv(e){let t=await Ed(e);return Object.assign({canvas:hr,css:pr},kd[t])}class e4 extends qe{constructor(...t){super(...t),K(this,"ranges",new t4),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,n,r){if(t===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=t+n;if(i>this.byteLength){let{dataView:o}=this._extend(i);this._swapDataView(o)}}}_extend(t){let n;n=La?Ra.allocUnsafe(t):new Uint8Array(t);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(t,n,r=!1){return n=n||this._lengthToEnd(t),r&&this._tryExtend(t,n),this.ranges.add(t,n),super.subarray(t,n)}set(t,n,r=!1){r&&this._tryExtend(n,t.byteLength,t);let i=super.set(t,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(t,n){this.chunked&&(this.ranges.available(t,n)||await this.readChunk(t,n))}available(t,n){return this.ranges.available(t,n)}}class t4{constructor(){K(this,"list",[])}get length(){return this.list.length}add(t,n,r=0){let i=t+n,o=this.list.filter(s=>Wp(t,s.offset,i)||Wp(t,s.end,i));if(o.length>0){t=Math.min(t,...o.map(l=>l.offset)),i=Math.max(i,...o.map(l=>l.end)),n=i-t;let s=o.shift();s.offset=t,s.length=n,s.end=i,this.list=this.list.filter(l=>!o.includes(l))}else this.list.push({offset:t,length:n,end:i})}available(t,n){let r=t+n;return this.list.some(i=>i.offset<=t&&r<=i.end)}}function Wp(e,t,n){return e<=t&&t<=n}class za extends e4{constructor(t,n){super(0),K(this,"chunksRead",0),this.input=t,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(t,n);return!!r&&r.byteLength===n}async readChunk(t,n){if(this.chunksRead++,(n=this.safeWrapAddress(t,n))!==0)return this._readChunk(t,n)}safeWrapAddress(t,n){return this.size!==void 0&&t+n>this.size?Math.max(0,this.size-t):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Qt.set("blob",class extends za{async readWhole(){this.chunked=!1;let e=await Or(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await Or(r);return this.set(i,e,!0)}});var n4=Object.freeze({__proto__:null,default:JN,Exifr:er,fileParsers:Xt,segmentParsers:ve,fileReaders:Qt,tagKeys:Oe,tagValues:Lt,tagRevivers:Gn,createDictionary:ye,extendDictionary:Ir,fetchUrlAsArrayBuffer:Tr,readBlobAsArrayBuffer:Or,chunkedProps:bn,otherSegments:Li,segments:Mr,tiffBlocks:he,segmentsAndBlocks:An,tiffExtractables:Dn,inheritables:$i,allFormatters:Rn,Options:Rr,parse:$a,gpsOnlyOptions:Sd,gps:Jy,thumbnailOnlyOptions:xd,thumbnail:ev,thumbnailUrl:tv,orientationOnlyOptions:Cd,orientation:Ed,rotations:kd,get rotateCanvas(){return hr},get rotateCss(){return pr},rotation:nv});Qt.set("url",class extends za{async readWhole(){this.chunked=!1;let e=await Tr(this.input);e instanceof ArrayBuffer?this._swapArrayBuffer(e):e instanceof Uint8Array&&this._swapBuffer(e)}async _readChunk(e,t){let n=t?e+t-1:void 0,r=this.options.httpHeaders||{};(e||n)&&(r.range=`bytes=${[e,n].join("-")}`);let i=await yd(this.input,{headers:r}),o=await i.arrayBuffer(),s=o.byteLength;if(i.status!==416)return s!==t&&(this.size=e+s),this.set(o,e,!0)}});qe.prototype.getUint64=function(e){let t=this.getUint32(e),n=this.getUint32(e+4);return t<1048575?t<<32|n:typeof js!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),js(t)<<js(32)|js(n)):void Se("Trying to read 64b value but JS can only handle 53b numbers.")};class r4 extends Fa{parseBoxes(t=0){let n=[];for(;t<this.file.byteLength-4;){let r=this.parseBoxHead(t);if(n.push(r),r.length===0)break;t+=r.length}return n}parseSubBoxes(t){t.boxes=this.parseBoxes(t.start)}findBox(t,n){return t.boxes===void 0&&this.parseSubBoxes(t),t.boxes.find(r=>r.kind===n)}parseBoxHead(t){let n=this.file.getUint32(t),r=this.file.getString(t+4,4),i=t+8;return n===1&&(n=this.file.getUint64(t+8),i+=8),{offset:t,length:n,kind:r,start:i}}parseBoxFullHead(t){if(t.version!==void 0)return;let n=this.file.getUint32(t.start);t.version=n>>24,t.start+=4}}class rv extends r4{static canHandle(t,n){if(n!==0)return!1;let r=t.getUint16(2);if(r>50)return!1;let i=16,o=[];for(;i<r;)o.push(t.getString(i,4)),i+=4;return o.includes(this.type)}async parse(){let t=this.file.getUint32(0),n=this.parseBoxHead(t);for(;n.kind!=="meta";)t+=n.length,await this.file.ensureChunk(t,16),n=this.parseBoxHead(t);await this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&await this.findIcc(n),this.options.tiff.enabled&&await this.findExif(n)}async registerSegment(t,n,r){await this.file.ensureChunk(n,r);let i=this.file.subarray(n,r);this.createParser(t,i)}async findIcc(t){let n=this.findBox(t,"iprp");if(n===void 0)return;let r=this.findBox(n,"ipco");if(r===void 0)return;let i=this.findBox(r,"colr");i!==void 0&&await this.registerSegment("icc",i.offset+12,i.length)}async findExif(t){let n=this.findBox(t,"iinf");if(n===void 0)return;let r=this.findBox(t,"iloc");if(r===void 0)return;let i=this.findExifLocIdInIinf(n),o=this.findExtentInIloc(r,i);if(o===void 0)return;let[s,l]=o;await this.file.ensureChunk(s,l);let a=4+this.file.getUint32(s);s+=a,l-=a,await this.registerSegment("tiff",s,l)}findExifLocIdInIinf(t){this.parseBoxFullHead(t);let n,r,i,o,s=t.start,l=this.file.getUint16(s);for(s+=2;l--;){if(n=this.parseBoxHead(s),this.parseBoxFullHead(n),r=n.start,n.version>=2&&(i=n.version===3?4:2,o=this.file.getString(r+i+2,4),o==="Exif"))return this.file.getUintBytes(r,i);s+=n.length}}get8bits(t){let n=this.file.getUint8(t);return[n>>4,15&n]}findExtentInIloc(t,n){this.parseBoxFullHead(t);let r=t.start,[i,o]=this.get8bits(r++),[s,l]=this.get8bits(r++),a=t.version===2?4:2,u=t.version===1||t.version===2?2:0,c=l+i+o,f=t.version===2?4:2,d=this.file.getUintBytes(r,f);for(r+=f;d--;){let g=this.file.getUintBytes(r,a);r+=a+u+2+s;let S=this.file.getUint16(r);if(r+=2,g===n)return S>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+l,i),this.file.getUintBytes(r+l+i,o)];r+=S*c}}}class iv extends rv{}K(iv,"type","heic");class jp extends rv{}K(jp,"type","avif"),Xt.set("heic",iv),Xt.set("avif",jp),ye(Oe,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),ye(Oe,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),ye(Oe,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),ye(Lt,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let To=ye(Lt,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Gp={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};To.set(37392,Gp),To.set(41488,Gp);const Au={0:"Normal",1:"Low",2:"High"};function Kp(e){return typeof e=="object"&&e.length!==void 0?e[0]:e}function Xp(e){let t=Array.from(e).slice(1);return t[1]>15&&(t=t.map(n=>String.fromCharCode(n))),t[2]!=="0"&&t[2]!==0||t.pop(),t.join(".")}function Du(e){if(typeof e=="string"){var[t,n,r,i,o,s]=e.trim().split(/[-: ]/g).map(Number),l=new Date(t,n-1,r);return Number.isNaN(i)||Number.isNaN(o)||Number.isNaN(s)||(l.setHours(i),l.setMinutes(o),l.setSeconds(s)),Number.isNaN(+l)?e:l}}function lo(e){if(typeof e=="string")return e;let t=[];if(e[1]===0&&e[e.length-1]===0)for(let n=0;n<e.length;n+=2)t.push(Yp(e[n+1],e[n]));else for(let n=0;n<e.length;n+=2)t.push(Yp(e[n],e[n+1]));return dr(String.fromCodePoint(...t))}function Yp(e,t){return e<<8|t}To.set(41992,Au),To.set(41993,Au),To.set(41994,Au),ye(Gn,["ifd0","ifd1"],[[50827,function(e){return typeof e!="string"?qy(e):e}],[306,Du],[40091,lo],[40092,lo],[40093,lo],[40094,lo],[40095,lo]]),ye(Gn,"exif",[[40960,Xp],[36864,Xp],[36867,Du],[36868,Du],[40962,Kp],[40963,Kp]]),ye(Gn,"gps",[[0,e=>Array.from(e).join(".")],[7,e=>Array.from(e).join(":")]]);class Ru extends Tt{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1752462448&&t.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(t,n){return t.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:4+28+1}static findPosition(t,n){let r=super.findPosition(t,n);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=t.getUint8(n+72),r.chunkNumber=t.getUint8(n+76),t.getUint8(n+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(t){return t.map(n=>n.chunk.getString()).join("")}normalizeInput(t){return typeof t=="string"?t:qe.from(t).getString()}parse(t=this.chunk){if(!this.localOptions.parse)return t;t=function(o){let s={},l={};for(let a of av)s[a]=[],l[a]=0;return o.replace(l4,(a,u,c)=>{if(u==="<"){let f=++l[c];return s[c].push(f),`${a}#${f}`}return`${a}#${s[c].pop()}`})}(t);let n=vi.findAll(t,"rdf","Description");n.length===0&&n.push(new vi("rdf","Description",void 0,t));let r,i={};for(let o of n)for(let s of o.properties)r=s4(s.ns,i),ov(s,r);return function(o){let s;for(let l in o)s=o[l]=ia(o[l]),s===void 0&&delete o[l];return ia(o)}(i)}assignToOutput(t,n){if(this.localOptions.parse)for(let[r,i]of Object.entries(n))switch(r){case"tiff":this.assignObjectToOutput(t,"ifd0",i);break;case"exif":this.assignObjectToOutput(t,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(t,r,i)}else t.xmp=n}}K(Ru,"type","xmp"),K(Ru,"multiSegment",!0),ve.set("xmp",Ru);class sa{static findAll(t){return sv(t,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(sa.unpackMatch)}static unpackMatch(t){let n=t[1],r=t[2],i=t[3].slice(1,-1);return i=lv(i),new sa(n,r,i)}constructor(t,n,r){this.ns=t,this.name=n,this.value=r}serialize(){return this.value}}class vi{static findAll(t,n,r){if(n!==void 0||r!==void 0){n=n||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var i=new RegExp(`<(${n}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return sv(t,i).map(vi.unpackMatch)}static unpackMatch(t){let n=t[1],r=t[2],i=t[4],o=t[8];return new vi(n,r,i,o)}constructor(t,n,r,i){this.ns=t,this.name=n,this.attrString=r,this.innerXml=i,this.attrs=sa.findAll(r),this.children=vi.findAll(i),this.value=this.children.length===0?lv(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:t,name:n}=this;return t==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return o4(this.children.map(i4));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let t={};for(let n of this.properties)ov(n,t);return this.value!==void 0&&(t.value=this.value),ia(t)}}function ov(e,t){let n=e.serialize();n!==void 0&&(t[e.name]=n)}var i4=e=>e.serialize(),o4=e=>e.length===1?e[0]:e,s4=(e,t)=>t[e]?t[e]:t[e]={};function sv(e,t){let n,r=[];if(!e)return r;for(;(n=t.exec(e))!==null;)r.push(n);return r}function lv(e){if(function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""}(e))return;let t=Number(e);if(!Number.isNaN(t))return t;let n=e.toLowerCase();return n==="true"||n!=="false"&&e.trim()}const av=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],l4=new RegExp(`(<|\\/)(${av.join("|")})`,"g");var a4=Object.freeze({__proto__:null,default:n4,Exifr:er,fileParsers:Xt,segmentParsers:ve,fileReaders:Qt,tagKeys:Oe,tagValues:Lt,tagRevivers:Gn,createDictionary:ye,extendDictionary:Ir,fetchUrlAsArrayBuffer:Tr,readBlobAsArrayBuffer:Or,chunkedProps:bn,otherSegments:Li,segments:Mr,tiffBlocks:he,segmentsAndBlocks:An,tiffExtractables:Dn,inheritables:$i,allFormatters:Rn,Options:Rr,parse:$a,gpsOnlyOptions:Sd,gps:Jy,thumbnailOnlyOptions:xd,thumbnail:ev,thumbnailUrl:tv,orientationOnlyOptions:Cd,orientation:Ed,rotations:kd,get rotateCanvas(){return hr},get rotateCss(){return pr},rotation:nv});let Qp=ra("fs",e=>e.promises);Qt.set("fs",class extends za{async readWhole(){this.chunked=!1,this.fs=await Qp;let e=await this.fs.readFile(this.input);this._swapBuffer(e)}async readChunked(){this.chunked=!0,this.fs=await Qp,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(e,t){this.fh===void 0&&await this.open(),e+t>this.size&&(t=this.size-e);var n=this.subarray(e,t,!0);return await this.fh.read(n.dataView,0,t,e),n}async close(){if(this.fh){let e=this.fh;this.fh=void 0,await e.close()}}});Qt.set("base64",class extends za{constructor(...e){super(...e),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(e,t){let n,r,i=this.input;e===void 0?(e=0,n=0,r=0):(n=4*Math.floor(e/3),r=e-n/4*3),t===void 0&&(t=this.size);let o=e+t,s=n+4*Math.ceil(o/3);i=i.slice(n,s);let l=Math.min(t,this.size-e);if(La){let a=Ra.from(i,"base64").slice(r,r+l);return this.set(a,e,!0)}{let a=this.subarray(e,l,!0),u=atob(i),c=a.toUint8();for(let f=0;f<l;f++)c[f]=u.charCodeAt(r+f);return a}}});class qp extends Fa{static canHandle(t,n){return n===18761||n===19789}extendOptions(t){let{ifd0:n,xmp:r,iptc:i,icc:o}=t;r.enabled&&n.deps.add(700),i.enabled&&n.deps.add(33723),o.enabled&&n.deps.add(34675),n.finalizeFilters()}async parse(){let{tiff:t,xmp:n,iptc:r,icc:i}=this.options;if(t.enabled||n.enabled||r.enabled||i.enabled){let o=Math.max(qc(this.options),this.options.chunkSize);await this.file.ensureChunk(0,o),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(t){if(this.parsers.tiff[t]){let n=this.parsers.tiff[t];this.injectSegment(t,n)}}}K(qp,"type","tiff"),Xt.set("tiff",qp);let u4=ra("zlib");const c4=["ihdr","iccp","text","itxt","exif"];class Zp extends Fa{constructor(...t){super(...t),K(this,"catchError",n=>this.errors.push(n)),K(this,"metaChunks",[]),K(this,"unknownChunks",[])}static canHandle(t,n){return n===35152&&t.getUint32(0)===2303741511&&t.getUint32(4)===218765834}async parse(){let{file:t}=this;await this.findPngChunksInRange(8,t.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(t,n){let{file:r}=this;for(;t<n;){let i=r.getUint32(t),o=r.getUint32(t+4),s=r.getString(t+4,4).toLowerCase(),l=i+4+4+4,a={type:s,offset:t,length:l,start:t+4+4,size:i,marker:o};c4.includes(s)?this.metaChunks.push(a):this.unknownChunks.push(a),t+=l}}parseTextChunks(){let t=this.metaChunks.filter(n=>n.type==="text");for(let n of t){let[r,i]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(r,i)}}injectKeyValToIhdr(t,n){let r=this.parsers.ihdr;r&&r.raw.set(t,n)}findIhdr(){let t=this.metaChunks.find(n=>n.type==="ihdr");t&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",t.chunk)}async findExif(){let t=this.metaChunks.find(n=>n.type==="exif");t&&this.injectSegment("tiff",t.chunk)}async findXmp(){let t=this.metaChunks.filter(n=>n.type==="itxt");for(let n of t)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)}async findIcc(){let t=this.metaChunks.find(l=>l.type==="iccp");if(!t)return;let{chunk:n}=t,r=n.getUint8Array(0,81),i=0;for(;i<80&&r[i]!==0;)i++;let o=i+2,s=n.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",s),na){let l=await u4,a=n.getUint8Array(o);a=l.inflateSync(a),this.injectSegment("icc",a)}}}K(Zp,"type","png"),Xt.set("png",Zp),ye(Oe,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Ir(Oe,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let Jp=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Ir(Oe,"ifd0",Jp),Ir(Oe,"exif",Jp),ye(Lt,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class Lu extends Tt{static canHandle(t,n){return t.getUint8(n+1)===224&&t.getUint32(n+4)===1246120262&&t.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}K(Lu,"type","jfif"),K(Lu,"headerLength",9),ve.set("jfif",Lu),ye(Oe,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class eg extends Tt{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}K(eg,"type","ihdr"),ve.set("ihdr",eg),ye(Oe,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),ye(Lt,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class gl extends Tt{static canHandle(t,n){return t.getUint8(n+1)===226&&t.getUint32(n+4)===1229144927}static findPosition(t,n){let r=super.findPosition(t,n);return r.chunkNumber=t.getUint8(n+16),r.chunkCount=t.getUint8(n+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(t){return function(n){let r=function(i){let o=i[0].constructor,s=0;for(let u of i)s+=u.length;let l=new o(s),a=0;for(let u of i)l.set(u,a),a+=u.length;return l}(n.map(i=>i.chunk.toUint8()));return new qe(r)}(t)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:t}=this;this.chunk.byteLength<84&&Se("ICC header is too short");for(let[n,r]of Object.entries(f4)){n=parseInt(n,10);let i=r(this.chunk,n);i!=="\0\0\0\0"&&t.set(n,i)}}parseTags(){let t,n,r,i,o,{raw:s}=this,l=this.chunk.getUint32(128),a=132,u=this.chunk.byteLength;for(;l--;){if(t=this.chunk.getString(a,4),n=this.chunk.getUint32(a+4),r=this.chunk.getUint32(a+8),i=this.chunk.getString(n,4),n+r>u)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");o=this.parseTag(i,n,r),o!==void 0&&o!=="\0\0\0\0"&&s.set(t,o),a+=12}}parseTag(t,n,r){switch(t){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,r);case"sig ":return this.parseSig(n)}if(!(n+r>this.chunk.byteLength))return this.chunk.getUint8Array(n,r)}parseDesc(t){let n=this.chunk.getUint32(t+8)-1;return dr(this.chunk.getString(t+12,n))}parseText(t,n){return dr(this.chunk.getString(t+8,n-8))}parseSig(t){return dr(this.chunk.getString(t+8,4))}parseMluc(t){let{chunk:n}=this,r=n.getUint32(t+8),i=n.getUint32(t+12),o=t+16,s=[];for(let l=0;l<r;l++){let a=n.getString(o+0,2),u=n.getString(o+2,2),c=n.getUint32(o+4),f=n.getUint32(o+8)+t,d=dr(n.getUnicodeString(f,c));s.push({lang:a,country:u,text:d}),o+=i}return r===1?s[0].text:s}translateValue(t,n){return typeof t=="string"?n[t]||n[t.toLowerCase()]||t:n[t]||t}}K(gl,"type","icc"),K(gl,"multiSegment",!0),K(gl,"headerLength",18);const f4={4:nn,8:function(e,t){return[e.getUint8(t),e.getUint8(t+1)>>4,e.getUint8(t+1)%16].map(n=>n.toString(10)).join(".")},12:nn,16:nn,20:nn,24:function(e,t){const n=e.getUint16(t),r=e.getUint16(t+2)-1,i=e.getUint16(t+4),o=e.getUint16(t+6),s=e.getUint16(t+8),l=e.getUint16(t+10);return new Date(Date.UTC(n,r,i,o,s,l))},36:nn,40:nn,48:nn,52:nn,64:(e,t)=>e.getUint32(t),80:nn};function nn(e,t){return dr(e.getString(t,4))}ve.set("icc",gl),ye(Oe,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const Gs={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},tg={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};ye(Lt,"icc",[[4,Gs],[12,tg],[40,Object.assign({},Gs,tg)],[48,Gs],[80,Gs],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Ks extends Tt{static canHandle(t,n,r){return t.getUint8(n+1)===237&&t.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(t,n,r)!==void 0}static headerLength(t,n,r){let i,o=this.containsIptc8bim(t,n,r);if(o!==void 0)return i=t.getUint8(n+o+7),i%2!=0&&(i+=1),i===0&&(i=4),o+8+i}static containsIptc8bim(t,n,r){for(let i=0;i<r;i++)if(this.isIptcSegmentHead(t,n+i))return i}static isIptcSegmentHead(t,n){return t.getUint8(n)===56&&t.getUint32(n)===943868237&&t.getUint16(n+4)===1028}parse(){let{raw:t}=this,n=this.chunk.byteLength-1,r=!1;for(let i=0;i<n;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){r=!0;let o=this.chunk.getUint16(i+3),s=this.chunk.getUint8(i+2),l=this.chunk.getLatin1String(i+5,o);t.set(s,this.pluralizeValue(t.get(s),l)),i+=4+o}else if(r)break;return this.translate(),this.output}pluralizeValue(t,n){return t!==void 0?t instanceof Array?(t.push(n),t):[t,n]:n}}K(Ks,"type","iptc"),K(Ks,"translateValues",!1),K(Ks,"reviveValues",!1),ve.set("iptc",Ks),ye(Oe,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),ye(Lt,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const qt=FS((e,t)=>({counter:0,widgets:{},graph:{},nodes:[],edges:[],queue:[],gallery:[],onNodesChange:n=>{e(r=>({nodes:Xl(n,r.nodes)}))},onEdgesChange:n=>{e(r=>({edges:C3(n,r.edges)}))},onConnect:n=>{e(r=>on.addConnection(r,n))},onPropChange:(n,r,i)=>{e(o=>{var s;return{graph:{...o.graph,[n]:{...o.graph[n],fields:{...(s=o.graph[n])==null?void 0:s.fields,[r]:i}}}}})},onPersistLocal:()=>{Ok(on.toPersisted(t()))},onAddNode:(n,r,i,o)=>{e(s=>on.addNode(s,n,r,i,o))},onDeleteNode:n=>{e(({graph:{[n]:r,...i},nodes:o})=>({nodes:Xl([{type:"remove",id:n}],o)}))},onDuplicateNode:n=>{e(r=>{const i=r.graph[n],o=r.nodes.find(a=>a.id===n),s=o==null?void 0:o.position,l=s!==void 0?{...s,y:s.y+100}:void 0;return on.addNode(r,r.widgets[i.widget],i,l)})},onSubmit:async()=>{const n=t(),r=on.toPersisted(n),i=await Ek(kk(r,n.widgets,n.clientId));e({promptError:i.error})},onDeleteFromQueue:async n=>{await Ck(n),await t().onQueueUpdate()},onInit:async()=>{setInterval(()=>t().onPersistLocal(),5e3);const n=await Sk();e({widgets:n}),t().onLoadWorkflow(Tk()??{data:{},connections:[]})},onLoadWorkflow:n=>{e(r=>{let i={...r,nodes:[],edges:[],counter:0,graph:{}};for(const[o,s]of Object.entries(n.data)){const l=i.widgets[s.value.widget];l!==void 0?i=on.addNode(i,l,s.value,s.position,parseInt(o)):console.warn(`Unknown widget ${s.value.widget}`)}for(const o of n.connections)i=on.addConnection(i,o);return i},!0)},onSaveWorkflow:()=>{Mk(on.toPersisted(t()))},onNewClientId:n=>{e({clientId:n})},onQueueUpdate:async()=>{e({queue:await d4(t().clientId)})},onNodeInProgress:(n,r)=>{e({nodeInProgress:{id:n,progress:r}})},onImageSave:(n,r)=>{e(i=>({gallery:i.gallery.concat(r.map(o=>({image:o}))),graph:{...i.graph,[n]:{...i.graph[n],images:r}}}))},onPreviewImage:n=>{e({previewedImageIndex:n})},onPreviewImageNavigate:n=>{e(r=>{if(r.previewedImageIndex===void 0)return{};const i=n?r.previewedImageIndex-1:r.previewedImageIndex+1;return i<0||i===r.gallery.length?{}:{previewedImageIndex:i}})},onHideImagePreview:()=>{e({previewedImageIndex:void 0})},onLoadImageWorkflow:n=>{a4.parse(Jn(`/view/${n}`)).then(r=>{t().onLoadWorkflow(JSON.parse(r.workflow))})}})),on={getValidConnections(e){return e.edges.flatMap(t=>t.sourceHandle!==void 0&&t.sourceHandle!==null&&t.targetHandle!==void 0&&t.targetHandle!==null?[{source:t.source,sourceHandle:t.sourceHandle,target:t.target,targetHandle:t.targetHandle}]:[])},addNode(e,t,n,r,i){const o=i!==void 0?Math.max(i,e.counter+1):e.counter+1,s=o.toString(),l=e.nodes.map(u=>u.zIndex??0).concat([0]).reduce((u,c)=>Math.max(u,c)),a={id:s,data:t,position:r??{x:0,y:0},type:Yy,zIndex:l+1};return{...e,nodes:Xl([{type:"add",item:a}],e.nodes),graph:{...e.graph,[s]:n??vk.fromWidget(t)},counter:o}},addConnection(e,t){return{...e,edges:ey(t,e.edges)}},toPersisted(e){const t={};for(const n of e.nodes){const r=e.graph[n.id];r!==void 0&&(t[n.id]={value:r,position:n.position})}return{data:t,connections:on.getValidConnections(e)}}};async function d4(e){const t=await xk();return t.queue_running.concat(t.queue_pending).filter(([r,i,o,s])=>s.client_id===e).map(([r,i,o])=>{var u;const s=Object.values(o).flatMap(c=>c.class_type==="CLIPTextEncode"&&c.inputs.text!==void 0?[c.inputs.text]:[]),l=Object.values(o).find(c=>c.class_type.startsWith("CheckpointLoader")),a=(u=l==null?void 0:l.inputs)==null?void 0:u.ckpt_name;return{id:i,prompts:s,model:a}})}var _d={},Fi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEventSourceSupported=e.isReactNative=e.ReadyState=e.UNPARSABLE_JSON_OBJECT=e.DEFAULT_RECONNECT_INTERVAL_MS=e.DEFAULT_RECONNECT_LIMIT=e.SOCKET_IO_PING_CODE=e.SOCKET_IO_PATH=e.SOCKET_IO_PING_INTERVAL=e.DEFAULT_EVENT_SOURCE_OPTIONS=e.EMPTY_EVENT_HANDLERS=e.DEFAULT_OPTIONS=void 0;var t=1,n=1e3*t;e.DEFAULT_OPTIONS={},e.EMPTY_EVENT_HANDLERS={},e.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:e.EMPTY_EVENT_HANDLERS},e.SOCKET_IO_PING_INTERVAL=25*n,e.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",e.SOCKET_IO_PING_CODE="2",e.DEFAULT_RECONNECT_LIMIT=20,e.DEFAULT_RECONNECT_INTERVAL_MS=5e3,e.UNPARSABLE_JSON_OBJECT={},function(i){i[i.UNINSTANTIATED=-1]="UNINSTANTIATED",i[i.CONNECTING=0]="CONNECTING",i[i.OPEN=1]="OPEN",i[i.CLOSING=2]="CLOSING",i[i.CLOSED=3]="CLOSED"}(e.ReadyState||(e.ReadyState={}));var r=function(){try{return"EventSource"in globalThis}catch{return!1}};e.isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative",e.isEventSourceSupported=!e.isReactNative&&r()})(Fi);var Ua={},Ba={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetWebSockets=e.sharedWebSockets=void 0,e.sharedWebSockets={};var t=function(n){if(n&&e.sharedWebSockets.hasOwnProperty(n))delete e.sharedWebSockets[n];else for(var r in e.sharedWebSockets)e.sharedWebSockets.hasOwnProperty(r)&&delete e.sharedWebSockets[r]};e.resetWebSockets=t})(Ba);var Ha={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.setUpSocketIOPing=Kt.appendQueryParams=Kt.parseSocketIOUrl=void 0;var la=Fi,h4=function(e){if(e){var t=/^https|wss/.test(e),n=e.replace(/^(https?|wss?)(:\/\/)?/,""),r=n.replace(/\/$/,""),i=t?"wss":"ws";return"".concat(i,"://").concat(r).concat(la.SOCKET_IO_PATH)}else if(e===""){var t=/^https/.test(window.location.protocol),i=t?"wss":"ws",o=window.location.port?":".concat(window.location.port):"";return"".concat(i,"://").concat(window.location.hostname).concat(o).concat(la.SOCKET_IO_PATH)}return e};Kt.parseSocketIOUrl=h4;var p4=function(e,t){t===void 0&&(t={});var n=/\?([\w]+=[\w]+)/,r=n.test(e),i="".concat(Object.entries(t).reduce(function(o,s){var l=s[0],a=s[1];return o+"".concat(l,"=").concat(a,"&")},"").slice(0,-1));return"".concat(e).concat(r?"&":"?").concat(i)};Kt.appendQueryParams=p4;var g4=function(e,t){t===void 0&&(t=la.SOCKET_IO_PING_INTERVAL);var n=function(){return e(la.SOCKET_IO_PING_CODE)};return window.setInterval(n,t)};Kt.setUpSocketIOPing=g4;var br={},Va={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetSubscribers=e.removeSubscriber=e.addSubscriber=e.hasSubscribers=e.getSubscribers=void 0;var t={},n=[],r=function(a){return(0,e.hasSubscribers)(a)?Array.from(t[a]):n};e.getSubscribers=r;var i=function(a){var u;return((u=t[a])===null||u===void 0?void 0:u.size)>0};e.hasSubscribers=i;var o=function(a,u){t[a]=t[a]||new Set,t[a].add(u)};e.addSubscriber=o;var s=function(a,u){t[a].delete(u)};e.removeSubscriber=s;var l=function(a){if(a&&t.hasOwnProperty(a))delete t[a];else for(var u in t)t.hasOwnProperty(u)&&delete t[u]};e.resetSubscribers=l})(Va);Object.defineProperty(br,"__esModule",{value:!0});br.resetGlobalState=br.assertIsWebSocket=void 0;var m4=Ba,y4=Va;function v4(e,t){if(!t&&!(e instanceof WebSocket))throw new Error("")}br.assertIsWebSocket=v4;function w4(e){(0,y4.resetSubscribers)(e),(0,m4.resetWebSockets)(e)}br.resetGlobalState=w4;var aa=ze&&ze.__assign||function(){return aa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},aa.apply(this,arguments)};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.attachListeners=void 0;var S4=Kt,Vt=Fi,x4=br,C4=function(e,t,n){e.onmessage=function(r){t.current.onMessage&&t.current.onMessage(r),!(typeof t.current.filter=="function"&&t.current.filter(r)!==!0)&&n(r)}},E4=function(e,t,n,r){e.onopen=function(i){t.current.onOpen&&t.current.onOpen(i),r.current=0,n(Vt.ReadyState.OPEN)}},k4=function(e,t,n,r,i){if(Vt.isEventSourceSupported&&e instanceof EventSource)return function(){};(0,x4.assertIsWebSocket)(e,t.current.skipAssert);var o;return e.onclose=function(s){var l;if(t.current.onClose&&t.current.onClose(s),n(Vt.ReadyState.CLOSED),t.current.shouldReconnect&&t.current.shouldReconnect(s)){var a=(l=t.current.reconnectAttempts)!==null&&l!==void 0?l:Vt.DEFAULT_RECONNECT_LIMIT;if(i.current<a){var u=typeof t.current.reconnectInterval=="function"?t.current.reconnectInterval(i.current):t.current.reconnectInterval;o=window.setTimeout(function(){i.current++,r()},u??Vt.DEFAULT_RECONNECT_INTERVAL_MS)}else t.current.onReconnectStop&&t.current.onReconnectStop(a),console.warn("Max reconnect attempts of ".concat(a," exceeded"))}},function(){return o&&window.clearTimeout(o)}},_4=function(e,t,n,r,i){var o;return e.onerror=function(s){var l;if(t.current.onError&&t.current.onError(s),Vt.isEventSourceSupported&&e instanceof EventSource&&(t.current.onClose&&t.current.onClose(aa(aa({},s),{code:1006,reason:"An error occurred with the EventSource: ".concat(s),wasClean:!1})),n(Vt.ReadyState.CLOSED),e.close()),t.current.retryOnError)if(i.current<((l=t.current.reconnectAttempts)!==null&&l!==void 0?l:Vt.DEFAULT_RECONNECT_LIMIT)){var a=typeof t.current.reconnectInterval=="function"?t.current.reconnectInterval(i.current):t.current.reconnectInterval;o=window.setTimeout(function(){i.current++,r()},a??Vt.DEFAULT_RECONNECT_INTERVAL_MS)}else t.current.onReconnectStop&&t.current.onReconnectStop(t.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(t.current.reconnectAttempts," exceeded"))},function(){return o&&window.clearTimeout(o)}},N4=function(e,t,n,r,i,o){var s=t.setLastMessage,l=t.setReadyState,a,u,c;return n.current.fromSocketIO&&(a=(0,S4.setUpSocketIOPing)(o)),C4(e,n,s),E4(e,n,l,i),u=k4(e,n,l,r,i),c=_4(e,n,l,r,i),function(){l(Vt.ReadyState.CLOSING),u(),c(),e.close(),a&&clearInterval(a)}};Ha.attachListeners=N4;var Wa={},ua=ze&&ze.__assign||function(){return ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ua.apply(this,arguments)};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.attachSharedListeners=void 0;var P4=Ba,wr=Fi,ss=Va,T4=Kt,O4=function(e,t){e.onmessage=function(n){(0,ss.getSubscribers)(t).forEach(function(r){r.optionsRef.current.onMessage&&r.optionsRef.current.onMessage(n),!(typeof r.optionsRef.current.filter=="function"&&r.optionsRef.current.filter(n)!==!0)&&r.setLastMessage(n)})}},I4=function(e,t){e.onopen=function(n){(0,ss.getSubscribers)(t).forEach(function(r){r.reconnectCount.current=0,r.optionsRef.current.onOpen&&r.optionsRef.current.onOpen(n),r.setReadyState(wr.ReadyState.OPEN)})}},M4=function(e,t){e instanceof WebSocket&&(e.onclose=function(n){(0,ss.getSubscribers)(t).forEach(function(r){r.optionsRef.current.onClose&&r.optionsRef.current.onClose(n),r.setReadyState(wr.ReadyState.CLOSED)}),delete P4.sharedWebSockets[t],(0,ss.getSubscribers)(t).forEach(function(r){var i;if(r.optionsRef.current.shouldReconnect&&r.optionsRef.current.shouldReconnect(n)){var o=(i=r.optionsRef.current.reconnectAttempts)!==null&&i!==void 0?i:wr.DEFAULT_RECONNECT_LIMIT;if(r.reconnectCount.current<o){var s=typeof r.optionsRef.current.reconnectInterval=="function"?r.optionsRef.current.reconnectInterval(r.reconnectCount.current):r.optionsRef.current.reconnectInterval;setTimeout(function(){r.reconnectCount.current++,r.reconnect.current()},s??wr.DEFAULT_RECONNECT_INTERVAL_MS)}else r.optionsRef.current.onReconnectStop&&r.optionsRef.current.onReconnectStop(r.optionsRef.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(o," exceeded"))}})})},b4=function(e,t){e.onerror=function(n){(0,ss.getSubscribers)(t).forEach(function(r){r.optionsRef.current.onError&&r.optionsRef.current.onError(n),wr.isEventSourceSupported&&e instanceof EventSource&&(r.optionsRef.current.onClose&&r.optionsRef.current.onClose(ua(ua({},n),{code:1006,reason:"An error occurred with the EventSource: ".concat(n),wasClean:!1})),r.setReadyState(wr.ReadyState.CLOSED))}),wr.isEventSourceSupported&&e instanceof EventSource&&e.close()}},A4=function(e,t,n,r){var i;return n.current.fromSocketIO&&(i=(0,T4.setUpSocketIOPing)(r)),O4(e,t),M4(e,t),I4(e,t),b4(e,t),function(){i&&clearInterval(i)}};Wa.attachSharedListeners=A4;Object.defineProperty(Ua,"__esModule",{value:!0});Ua.createOrJoinSocket=void 0;var _n=Ba,mo=Fi,D4=Ha,R4=Wa,nf=Va,L4=function(e,t,n,r,i){return function(){if((0,nf.removeSubscriber)(e,t),!(0,nf.hasSubscribers)(e)){try{var o=_n.sharedWebSockets[e];o instanceof WebSocket&&(o.onclose=function(s){n.current.onClose&&n.current.onClose(s),r(mo.ReadyState.CLOSED)}),o.close()}catch{}i&&i(),delete _n.sharedWebSockets[e]}}},$4=function(e,t,n,r,i,o,s,l){if(!mo.isEventSourceSupported&&r.current.eventSourceOptions)throw mo.isReactNative?new Error("EventSource is not supported in ReactNative"):new Error("EventSource is not supported");if(r.current.share){var a=null;_n.sharedWebSockets[t]===void 0?(_n.sharedWebSockets[t]=r.current.eventSourceOptions?new EventSource(t,r.current.eventSourceOptions):new WebSocket(t,r.current.protocols),e.current=_n.sharedWebSockets[t],n(mo.ReadyState.CONNECTING),a=(0,R4.attachSharedListeners)(_n.sharedWebSockets[t],t,r,l)):(e.current=_n.sharedWebSockets[t],n(_n.sharedWebSockets[t].readyState));var u={setLastMessage:i,setReadyState:n,optionsRef:r,reconnectCount:s,reconnect:o};return(0,nf.addSubscriber)(t,u),L4(t,u,r,n,a)}else{if(e.current=r.current.eventSourceOptions?new EventSource(t,r.current.eventSourceOptions):new WebSocket(t,r.current.protocols),n(mo.ReadyState.CONNECTING),!e.current)throw new Error("WebSocket failed to be created");return(0,D4.attachListeners)(e.current,{setLastMessage:i,setReadyState:n},r,o.current,s,l)}};Ua.createOrJoinSocket=$4;var ja={},F4=ze&&ze.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})},z4=ze&&ze.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(ja,"__esModule",{value:!0});ja.getUrl=void 0;var ng=Kt,U4=function(e,t){return F4(void 0,void 0,void 0,function(){var n,r,i;return z4(this,function(o){switch(o.label){case 0:return typeof e!="function"?[3,2]:[4,e()];case 1:return n=o.sent(),[3,3];case 2:n=e,o.label=3;case 3:return r=t.current.fromSocketIO?(0,ng.parseSocketIOUrl)(n):n,i=t.current.queryParams?(0,ng.appendQueryParams)(r,t.current.queryParams):r,[2,i]}})})};ja.getUrl=U4;var uv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.websocketWrapper=void 0;var t=function(n,r){return new Proxy(n,{get:function(i,o){var s=i[o];return o==="reconnect"?r:typeof s=="function"?(console.error("Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket."),function(){}):s},set:function(i,o,s){return/^on/.test(o)?(console.warn("The websocket's event handlers should be defined through the options object passed into useWebSocket."),!1):(i[o]=s,!0)}})};e.websocketWrapper=t,e.default=e.websocketWrapper})(uv);var si=ze&&ze.__assign||function(){return si=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},si.apply(this,arguments)},B4=ze&&ze.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})},H4=ze&&ze.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},V4=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_d,"__esModule",{value:!0});var cv=_d.useWebSocket=void 0,He=b,rg=Io,rn=Fi,W4=Ua,j4=ja,G4=V4(uv),ig=br,K4=function(e,t,n){t===void 0&&(t=rn.DEFAULT_OPTIONS),n===void 0&&(n=!0);var r=(0,He.useState)(null),i=r[0],o=r[1],s=(0,He.useState)({}),l=s[0],a=s[1],u=(0,He.useMemo)(function(){if(i)try{return JSON.parse(i.data)}catch{return rn.UNPARSABLE_JSON_OBJECT}return null},[i]),c=(0,He.useRef)(null),f=(0,He.useRef)(null),d=(0,He.useRef)(function(){}),g=(0,He.useRef)(0),S=(0,He.useRef)([]),w=(0,He.useRef)(null),P=(0,He.useRef)(t);P.current=t;var h=c.current&&l[c.current]!==void 0?l[c.current]:e!==null&&n===!0?rn.ReadyState.CONNECTING:rn.ReadyState.UNINSTANTIATED,p=t.queryParams?JSON.stringify(t.queryParams):null,m=(0,He.useCallback)(function(E,N){var M;if(N===void 0&&(N=!0),rn.isEventSourceSupported&&f.current instanceof EventSource){console.warn("Unable to send a message from an eventSource");return}((M=f.current)===null||M===void 0?void 0:M.readyState)===rn.ReadyState.OPEN?((0,ig.assertIsWebSocket)(f.current,P.current.skipAssert),f.current.send(E)):N&&S.current.push(E)},[]),v=(0,He.useCallback)(function(E,N){N===void 0&&(N=!0),m(JSON.stringify(E),N)},[m]),k=(0,He.useCallback)(function(){return P.current.share!==!0||rn.isEventSourceSupported&&f.current instanceof EventSource?f.current:(w.current===null&&f.current&&((0,ig.assertIsWebSocket)(f.current,P.current.skipAssert),w.current=(0,G4.default)(f.current,d)),w.current)},[]);return(0,He.useEffect)(function(){if(e!==null&&n===!0){var E,N=!1,M=!0,D=function(){return B4(void 0,void 0,void 0,function(){var L,z,R;return H4(this,function(B){switch(B.label){case 0:return L=c,[4,(0,j4.getUrl)(e,P)];case 1:return L.current=B.sent(),z=function(C){N||(0,rg.flushSync)(function(){return o(C)})},R=function(C){N||(0,rg.flushSync)(function(){return a(function(I){var T;return si(si({},I),c.current&&(T={},T[c.current]=C,T))})})},M&&(E=(0,W4.createOrJoinSocket)(f,c.current,R,P,z,d,g,m)),[2]}})})};return d.current=function(){N||(w.current&&(w.current=null),E==null||E(),D())},D(),function(){N=!0,M=!1,w.current&&(w.current=null),E==null||E(),o(null)}}else(e===null||n===!1)&&(g.current=0,a(function(L){var z;return si(si({},L),c.current&&(z={},z[c.current]=rn.ReadyState.CLOSED,z))}))},[e,n,p,m]),(0,He.useEffect)(function(){h===rn.ReadyState.OPEN&&S.current.splice(0).forEach(function(E){m(E)})},[h]),{sendMessage:m,sendJsonMessage:v,lastMessage:i,lastJsonMessage:u,readyState:h,getWebSocket:k}};cv=_d.useWebSocket=K4;const X4={[Yy]:TN};function Y4(){return Y("div",{style:{width:"100vw",height:"100vh"},children:[_(Q4,{}),_(q4,{})]})}function Q4(){const{nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onConnect:i,onInit:o}=qt(s=>({nodes:s.nodes,edges:s.edges,onNodesChange:s.onNodesChange,onEdgesChange:s.onEdgesChange,onConnect:s.onConnect,onInit:s.onInit}),fe);return Y(Ry,{nodes:e,edges:t,fitView:!0,nodeTypes:X4,deleteKeyCode:["Delete"],disableKeyboardA11y:!0,onNodesChange:n,onEdgesChange:r,onConnect:i,onInit:()=>{o()},children:[_(gk,{variant:yt.Dots}),_(uk,{}),Y(od,{position:"bottom-center",children:[_(ON,{}),_(DN,{})]})]})}function q4(){const{clientId:e,nodeIdInProgress:t,onNewClientId:n,onQueueUpdate:r,onNodeInProgress:i,onImageSave:o}=qt(s=>{var l;return{clientId:s.clientId,nodeIdInProgress:(l=s.nodeInProgress)==null?void 0:l.id,onNewClientId:s.onNewClientId,onQueueUpdate:s.onQueueUpdate,onNodeInProgress:s.onNodeInProgress,onImageSave:s.onImageSave}},fe);return cv(`ws://${Xc.host}/ws`,{onMessage:s=>{const l=JSON.parse(s.data);if(Vs.isStatus(l))l.data.sid!==void 0&&l.data.sid!==e&&n(l.data.sid),r();else if(Vs.isExecuting(l))l.data.node!==void 0?i(l.data.node,0):t!==void 0&&i(t,0);else if(Vs.isProgress(l))t!==void 0&&i(t,l.data.value/l.data.max);else if(Vs.isExecuted(l)){const a=l.data.output.images;Array.isArray(a)&&o(l.data.node,a)}}}),_(ke,{})}$u.createRoot(document.getElementById("root")).render(_(s1.StrictMode,{children:_(Y4,{})}));
